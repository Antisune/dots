(function(e){function t(t){for(var o,c,s=t[0],i=t[1],u=t[2],d=0,p=[];d<s.length;d++)c=s[d],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&p.push(n[c][0]),n[c]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);l&&l(t);while(p.length)p.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],o=!0,s=1;s<r.length;s++){var i=r[s];0!==n[i]&&(o=!1)}o&&(a.splice(t--,1),e=c(c.s=r[0]))}return e}var o={},n={newsearchbox:0},a=[];function c(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=o,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(r,o,function(t){return e[t]}.bind(null,o));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/dist/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=i;a.push([2,"chunk-vendors","chunk-common"]),r()})({2:function(e,t,r){e.exports=r("31ed")},"31ed":function(e,t,r){"use strict";r.r(t);r("7514"),r("cadf"),r("551c"),r("f751"),r("097d");var o=r("c5e1"),n=r.n(o),a=r("7259"),c=r.n(a),s=r("8bbf"),i=r.n(s),u=r("eab7"),d=r("5880"),p=r.n(d),h=(r("a481"),r("1c01"),r("58b2"),r("8e6e"),r("f3e2"),r("d25f"),r("ac6a"),r("456d"),r("55dd"),r("2caf"),r("96cf"),r("3b8d")),y=r("75fc"),m=r("bd86"),f=r("d9a4"),g={ALLPRODUCTS:{key:"".concat(a["GlobalVar"].cacheKeys.content,"_ALLPRODUCTS"),url:"/mse/getAllProducts",source:"ds_allproducts"},PRODUCTS:"/mse/getproducts",AUTOSUGGEST:"/search/autosuggest"};function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(r,!0).forEach((function(t){Object(m["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S=Object(f["a"])({baseURL:c.a.UrlUtility.getFullServicesPathV4("")}),T=S.get,k={cached:!0},P=function(e,t,r){return T(g.ALLPRODUCTS.url,e,b({},t,{},k),r)},w=function(e,t,r){return T(g.PRODUCTS,e,t,r)},O=function(e,t,r){return T(g.AUTOSUGGEST,e,t,r)};function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(r,!0).forEach((function(t){Object(m["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j,D=c.a.Common.getRealmsDetail(),R={},E={showNum:1e4,documentsHit:[],emptyMsg:"no documents found|Unable to find any suggestions that match the current query",spellCheckMsg:"spell check result tip|Showing results for {0} instead of {1}",currentDocument:null},H={setCurrentDocument:function(e,t){e.currentDocument=I({},t)},setDocumentsHit:function(e,t){e.documentsHit=t?Object(y["a"])(t):[]}},x={searchDocumentsSync:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t,r){var o,n,a,s,i,u,l,d,p,h,m,f,g,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o=t.commit,n=t.rootState,a=c.a.CultureUtility.getCurrentLanguage(),s=c.a.CultureUtility.getCurrentCountry(),i=n.currentRealm,u=D[i].brands.join(","),l=c.a.RealmType[c.a.Common.getCurrentRealm()].toUpperCase(),i===c.a.RealmType.Pcg)for(d=D[c.a.RealmType.Smart].brands,p=0;p<d.length;p++)u+=","+d[p];if(i===c.a.RealmType.Smart)for(h=D[c.a.RealmType.Pcg].brands,p=0;p<h.length;p++)u+=","+h[p];m={query:r,l:a,Countries:s,PageSize:5,Brand:u,Realm:l},f=function(e,t){var r=e.Popularity||0,o=t.Popularity||0;return r<o?1:r>o?-1:(e.Name||"").localeCompare(t.Name||"")},g="".concat(r,"-").concat(a,"-",5,"-").concat(u),R[g]?o("setDocumentsHit",R[g]):(v=r,O(m).then((function(e){if(v===n.keywords){var t=e||"";if(Array.isArray(t)){for(var r=[],a=[],c=0;c<t.length;c++){var s=t[c];"Suggestion"===s.Type&&s.ID!==n.keywords?r.push(s):"Suggestion"!==s.Type&&a.push(s)}r=r.sort(f).slice(0,3),a=a.sort(f).slice(0,3),t=[].concat(Object(y["a"])(a),Object(y["a"])(r))}R[g]=t,o("setDocumentsHit",t)}else console.log("don't update documents search, keywords has changed from : ".concat(v," to ").concat(n.keywords))})).catch((function(e){console.error("Failed to search documents",e),o("setDocumentsHit",[])})));case 12:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),setCurrentDocument:function(e,t){var r=e.commit;r("setCurrentDocument",t)},setIsSecondSearch:function(e){var t=e.commit,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t("setIsSecondSearch",r,{root:!0})},setSelectedItemType:function(e,t){var r=e.commit;r("setSelectedItemType",t,{root:!0})},setSelectedItemIndex:function(e,t){var r=e.commit;r("setSelectedItemIndex",t,{root:!0})},setEnterEvent:function(e,t){var r=e.commit;r("enterEvent",!!t,{root:!0})}},B={hitCount:function(e,t,r,o){return(e.documentsHit||[]).length},localEmptyMsg:function(e,t,r,o){return c.a.Translator.translate(e.emptyMsg)},localSpellCheckMsg:function(e,t,r,o){return c.a.Translator.translate(e.spellCheckMsg)}},N={namespaced:!0,state:E,mutations:H,actions:x,getters:B},L=(r("759f"),r("57e7"),r("28a5"),r("3b2b"),l.Common.getCurrentRealm()),M=l.Common.getRealmsDetail();(function(e){e[e["Home"]=0]="Home",e[e["Solr"]=1]="Solr"})(j||(j={}));function A(e){var t=function(e){var t;for(t in e)return!1;return!0};if(Array.isArray(e)){for(var r=JSON.parse(JSON.stringify(e)),o=0;o<r.length;o++)!t(r[o])&&r[o].hasOwnProperty("Type")&&(r[o].Type=a["Content"].mapProductType(r[o].Type),r[o].ParentID||(r[o].Class=a["GlobalVar"].product.getClassMapping(r[o].Id)));return r}return e}function _(e){try{var t=[],r=[];r=e.filter((function(e){return"MOTO"===e.Brand&&e.Type!=a["ProductType"].Group}));var o=[];return o=e.filter((function(e){return"MOTO"!==e.Brand&&e.Type!=a["ProductType"].Group&&e.Type!=a["ProductType"].Series})),t=[].concat(Object(y["a"])(r),Object(y["a"])(o)),t}catch(n){return console.log("error:",n),e}}function F(e,t){e=e.toLowerCase();var r=t.filter((function(t){var r=t.Name?t.Name.toLowerCase():"",o=U(r,e);return o})),o=q(r,e);return o}var U=function(e,t){try{var r=!1;if(e&&t)for(var o=t.replace(/[()]/g,"").toLowerCase().split(" "),n=e.replace(/[()]/g,"").split(/\s+/),a=n.join("").toLowerCase(),c=0;c<o.length;c++){var s=a.indexOf(o[c]);if(!(s>=0))return r=!1,r;r=!0}return r}catch(i){return console.log("searchLikeProduct error:",i),!1}},G=function(e,t){var r=e.Popularity||0,o=t.Popularity||0;return r<o?1:r>o?-1:(e.Name||"").localeCompare(t.Name||"")},q=function(e,t){if(!e)return[];var r=["CCC3161D-9F83-4023-B8D2-4FC3A1CC864C","89DBD35C-2320-452A-B36C-2B767E11E17C","1ECCF386-4DA8-47BF-A4B0-ED844517230F","080BE9AD-DB51-41F0-9274-DE96D59D9403","4D8EF1F1-5B98-4705-8B72-667285D26820","54F7A8ED-10EB-4CD3-A493-5AF5FF637096","D8FC0B87-A453-46DE-9937-6B1C8B2587E6","25E2DAF8-D3DF-4BD3-B545-FA4386C52D2C"],o=[],n={},c={};e.forEach((function(e,t){var r=e.Brand?e.Brand:"unknown";c.hasOwnProperty(r)||(c[r]=[]),c[r].push(e),c.hasOwnProperty("accessory")||(c["accessory"]=[]),e.isAccessory&&c["accessory"].push(e),n.hasOwnProperty(r)||(n[r]=[0,0]),e.Type===a["ProductType"].SubSeries?n[r][0]=1:e.Type===a["ProductType"].MachineType&&(n[r][1]=1)}));var s=[],i=new RegExp("\\/".concat(t,"$"),"i"),u=new RegExp("\\/".concat(t,"\\/"),"i"),d=function(e){if(c.hasOwnProperty(e)&&("EBG"===e&&(s=$.grep(c[e],(function(t){return!(1===n[e][0]&&1===n[e][1]&&r.indexOf(t["ParentID"])>=0)})),c[e]=s),M[l.RealmType.Pcg].brands.indexOf(e)>-1)){var t=[],o=[],d=[];c[e].forEach((function(r){var c=!1;i.test(r["Id"])&&(t.push(r),c=!0),u.test(r["Id"])&&(o.push(r),c=!0),c||(1===n[e][0]?r["Type"]===a["ProductType"].SubSeries&&d.push(r):r["Type"]===a["ProductType"].MachineType&&d.push(r))}));var p=o.filter((function(e){var r=t.some((function(t){return e.Id.indexOf(t.Id)>-1}));return!r})),h=t.sort((function(e,t){return e.Name.localeCompare(t.Name)})),m=p.sort((function(e,t){return e.Name.localeCompare(t.Name)})),f=d.sort((function(e,t){return e.Name.localeCompare(t.Name)}));c[e]=[].concat(Object(y["a"])(h),Object(y["a"])(m),Object(y["a"])(f))}};for(var p in c)d(p);var h=[];for(var m in c){if(0===L||2===L||5===L){var f=!!c[m]&&c[m].length;M[l.RealmType.Dcg].brands.indexOf(m)>-1&&f?(h.push("dcg"),o.push({Name:l.Translator.translate("dcg products|DCG Products"),Type:a["ProductType"].BrandGroup})):M[l.RealmType.Mbg].brands.indexOf(m)>-1&&f?(h.push("mbg"),o.push({Name:l.Translator.translate("mbg products|MBG Products"),Type:a["ProductType"].BrandGroup})):M[l.RealmType.Smart].brands.indexOf(m)>-1&&f?(h.push("smart"),o.push({Name:l.Translator.translate("smart products|Smart Products"),Type:a["ProductType"].BrandGroup})):M[l.RealmType.Moto].brands.indexOf(m)>-1&&f&&(h.push("moto"),o.push({Name:l.Translator.translate("moto products|Moto Products"),Type:a["ProductType"].BrandGroup}))}"accessory"===m&&f&&(h.push("accessory"),o.push({Name:l.Translator.translate("accessory products|Accessory Products"),Type:-1}));var g=c[m].sort(G);o=[].concat(Object(y["a"])(o),Object(y["a"])(g))}if(L===a["RealmType"].All||L===a["RealmType"].Pcg||L===a["RealmType"].Smart){var v=new Array,b=o.filter((function(e){return M[l.RealmType.Pcg].brands.indexOf(e.Brand)>-1}));b&&b.length&&v.push({Name:l.Translator.translate("pcg products|PCG Products"),Type:a["ProductType"].BrandGroup});var S=b.sort(G);b=[].concat(v,Object(y["a"])(S));var T=o.filter((function(e){return M[l.RealmType.Pcg].brands.indexOf(e.Brand)<0}));o=[].concat(Object(y["a"])(b),Object(y["a"])(T))}return o};function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(r,!0).forEach((function(t){Object(m["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var W,J,z,Y={},Z={allProducts:[],showNum:1e4,productsHit:[],emptyMsg:"the first search no result|No product information was searched, please click the Enter key or click search button and search again.",secondEmptyMsg:"no products found|unable to find any products that match the current query",currentProduct:null},Q={setCurrentProduct:function(e,t){e.currentProduct=V({},t)},setAllProducts:function(e,t){e.allProducts=t?Object(y["a"])(t):[]},setProductsHit:function(e,t){e.productsHit=t?Object(y["a"])(t):[]}},X={init:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t,r){var o,n,a,s,i,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o=t.commit,n=t.state,a=n.allProducts?n.allProducts.length:0,a){e.next=11;break}return e.next=5,P(r).catch((function(e){return console.error("Failed to get all products",e),null}));case 5:if(s=e.sent,s){e.next=8;break}return e.abrupt("return");case 8:i=[],2==Object.keys(s).length&&s.hasOwnProperty("content")&&s.hasOwnProperty("originLength")&&(u=c.a.Common.lz4Decode(s),i=_(A(u))),o("setAllProducts",i);case 11:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),searchProductInLocal:function(e,t){var r=e.state,o=e.commit;e.rootState;if(t){var n=F(t,r.allProducts);o("setProductsHit",n)}},searchProductSync:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t,r){var o,n,s,i,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o=t.commit,!r){e.next=22;break}if(n=c.a.CultureUtility.getCurrentCountry(),s=c.a.CultureUtility.getCurrentLanguage(),i="".concat(r,"-").concat(n,"-").concat(s),!Y[i]){e.next=9;break}o("setProductsHit",Y[i]),e.next=22;break;case 9:return e.next=11,w({productId:r}).catch((function(e){return console.error("Failed to get all products",e),[]}));case 11:if(u=e.sent,!Array.isArray(u)||!u.length){e.next=20;break}return l=c.a.Common.getCurrentRealm(),u=A(u).filter((function(e){if(e.isAccessory&&e.Name)return!0;if(/unknown/i.test(e.Brand))return!1;if(e.Id&&!/\//i.test(e.Id))return!1;if(!e.Name&&("undefined"===typeof e.IsSupported||e.IsSupported))return!1;if((!e.Serial||!e.Serial.replace(/\./g,""))&&!1===e.IsSupported)return!1;if(l===a["RealmType"].All||l===a["RealmType"].Dcg){if(!e.Id&&!e.Brand&&!e.Serial&&!e.ParentID&&e.Type===c.a.ProductType.Serial)return!0;if("undefined"!==typeof e.IsSupported&&!e.IsSupported&&!e.Brand)return!0}return!0})),Y[i]=u,o("setProductsHit",u),e.abrupt("return",u);case 20:return o("setProductsHit",[]),e.abrupt("return",[]);case 22:return e.abrupt("return",[]);case 23:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),setIsSecondSearch:function(e,t){var r=e.commit;r("setIsSecondSearch",t,{root:!0})},setEnterEvent:function(e,t){var r=e.commit;r("enterEvent",!!t,{root:!0})}},ee={hitCount:function(e,t,r,o){return(e.productsHit||[]).length},localEmptyMsg:function(e,t,r,o){return c.a.Translator.translate(e.emptyMsg)},localSecondEmptyMsg:function(e,t,r,o){return c.a.Translator.translate(e.secondEmptyMsg)}},te={namespaced:!0,state:Z,mutations:Q,actions:X,getters:ee};(function(e){e[e["Home"]=0]="Home",e[e["Solr"]=1]="Solr"})(W||(W={})),function(e){e[e["Hybrid"]=0]="Hybrid",e[e["Normal"]=1]="Normal"}(J||(J={})),function(e){e[e["Product"]=0]="Product",e[e["Document"]=1]="Document"}(z||(z={}));var re=a["DTM"].Lmd,oe={keywords:"",searchPosition:W.Solr,linkTrackType:re.linkTrackTypeValue(c.a.LinkTrackType.HomeSearchProducts),currentRealm:a["Common"].getCurrentRealm(),selectedItemIndex:0,selectedItemType:z.Product,requestIndex:0,currentRequestStatus:!1,isSecondSearch:!1,enterEvent:!1,showResultTab:!0},ne={setOriState:function(e,t){e.keywords=t.keywords||"",e.searchPosition=t.searchPosition,e.linkTrackType=t.linkTrackType},setKeywords:function(e,t){e.keywords=t},setIsSecondSearch:function(e,t){e.isSecondSearch=!!t},setEnterEvent:function(e,t){e.enterEvent=!!t},setSelectedItemType:function(e,t){e.selectedItemType=t},setSelectedItemIndex:function(e,t){e.selectedItemIndex=t},setCurrentRequestStatus:function(e,t){e.currentRequestStatus=!!t}},ae={initOriRootState:function(e,t){var r=e.commit;r("setOriState",t)},setKeywords:function(e,t){var r=e.commit,o=t?t.replace(/(^\s+)|(\s+$)/g,""):"";r("setKeywords",o)},setIsSecondSearch:function(e,t){var r=e.commit;r("setIsSecondSearch",t)},setEnterEvent:function(e,t){var r=e.commit;r("setEnterEvent",!!t)},setSelectedItemType:function(e,t){var r=e.commit;r("setSelectedItemType",t)},setSelectedItemIndex:function(e,t){var r=e.commit;r("setSelectedItemIndex",t)},setCurrentRequestStatus:function(e,t){var r=e.commit;r("setCurrentRequestStatus",t)}},ce={},se={state:oe,mutations:ne,actions:ae,getters:ce,modules:{documents:N,products:te}};i.a.use(p.a);var ie={pcg:se};function ue(){var e=a["RealmType"][c.a.Common.getCurrentRealm()];return e?(e=e.toLowerCase(),ie[e]||ie["pcg"]):{}}var le=new p.a.Store(ue()),de=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("SearchInput",{on:{onToggleResult:e.handleToggleResult}},[r("div",{ref:"resultList",staticClass:"home_searchResult search_row tt-menu",style:e.cStyle,on:{mouseover:e.handleMouseOver}},[r("div",{staticClass:"search_row1"},[r("ProductsResult",{on:{asyncSeach:e.handleAsyncSearch,pHideResultBox:e.handleToggleResult}})],1),r("div",{staticClass:"search_row2"},[r("DocumentsResult")],1)])])},pe=[],he=(r("c5f6"),r("6b54"),r("87b3"),r("d225")),ye=r("b0b4"),me=r("308d"),fe=r("6bb5"),ge=r("4e2b"),ve=r("9ab4"),be=r("60a3"),Se=r("4bb5"),Te=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"documentResult",staticClass:"search_col22 td-dropdown-menu"},[r("h4",[e._v(e._s(e.resultTitle))]),r("ul",[0===e.suggestionKeyHitSorted.length&&0===e.docSearchedHitSorted.length?r("li",[r("div",[e._v(e._s(e.moduleLocalEmptyMsg))])]):e._e(),e.ispellCheckRsg?r("h5",{style:e.spellcheckMsgStyle,domProps:{innerHTML:e._s(e.spellCheckResultTip)}}):e._e(),e._l(e.docSearchedHitSorted,(function(t,o){return r("li",{key:o,class:e.selectedStyle(t)},[r("a",{attrs:{href:"javascript:void(0);",title:t.Title,"data-id":t.ID,"data-type":t.Type,"data-name":e.documentUrl(t.Type,t.ID)},on:{click:function(r){return e.handleDocClick(r,t)}}},[r("span",{class:e.documentIcon(t.Type)}),r("span",{domProps:{innerHTML:e._s(e.showName(t.Title))}})])])}))],2),e.suggestionKeyHitSorted.length>0?r("h4",[e._v(e._s(e.t("suggested searches|Suggested Searches")))]):e._e(),e.suggestionKeyHitSorted.length>0?r("ul",e._l(e.suggestionKeyHitSorted,(function(t,o){return r("li",{key:o,class:e.selectedStyle(t)},[r("a",{attrs:{href:"javascript:void(0);",title:t.Title,"data-id":t.ID,"data-type":t.Type,"data-name":e.documentUrl(t.Type,t.ID)},on:{click:function(r){return e.handleDocClick(r,t)}}},[r("span",{class:e.documentIcon(t.Type)}),r("span",{domProps:{innerHTML:e._s(e.showName(t.Title))}})])])})),0):e._e(),r("ul",[r("li",{staticClass:"searchMore",class:{dcgSearchShowBtn:e.isDcgRealm}},[r("a",{staticClass:"searchMoreInRight",attrs:{href:e.showMoreSearchUrl}},[e._v("\n                "+e._s(e.t(e.isDcgRealm?"show more results|#Show More Results":"show more suggestions|#Show more suggestions"))+"\n            ")])])])])},ke=[],Pe=(r("7f7f"),r("4917"),r("60bb")),we=c.a.Common.getCurrentRealm(),Oe=c.a.Common.getRealmsDetail(),Ce=function(e){function t(){var e;return Object(he["a"])(this,t),e=Object(me["a"])(this,Object(fe["a"])(t).apply(this,arguments)),e.searchProducts=[],e.searchDocuments=[],e}return Object(ge["a"])(t,e),Object(ye["a"])(t,[{key:"processProductData",value:function(e,t){if(!e)return[];var r=["CCC3161D-9F83-4023-B8D2-4FC3A1CC864C","89DBD35C-2320-452A-B36C-2B767E11E17C","1ECCF386-4DA8-47BF-A4B0-ED844517230F","080BE9AD-DB51-41F0-9274-DE96D59D9403","4D8EF1F1-5B98-4705-8B72-667285D26820","54F7A8ED-10EB-4CD3-A493-5AF5FF637096","D8FC0B87-A453-46DE-9937-6B1C8B2587E6","25E2DAF8-D3DF-4BD3-B545-FA4386C52D2C"],o=[],s={},i={};e.forEach((function(e,t){var r=e.Brand?e.Brand:"unknown";i.hasOwnProperty(r)||(i[r]=[]),i[r].push(e),s.hasOwnProperty(r)||(s[r]=[0,0]),e.Type===a["ProductType"].SubSeries?s[r][0]=1:e.Type===a["ProductType"].MachineType&&(s[r][1]=1)}));var u=[],l=new RegExp("\\/".concat(t,"(?:\\/|$)"),"gi"),d=function(e){if(i.hasOwnProperty(e)&&("EBG"===e&&(u=n.a.grep(i[e],(function(t){return!(1===s[e][0]&&1===s[e][1]&&r.indexOf(t["ParentID"])>=0)})),i[e]=u),Oe[c.a.RealmType.Pcg].brands.indexOf(e)>-1)){var t=[],o=[];i[e].forEach((function(r){l.test(r["Id"])?t.push(r):1===s[e][0]?r["Type"]===a["ProductType"].SubSeries&&o.push(r):r["Type"]===a["ProductType"].MachineType&&o.push(r)}));var d=t.sort((function(e,t){return e.Name.localeCompare(t.Name)})),p=o.sort((function(e,t){return e.Name.localeCompare(t.Name)}));i[e]=[].concat(Object(y["a"])(d),Object(y["a"])(p))}};for(var p in i)d(p);var h=[];for(var m in i){if(0===we||2===we||5===we){var f=!!i[m]&&i[m].length;Oe[c.a.RealmType.Dcg].brands.indexOf(m)>-1&&f?(h.push("dcg"),o.push({Name:c.a.Translator.translate("dcg products|DCG Products"),Type:a["ProductType"].BrandGroup})):Oe[c.a.RealmType.Mbg].brands.indexOf(m)>-1&&f?(h.push("mbg"),o.push({Name:c.a.Translator.translate("mbg products|MBG Products"),Type:a["ProductType"].BrandGroup})):Oe[c.a.RealmType.Smart].brands.indexOf(m)>-1&&f?(h.push("smart"),o.push({Name:c.a.Translator.translate("smart products|Smart Products"),Type:a["ProductType"].BrandGroup})):Oe[c.a.RealmType.Moto].brands.indexOf(m)>-1&&f&&(h.push("moto"),o.push({Name:c.a.Translator.translate("moto products|Moto Products"),Type:a["ProductType"].BrandGroup}))}n.a.merge(o,i[m])}if(0===we||2===we||5===we){var g=new Array,v=n.a.grep(o,(function(e){return Oe[c.a.RealmType.Pcg].brands.indexOf(e.Brand)>-1}));v&&v.length&&g.push({Name:c.a.Translator.translate("pcg products|PCG Products"),Type:a["ProductType"].BrandGroup}),v=n.a.merge(g,v);var b=n.a.grep(o,(function(e){return Oe[c.a.RealmType.Pcg].brands.indexOf(e.Brand)<0}));o=n.a.merge(v,b)}return o}},{key:"searchLikeProduct",value:function(e,t){try{var r=!1;if(e&&t)for(var o=t.replace(/[()]/g,"").toLowerCase().split(" "),n=e.replace(/[()]/g,"").split(/\s+/),a=n.join("").toLowerCase(),c=0;c<o.length;c++){var s=a.indexOf(o[c]);if(!(s>=0))return r=!1,r;r=!0}return r}catch(i){return console.log("searchLikeProduct error:",i),!1}}},{key:"searchProduct",value:function(e,t){e=e.toLowerCase();var r=this,o=n.a.grep(t,(function(t){var o=t.Name?t.Name.toLowerCase():"",n=r.searchLikeProduct(o,e);return n})),a=this.processProductData(o,e);return a}},{key:"updateSpecialChar",value:function(e){for(var t=e,r=["\\","^","$","*","?",".","+","(",")","[","]","|","{","}"],o=["~","`","@","#","%","&","=","'",'"',":",";","<",">",",","/"],n=0;n<r.length;n++)t=t.replace(new RegExp("\\"+r[n],"g"),"\\"+r[n]);for(n=0;n<o.length;n++)t=t.replace(new RegExp(o[n],"g"),"\\"+o[n]);return t}},{key:"allProductProcess",value:function(e){try{var t=[],r=[];r=n.a.grep(e,(function(e){return"MOTO"===e.Brand&&e.Type!=a["ProductType"].Group}));var o=[];return o=n.a.grep(e,(function(e){return"MOTO"!==e.Brand&&e.Type!=a["ProductType"].Group&&e.Type!=a["ProductType"].Series})),t=n.a.merge(r,o),t}catch(c){return console.log("error:",c),e}}},{key:"currentRealm",get:function(){return we}}]),t}(be["g"]);Ce=ve["a"]([be["a"]],Ce);var Ie=function(e){function t(){return Object(he["a"])(this,t),Object(me["a"])(this,Object(fe["a"])(t).apply(this,arguments))}return Object(ge["a"])(t,e),Object(ye["a"])(t,[{key:"SearchToRedirect",value:function(e,t){var r=window["BrowsePensSuppliesProductConfig"],o=r&&r["regex"]&&r["regex"]instanceof RegExp&&r["regex"].test(e),n=r&&r["redirect"]&&"function"===typeof r["redirect"];r&&o&&n?window.location.href=r["redirect"](e):t()}},{key:"SearchDebounce",value:function(e,t,r){return Object(Pe["debounce"])(e,t,r)}}]),t}(be["g"]);Ie=ve["a"]([be["a"]],Ie);var je=function(e){function t(){return Object(he["a"])(this,t),Object(me["a"])(this,Object(fe["a"])(t).apply(this,arguments))}return Object(ge["a"])(t,e),Object(ye["a"])(t,[{key:"enableLoadingStyle",value:function(){this.isSearching=!0}},{key:"disableLoadingStyle",value:function(){this.isSearching=!0}}]),t}(be["g"]);je=ve["a"]([be["a"]],je);var De=Object(Se["e"])("documents"),Re=a["DTM"].Lmd,Ee=function(e){function t(){var e;return Object(he["a"])(this,t),e=Object(me["a"])(this,Object(fe["a"])(t).apply(this,arguments)),e.spellcheckMsgStyle={color:"#FF6A00",padding:"0 20px",margin:"3px",fontSize:"16px"},e}return Object(ge["a"])(t,e),Object(ye["a"])(t,[{key:"created",value:function(){}},{key:"mounted",value:function(){}},{key:"beforeUpdate",value:function(){}},{key:"updated",value:function(){var e=this;this.setCurrentRequestStatus(!0),this.$nextTick((function(){if(e.$refs.documentResult){var t=e.$refs.documentResult.querySelector(".tt-selected");t&&t.scrollIntoView(!1)}}))}},{key:"sortFunc",value:function(e,t){var r=e.Popularity||0,o=t.Popularity||0;return r<o?1:r>o?-1:(e.Name||"").localeCompare(t.Name||"")}},{key:"highlight",value:function(e){var t=e.match(this.highlightReg),r=e;if(t&&t.length>0){var o=t[0];r=e.replace(o,'<strong class="td-highlight">'+o+"</strong>")}return r}},{key:"documentUrl",value:function(e,t){var r="";switch(e){case"Forum.KB":r="/forumkb/"+t;break;case"Driver":r="/downloads/"+t;break;case"KB":r="/solutions/"+t;break;case"MSH":r="/solutions/"+t;break;case"TS":r="/solutions/"+t;break;case"PS":r="/product_security/"+t;break;case"AccessoryInfo":r="/accessories/"+t;break;case"PartInfo":r="/parts/"+t;break;case"ProductInfo":r="/documents/"+t;break;case"Video":r="/videos/"+t;break;case"LPDT":r="/troubleshoot/"+t;break;case"Manual":var o=/^https?:\/\//i;r=o.test(t)?t:"/manuals/".concat(t);break;case"quick links":r=t;break;case"Suggestion":r="/search?query=".concat(t,"&SearchType=Customer%20search&searchLocation=Masthead");break;default:r="/documents/"+t;break}return r}},{key:"documentIcon",value:function(e){var t="";switch(e){case"Forum.KB":t="icon-kb";break;case"Driver":t="icon-Driver";break;case"KB":t="icon-kb";break;case"AccessoryInfo":t="icon-AccessoryInfo";break;case"PartInfo":t="icon-AccessoryInfo";break;case"ProductInfo":t="icon-ProductInfo";break;case"Video":t="icon-Video";break;case"Manual":t="icon-book";break;case"quick links":t="icon-link";break;case"Suggestion":t="icon-search-s";break;default:t="icon-book";break}return t}},{key:"showName",value:function(e){var t=this.highlight(e);return t}},{key:"handleDocClick",value:function(e,t){var r=c.a.UrlUtility.getFullPath("search"),o=t&&t.ID||"",n=t&&t.Type||"",a=this.documentUrl(n,o);if(e&&e.target){var s=e.currentTarget;a=s.dataset["name"]||"",n=s.dataset["type"]||""}var i={intSearchTerms:"",SearchType:"",SearchProductType:"",intSearchCount:"",intSearchLoc:""};i.intSearchTerms=this.keywords,i.SearchType="Customer Search",i.SearchProductType="NA",i.intSearchCount=this.documentsHit.length.toString(),this.searchPosition==W.Solr?i.intSearchLoc="Masthead":i.intSearchLoc="Homepage",Re.trackInternalSearch(i),"quick links"===n?window.location.href=o:"Manual"===n&&/^https?:\/\//i.test(a)?window.location.href=a:(r=c.a.UrlUtility.getFullPath(a),window.location.href=r)}},{key:"handleEnterEventChange",value:function(e,t){var r=this;if(this.selectedItemType===z.Document&&this.documentsHit.length&&e!=t&&e){this.setEnterEvent(!1);var o=this.documentsHit.find((function(e){return e.ID===r.selectedItemIndex}))||this.documentsHit[0];this.handleDocClick(null,o)}}},{key:"suggestionKeyHitSorted",get:function(){var e=this.showDocumentsHit.filter((function(e){return"Suggestion"===e.Type}));return e}},{key:"docSearchedHitSorted",get:function(){var e=this.showDocumentsHit.filter((function(e){return"Suggestion"!==e.Type}));return e}},{key:"showDocumentsHit",get:function(){return this.documentsHit.slice(0,this.showNum)}},{key:"selectedStyle",get:function(){var e=this;return function(t){var r=t.ID,o=e.selectedItemType===z.Document&&e.selectedItemIndex===r;return{"tt-selected":o}}}},{key:"resultTitle",get:function(){var e=this.currentRealm===a["RealmType"].Dcg?this.t("search result suggestions|SEARCH RESULT SUGGESTIONS"):this.t("suggested search results|Suggested Search results");return e}},{key:"ispellCheckRsg",get:function(){return!!this.spellCheckWord}},{key:"spellCheckResultTip",get:function(){var e=this.t("spell check result tip|Showing results for {0} instead of {1}"),t=function(e){return'<b style="color:blue">'.concat(e,"</b>")},r=this.ispellCheckRsg?e.replace("{0}",t(this.spellCheckWord)).replace("{1}",t(this.keywords)):"";return r}},{key:"spellCheckWord",get:function(){return this.documentsHit&&this.documentsHit.length&&this.documentsHit[0].SpellCheck||""}},{key:"showMoreSearchUrl",get:function(){var e=c.a.UrlUtility.getFullPath("/search?query="+window.encodeURIComponent(this.keywords));return this.searchPosition===W.Solr?e+="&SearchType=Customer search&searchLocation=Masthead":e+="&SearchType=Customer search&searchLocation=Homepage",e}},{key:"isDcgRealm",get:function(){return this.currentRealm===a["RealmType"].Dcg}},{key:"highlightReg",get:function(){var e=new RegExp(this.keywords,"ig");return e}}]),t}(be["g"]);ve["a"]([De.State("showNum")],Ee.prototype,"showNum",void 0),ve["a"]([De.State("documentsHit")],Ee.prototype,"documentsHit",void 0),ve["a"]([De.State("currentDocument")],Ee.prototype,"currentDocument",void 0),ve["a"]([De.Getter("hitCount")],Ee.prototype,"moduleGetterHitCount",void 0),ve["a"]([De.Getter("localEmptyMsg")],Ee.prototype,"moduleLocalEmptyMsg",void 0),ve["a"]([De.Getter("localSpellCheckMsg")],Ee.prototype,"moduleLocalSpellCheckMsg",void 0),ve["a"]([De.Action("setCurrentDocument")],Ee.prototype,"setCurrentDocument",void 0),ve["a"]([De.Action("setEnterEvent")],Ee.prototype,"setEnterEvent",void 0),ve["a"]([Object(Se["d"])("keywords")],Ee.prototype,"keywords",void 0),ve["a"]([Object(Se["d"])("searchPosition")],Ee.prototype,"searchPosition",void 0),ve["a"]([Object(Se["d"])("linkTrackType")],Ee.prototype,"linkTrackType",void 0),ve["a"]([Object(Se["d"])("currentRealm")],Ee.prototype,"currentRealm",void 0),ve["a"]([Object(Se["d"])("isSecondSearch")],Ee.prototype,"isSecondSearch",void 0),ve["a"]([Object(Se["d"])("enterEvent")],Ee.prototype,"enterEvent",void 0),ve["a"]([Object(Se["d"])("selectedItemIndex")],Ee.prototype,"selectedItemIndex",void 0),ve["a"]([Object(Se["d"])("selectedItemType")],Ee.prototype,"selectedItemType",void 0),ve["a"]([Object(Se["a"])("setCurrentRequestStatus")],Ee.prototype,"setCurrentRequestStatus",void 0),ve["a"]([Object(be["h"])("enterEvent")],Ee.prototype,"handleEnterEventChange",null),Ee=ve["a"]([Object(be["a"])({mixins:[Ie]})],Ee);var He=Ee,xe=He,Be=r("2877"),Ne=Object(Be["a"])(xe,Te,ke,!1,null,null,null),Le=Ne.exports,Me=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"productResult",staticClass:"tt-dataset tt-dataset-Products"},[e.showGroupName?r("h4",{staticClass:"group-name",attrs:{t:e.groupNameKey}},[e._v(e._s(e.groupName))]):e._e(),0==e.moduleGetterHitCount?r("div",{staticClass:"tt-product-noResult"},[e._v(e._s(e.noProductResult))]):e._e(),e._l(e.productsHit,(function(t){return[t.Type===e.productTypes.BrandGroup?r("h4",{key:t.Id,staticClass:"group-name"},[e._v(e._s(t.Name))]):[t.Id&&"moto"!==t.Brand.toLowerCase()?r("div",{key:t.Id,staticClass:"tt-suggestion tt-selectable",class:e.selectedStyle(t),attrs:{"data-url":t.Id},on:{click:function(r){return e.clickProductEvent(r,t)}}},[r("div",{staticClass:"tt-image"},[r("img",{attrs:{src:e.productImage(t)}})]),r("div",{staticClass:"tt-content"},[r("div",{staticClass:"tt-content-up",domProps:{innerHTML:e._s(e.highlight(t.Name))}}),r("div",{staticClass:"tt-content-down"},[r("a",{attrs:{href:e.productDownloadUrl(t)}},[e._v(e._s(e.downloads))]),r("a",{attrs:{href:e.productDocumentsUrl(t)}},[e._v(e._s(e.documentation))])])])]):r("div",{key:t.ID,staticClass:"tt-suggestion tt-selectable",attrs:{"data-url":t.Id},on:{click:function(r){return e.clickProductEvent(r,t)}}},[r("div",{staticClass:"tt-image"},[r("img",{attrs:{src:e.productImage(t)}})]),r("div",{staticClass:"tt-content"},[r("div",{staticClass:"tt-content-up",domProps:{innerHTML:e._s(e.highlight(t.Name))}})])])]]})),e.moduleGetterHitCount?r("div",{staticClass:"tt-bottom-line"}):e._e()],2)},Ae=[];r("6762"),r("2fdb");function _e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_e(r,!0).forEach((function(t){Object(m["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_e(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ue=Object(Se["e"])("products"),Ge=Object(Se["e"])("documents"),qe=a["DTM"].Lmd,$e=function(e){function t(){var e;return Object(he["a"])(this,t),e=Object(me["a"])(this,Object(fe["a"])(t).apply(this,arguments)),e.downloads=e.t("downloads|Downloads"),e.documentation=e.t("documentation|Documentation"),e.productTypes=a["ProductType"],e}return Object(ge["a"])(t,e),Object(ye["a"])(t,[{key:"created",value:function(){}},{key:"mounted",value:function(){}},{key:"beforeUpdate",value:function(){}},{key:"updated",value:function(){var e=this;this.$nextTick((function(){if(e.$refs.productResult){var t=e.$refs.productResult.querySelector(".tt-selected");t&&t.scrollIntoView(!1)}}))}},{key:"highlight",value:function(e){var t=e.match(this.highlightReg),r=e;if(t&&t.length>0){var o=t[0];r=e.replace(o,'<strong class="tt-highlight">'+o+"</strong>")}return r}},{key:"productImage",value:function(e){var t=e.Image||"https://download.lenovo.com/images/System/prodimage_default.jpg";return t}},{key:"productDownloadUrl",value:function(e){var t=c.a.UrlUtility.getFullPath("/products/"+e.Id.toLowerCase()+"/downloads");return t}},{key:"productDocumentsUrl",value:function(e){var t=c.a.UrlUtility.getFullPath("/products/"+e.Id.toLowerCase()+"/documentation");return t}},{key:"clickProductEvent",value:function(e,t){qe.setSearchEventRecord({searchType:t.Type,keyWordSearch:t.Name});var r=function(e,t){var r=c.a.DTM.Lmd.dicSearchType.ProductName;if(t.SearchType===c.a.ProductType.MachineType){var o=new RegExp("(.+/){3}"+e,"i");o.test(t.Id)&&(r="Machine Type")}return t.Type===c.a.ProductType.Serial&&(r="Serial Number"),r},o={intSearchTerms:"",SearchType:"",SearchProductType:"",intSearchCount:"",intSearchLoc:""};if(o.intSearchTerms=this.keywords,o.SearchType="Product Search",o.SearchProductType=r(this.keywords,t)||"Product Name",o.intSearchCount=this.moduleGetterHitCount.toString(),this.searchPosition===W.Solr?o.intSearchLoc="Masthead":o.intSearchLoc="Homepage",c.a.DTM.Lmd.trackInternalSearch(o),t.Id){var n={linkTrack:this.linkTrackType};n.linkTrack||delete n.linkTrack;var a=this.$parent;this.$emit("pHideResultBox",!1);var s=a.$el,i={id:t.Id,brand:t.Brand,serial:t.Serial||"",isSupported:t.IsSupported};return this.SearchToRedirect(i.id,(function(){return c.a.LitePageLoader.capsRun(s,i,Fe({},n))})),!1}this.setKeywords(t.Name),this.$emit("asyncSeach")}},{key:"setSearchInput",value:function(e){var t=this;this.$nextTick((function(){if(t.$el){var r=t.$el.querySelector(".home-search-input input.typeahead.form-control");r&&(r.value=e)}}))}},{key:"processEnter",value:function(){var e=this;if(this.moduleGetterHitCount>1){var t=this.productsHit[0].Type===a["ProductType"].BrandGroup?1:0;if(this.selectedItemIndex){var r=this.productsHit.find((function(t){return t.Id===e.selectedItemIndex}))||this.productsHit[t];this.clickProductEvent(null,r),this.setSearchInput(r.Name)}else this.clickProductEvent(null,this.productsHit[t]),this.setSearchInput(this.productsHit[t].Name)}else this.$emit("asyncSeach")}},{key:"handleEnterEventChange",value:function(e,t){this.keywords&&(this.selectedItemType===z.Product||this.isAlsoTigger)&&e!=t&&e&&(this.setEnterEvent(!1),this.processEnter())}},{key:"productsHitSorted",get:function(){if(this.productsHit&&this.productsHit.length){var e=this.productsHit.sort((function(e,t){var r=e.Popularity||0,o=t.Popularity||0;return r<o?1:r>o?-1:(e.Name||"").localeCompare(t.Name||"")}));return e}return[]}},{key:"selectedStyle",get:function(){var e=this;return function(t){var r=t.Id,o=e.selectedItemType===z.Product&&e.selectedItemIndex===r;return{"tt-selected":o}}}},{key:"groupNameKey",get:function(){var e=this.currentRealm===c.a.RealmType.Dcg?"search by product|SEARCH BY PRODUCT":"products|Products";return e}},{key:"groupName",get:function(){var e=c.a.Translator.translate(this.groupNameKey);return e}},{key:"showGroupName",get:function(){var e=c.a.RealmType;return this.moduleGetterHitCount?![e.All,e.Pcg,e.Smart].includes(this.currentRealm):(console.log("no result:",this.keywords),console.log("no result searchResult:",this.noProductResult),!0)}},{key:"noProductResult",get:function(){return this.isSecondSearch?this.moduleLocal2ndEmptyMsg:this.moduleLocalEmptyMsg}},{key:"highlightReg",get:function(){var e=new RegExp(this.keywords,"ig");return e}},{key:"isAlsoTigger",get:function(){return this.selectedItemType===z.Document&&this.documentsHit.length}}]),t}(be["g"]);ve["a"]([Ue.State("allProducts")],$e.prototype,"allProducts",void 0),ve["a"]([Ue.State("showNum")],$e.prototype,"showNum",void 0),ve["a"]([Ue.State("productsHit")],$e.prototype,"productsHit",void 0),ve["a"]([Ue.State("currentProduct")],$e.prototype,"currentProduct",void 0),ve["a"]([Ue.Mutation("setCurrentProduct")],$e.prototype,"setCurrentProduct",void 0),ve["a"]([Ue.Getter("hitCount")],$e.prototype,"moduleGetterHitCount",void 0),ve["a"]([Ue.Getter("localEmptyMsg")],$e.prototype,"moduleLocalEmptyMsg",void 0),ve["a"]([Ue.Getter("localSecondEmptyMsg")],$e.prototype,"moduleLocal2ndEmptyMsg",void 0),ve["a"]([Ge.State("documentsHit")],$e.prototype,"documentsHit",void 0),ve["a"]([Object(Se["a"])("setEnterEvent")],$e.prototype,"setEnterEvent",void 0),ve["a"]([Object(Se["a"])("setKeywords")],$e.prototype,"setKeywords",void 0),ve["a"]([Object(Se["d"])("keywords")],$e.prototype,"keywords",void 0),ve["a"]([Object(Se["d"])("searchPosition")],$e.prototype,"searchPosition",void 0),ve["a"]([Object(Se["d"])("linkTrackType")],$e.prototype,"linkTrackType",void 0),ve["a"]([Object(Se["d"])("currentRealm")],$e.prototype,"currentRealm",void 0),ve["a"]([Object(Se["d"])("isSecondSearch")],$e.prototype,"isSecondSearch",void 0),ve["a"]([Object(Se["d"])("selectedItemIndex")],$e.prototype,"selectedItemIndex",void 0),ve["a"]([Object(Se["d"])("selectedItemType")],$e.prototype,"selectedItemType",void 0),ve["a"]([Object(Se["d"])("enterEvent")],$e.prototype,"enterEvent",void 0),ve["a"]([Object(be["h"])("enterEvent")],$e.prototype,"handleEnterEventChange",null),$e=ve["a"]([Object(be["a"])({mixins:[Ie]})],$e);var Ke=$e,Ve=Ke,We=Object(Be["a"])(Ve,Me,Ae,!1,null,null,null),Je=We.exports,ze=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.searchPosition===e.searchPositionEnum.Home?r("div",{ref:"homeSearchInput",staticClass:"home-search-input"},[r("span",{staticClass:"twitter-typeahead",staticStyle:{position:"relative",display:"inline-block"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.inputValue,expression:"inputValue"}],ref:"searchInput",staticClass:"typeahead form-control",attrs:{type:"text",autocomplete:"off",spellcheck:"false","data-position":e.searchPosition,placeholder:e.placeholderByRelam},domProps:{value:e.inputValue},on:{focus:e.productOnFousEvent,click:e.productOnFousEvent,blur:e.handleInputBlur,keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),e.handleEnter(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.stopPropagation(),e.keyup(t,e.inputValue))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.stopPropagation(),e.keydown(t,e.inputValue))}],input:function(t){t.target.composing||(e.inputValue=t.target.value)}}}),e._t("default")],2),r("span",{class:{"icon-search":!0,"icon-active":e.isSearching},attrs:{"data-position":e.searchPosition},on:{click:e.handleEnter}}),r("br")]):r("div",{ref:"homeSearchInput",staticClass:"home-search-input"},[r("span",{staticClass:"twitter-typeahead",staticStyle:{position:"relative",display:"inline-block"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.inputValue,expression:"inputValue"}],ref:"searchInput",staticClass:"typeahead form-control",attrs:{type:"text",autocomplete:"off",spellcheck:"false","data-position":e.searchPosition,placeholder:e.placeholderByRelam},domProps:{value:e.inputValue},on:{focus:e.productOnFousEvent,click:e.productOnFousEvent,blur:e.handleInputBlur,keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),e.handleEnter(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.stopPropagation(),e.handleKeyup(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.stopPropagation(),e.handleKeydown(t))}],input:function(t){t.target.composing||(e.inputValue=t.target.value)}}})]),r("span",{class:{"icon-search-text":!0,"icon-text-active":e.isSearching},attrs:{"data-position":e.searchPosition},on:{click:e.handleEnter}},[e._v(e._s(e.t("Search|#SEARCH")))]),r("span",{staticClass:"solr-closed icon-s-close",on:{click:e.closeClickEvent}}),e._t("default"),r("br")],2)},Ye=[],Ze=(r("20d6"),Object(Se["e"])("products")),Qe=Object(Se["e"])("documents"),Xe=function(e){function t(){var e;return Object(he["a"])(this,t),e=Object(me["a"])(this,Object(fe["a"])(t).apply(this,arguments)),e.searchPositionEnum=W,e.isSearching=!1,e.resultKeywords="",e.openRst=!1,e}return Object(ge["a"])(t,e),Object(ye["a"])(t,[{key:"mounted",value:function(){console.log("search input mounted")}},{key:"getMouseAtLast",value:function(e){var t=e.value?e.value.length:0;if(e.createTextRange){var r=e.createTextRange();r.collapse(!0),r.moveEnd("character",t),r.moveStart("character",t),r.select()}else e.setSelectionRange&&(e.focus(),e.setSelectionRange(t,t))}},{key:"productOnFousEvent",value:function(e){var t=this.keywords.replace(/(?:^\s+|\s+$)/g,"");if(t.length>1&&this.$emit("onToggleResult",!0),e.target){this.getMouseAtLast(e.target);var r=this.inputValue;r.length>1&&(this.productsHit.length||this.documentsHit.length)}}},{key:"handleEnter",value:function(e){this.currentRequestStatus?this.setEnterEvent(!0):console.log("the search is loading, don't go to the second search.")}},{key:"handleKeydown",value:function(e){var t=this.selectedItemType,r=this.selectedItemIndex,o=!1;if(r||(this.productsHit.length?(r=this.productsHit[this.productsHit[0].Type===a["ProductType"].BrandGroup?1:0].Id,o=!0):this.documentsHit.length&&(r=this.documentsHit[0].ID,t=z.Document,o=!0)),o){this.setSelectedItemIndex(r),this.setSelectedItemType(t);var n=t===z.Product;this.setInputSelectedName(n?this.productsHit[this.productsHit[0].Type===a["ProductType"].BrandGroup?1:0].Name:this.documentsHit[0].Title)}else if(r){var c=!1;if(t===z.Product&&r===this.productsHit[this.productsHit.length-1].Id)c=!0,this.documentsHit.length?(r=this.documentsHit[0].ID,t=z.Document,this.setSelectedItemIndex(r),this.setSelectedItemType(t),this.setInputSelectedName(this.documentsHit[0].Title)):(this.setSelectedItemIndex(this.productsHit[0].Id),this.setInputSelectedName(this.productsHit[0].Name));else if(t===z.Document&&r===this.documentsHit[this.documentsHit.length-1].ID)if(c=!0,this.productsHit.length){var s=this.productsHit[this.productsHit[0].Type===a["ProductType"].BrandGroup?1:0];r=s.Id,t=z.Product,this.setSelectedItemIndex(r),this.setSelectedItemType(t),this.setInputSelectedName(s.Name)}else this.setSelectedItemIndex(this.documentsHit[0].ID),this.setInputSelectedName(this.documentsHit[0].Title);if(!c){var i=0,u=t===z.Product,l=u?"productsHit":"documentsHit",d=u?"Id":"ID";i=this[l].findIndex((function(e){return e[d]&&e[d].toLowerCase()===(r+"").toLowerCase()})),i<0&&(i=0);var p=this[l],h=p[i+1].Type===a["ProductType"].BrandGroup,y=h?p[i+2]:p[i+1];r=y[d]+"",this.setSelectedItemIndex(r),this.setInputSelectedName(y[u?"Name":"Title"])}}}},{key:"handleKeyup",value:function(e){var t=this.selectedItemType,r=this.selectedItemIndex,o=!1;if(r||(this.productsHit.length?(r=this.productsHit[this.productsHit[0].Type===a["ProductType"].BrandGroup?1:0].Id,o=!0):this.documentsHit.length&&(r=this.documentsHit[0].ID,t=z.Document,o=!0)),o){this.setSelectedItemIndex(r),this.setSelectedItemType(t);var n=t===z.Product;this.setInputSelectedName(n?this.productsHit[this.productsHit[0].Type===a["ProductType"].BrandGroup?1:0].Name:this.documentsHit[0].Title)}else if(r){var c=!1,s=this.documentsHit.length-1,i=this.productsHit.length-1;if(t===z.Product&&r===this.productsHit[this.productsHit[0].Type===a["ProductType"].BrandGroup?1:0].Id)c=!0,this.documentsHit.length?(r=this.documentsHit[s].ID,t=z.Document,this.setSelectedItemIndex(r),this.setSelectedItemType(t),this.setInputSelectedName(this.documentsHit[s].Title)):(this.setSelectedItemIndex(this.productsHit[i].Id),this.setInputSelectedName(this.productsHit[i].Name));else if(t===z.Document&&r===this.documentsHit[0].ID)if(c=!0,this.productsHit.length){var u=this.productsHit[this.productsHit[i].Type===a["ProductType"].BrandGroup?i-1:i];r=u.Id,t=z.Product,this.setSelectedItemIndex(r),this.setSelectedItemType(t),this.setInputSelectedName(u.Name)}else this.setSelectedItemIndex(this.documentsHit[s].ID),this.setInputSelectedName(this.documentsHit[s].Title);if(!c){var l=0,d=t===z.Product,p=d?"productsHit":"documentsHit",h=d?"Id":"ID";l=this[p].findIndex((function(e){return e[h]&&e[h].toLowerCase()===(r+"").toLowerCase()})),l<0&&(l=0);var y=this[p],m=y[l-1].Type===a["ProductType"].BrandGroup,f=m?y[l-2]:y[l-1];r=f[h]+"",this.setSelectedItemIndex(r),this.setInputSelectedName(f[d?"Name":"Title"])}}}},{key:"closeClickEvent",value:function(e){var t=document.querySelector("nav.navbar-first"),r=document.querySelector("ul.navbar-right"),o=document.querySelector("#solr-search"),n=!!(o.offsetWidth||o.offsetHeight||o.getClientRects().length);t&&r&&(n?(o.style.display="none",t.classList.remove("navbarshadow"),r.classList.remove("search-show")):(o.style.display="block",t.classList.add("navbarshadow"),r.classList.add("search-show")))}},{key:"setInputSelectedName",value:function(e){var t=this;this.$nextTick((function(){if(t.$refs.searchInput){var r=t.$refs.searchInput;r&&(r.value=e)}}))}},{key:"searchProductsAndDocs",value:function(){var e=this,t=this.SearchDebounce((function(){e.resultKeywords=e.inputValue,e.searchProductInLocal(e.inputValue),e.setKeywords(e.inputValue),e.searchDocumentsSync(e.inputValue)}),300);t()}},{key:"onKeywordsChanged",value:function(e,t){var r=this.$refs.homeSearchInput;r&&(r.offsetWidth||r.offsetHeight||r.getClientRects().length)&&(this.isSearching=!1,this.setCurrentRequestStatus(!1),e&&e.length>1?(this.searchProductsAndDocs(),this.$emit("onToggleResult",!0)):(this.setDocumentsHit([]),this.setProductsHit([]),this.$emit("onToggleResult",!1)))}},{key:"handleInputBlur",value:function(){return new Promise((function(e){setTimeout((function(){e(!1)}),500)}))}},{key:"placeholderByRelam",get:function(){var e="",t=c.a.RealmType[this.currentRealm].toLocaleLowerCase(),r={all:"home search products|Search by product name (e.g. Moto Z), serial number, or IMEI",pcg:"product search pcg description|Enter product name, serial number or machine type",dcg:"product search dcg description|Enter product name, serial number or machine type",mbg:"product search mbg description|Enter product name, serial number, machine type or IMEI",moto:"product search moto description|Enter product name, serial number, machine type or IMEI",smart:"product search smart description|Enter product name, serial number or machine type"};return e=c.a.Translator.translate(r[t||"all"]),e}},{key:"inputValue",get:function(){return this.keywords},set:function(e){this.setKeywords(e)}}]),t}(be["g"]);ve["a"]([Object(Se["d"])("keywords")],Xe.prototype,"keywords",void 0),ve["a"]([Object(Se["d"])("searchPosition")],Xe.prototype,"searchPosition",void 0),ve["a"]([Object(Se["d"])("linkTrackType")],Xe.prototype,"linkTrackType",void 0),ve["a"]([Object(Se["d"])("currentRealm")],Xe.prototype,"currentRealm",void 0),ve["a"]([Object(Se["d"])("isSecondSearch")],Xe.prototype,"isSecondSearch",void 0),ve["a"]([Object(Se["d"])("selectedItemIndex")],Xe.prototype,"selectedItemIndex",void 0),ve["a"]([Object(Se["d"])("selectedItemType")],Xe.prototype,"selectedItemType",void 0),ve["a"]([Object(Se["d"])("currentRequestStatus")],Xe.prototype,"currentRequestStatus",void 0),ve["a"]([Ze.State("productsHit")],Xe.prototype,"productsHit",void 0),ve["a"]([Qe.State("documentsHit")],Xe.prototype,"documentsHit",void 0),ve["a"]([Object(Se["a"])("setKeywords")],Xe.prototype,"setKeywords",void 0),ve["a"]([Object(Se["a"])("setEnterEvent")],Xe.prototype,"setEnterEvent",void 0),ve["a"]([Object(Se["a"])("setSelectedItemIndex")],Xe.prototype,"setSelectedItemIndex",void 0),ve["a"]([Object(Se["a"])("setSelectedItemType")],Xe.prototype,"setSelectedItemType",void 0),ve["a"]([Object(Se["a"])("setCurrentRequestStatus")],Xe.prototype,"setCurrentRequestStatus",void 0),ve["a"]([Object(Se["a"])("setIsSecondSearch")],Xe.prototype,"setIsSecondSearch",void 0),ve["a"]([Qe.Action("searchDocumentsSync")],Xe.prototype,"searchDocumentsSync",void 0),ve["a"]([Ze.Action("searchProductInLocal")],Xe.prototype,"searchProductInLocal",void 0),ve["a"]([Qe.Mutation("setDocumentsHit")],Xe.prototype,"setDocumentsHit",void 0),ve["a"]([Ze.Mutation("setProductsHit")],Xe.prototype,"setProductsHit",void 0),ve["a"]([Object(be["h"])("inputValue")],Xe.prototype,"onKeywordsChanged",null),ve["a"]([Object(be["b"])("onToggleResult")],Xe.prototype,"handleInputBlur",null),Xe=ve["a"]([Object(be["a"])({mixins:[Ie]})],Xe);var et=Xe,tt=et,rt=Object(Be["a"])(tt,ze,Ye,!1,null,null,null),ot=rt.exports,nt=r("c5b8");function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?at(r,!0).forEach((function(t){Object(m["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var st=a["DTM"].Lmd,it=Object(Se["e"])("products"),ut=Object(Se["e"])("documents"),lt=function(e){function t(){var e;return Object(he["a"])(this,t),e=Object(me["a"])(this,Object(fe["a"])(t).apply(this,arguments)),e.searchPositionEnum=W,e.resultKeywords="",e.blur=!1,e}return Object(ge["a"])(t,e),Object(ye["a"])(t,[{key:"created",value:function(){this.initOriRootState({keywords:"",searchPosition:this.searchPosition,linkTrackType:this.linkTrackType}),this.getAllProducts()}},{key:"mounted",value:function(){console.log("search box mounted")}},{key:"handleToggleResult",value:function(e){this.blur=e}},{key:"asyncSearchCallback",value:function(e,t){var r=this,o=function(){window["LSB_Flag"]?(console.log("LSB_Flag:",window["LSB_Flag"]),window["LSB_Flag"]=!1):st.setSearchEventRecord({searchType:e[0].Type,keyWordSearch:t});var o="",n={id:e[0].Id,brand:e[0].Brand,serial:e[0].Serial||"",isSupported:e[0].IsSupported},s={linkTrack:r.linkTrackType};s.linkTrack||delete s.linkTrack,o&&(s["tabName"]=o);var i=function(e){var t=c.a.DTM.Lmd.dicSearchType.ProductName;return e.Type===a["ProductType"].Model&&(t="MTM"),e.Type===a["ProductType"].Serial&&(t="Serial Number"),t},u={intSearchTerms:"",SearchType:"",SearchProductType:"",intSearchCount:"",intSearchLoc:""};u.intSearchTerms=t,u.SearchType="Product Search",u.SearchProductType=i(e[0])||"Product Name",u.intSearchCount=e.length.toString(),r.searchPosition==W.Solr?u.intSearchLoc="Masthead":u.intSearchLoc="Homepage",c.a.DTM.Lmd.trackInternalSearch(u);var l=r.$el;r.SearchToRedirect(n.id,(function(){return c.a.LitePageLoader.capsRun(l,n,ct({},s))}))};!window["ConfirmCurrentProduct"]||window.document.querySelector("#showConfirmFlag")&&!Number(window.document.querySelector("#showConfirmFlag").innerText)?o():window["ConfirmCurrentProduct"](e,o)}},{key:"handleMouseOver",value:function(){}},{key:"handleAsyncSearch",value:function(){var e=this;this.blur=!1;for(var t=this.keywords,r=this.keywords.split("."),o="",n=0;n<r.length;n++)0===n?o=Object(nt["q"])(r[n])?r[n]:r[n].replace(/\-/g,""):o+=".".concat(r[n]);this.searchProductSync(o).then((function(r){if(r&&Array.isArray(r)&&r.length){if(1===r.length){if(r[0].isAccessory&&r[0].id)return window.location.href="/accessorieslookup?partid="+r[0].id,!1;if(!r[0].Brand&&("undefined"===typeof r[0].IsSupported||r[0].IsSupported)){c.a.DTM.Lmd.pusherrorinfTrack("Product Search","Product not found",!0);var o="&SearchType=Customer search&searchLocation=";e.searchPosition==W.Solr?o+="Masthead":o+="Homepage";var n="",a=c.a.UrlUtility.getUrlParam("Products");return a&&(n+="&Products="+a),void(window.location.href=c.a.UrlUtility.getFullPath("/search?query="+encodeURIComponent(t)+o+n))}e.asyncSearchCallback(r,t)}}else{c.a.DTM.Lmd.pusherrorinfTrack("Product Search","Product not found",!0);o="&SearchType=Customer search&searchLocation=";e.searchPosition==W.Solr?o+="Masthead":o+="Homepage";n="",a=c.a.UrlUtility.getUrlParam("Products");a&&(n+="&Products="+a),window.location.href=c.a.UrlUtility.getFullPath("/search?query="+encodeURIComponent(t)+o+n)}}))}},{key:"isShow",get:function(){return!(!this.moduleDocsHitCount&&!this.moduleProductsHitCount)}},{key:"cStyle",get:function(){var e=this.blur?"block":"none";return{display:e}}}]),t}(be["g"]);ve["a"]([Object(be["e"])({type:Number,required:!1})],lt.prototype,"searchPosition",void 0),ve["a"]([Object(be["e"])({type:String,required:!1})],lt.prototype,"linkTrackType",void 0),ve["a"]([Object(Se["d"])("keywords")],lt.prototype,"keywords",void 0),ve["a"]([Object(Se["d"])("currentRealm")],lt.prototype,"currentRealm",void 0),ve["a"]([Object(Se["a"])("initOriRootState")],lt.prototype,"initOriRootState",void 0),ve["a"]([ut.Getter("hitCount")],lt.prototype,"moduleDocsHitCount",void 0),ve["a"]([it.Getter("hitCount")],lt.prototype,"moduleProductsHitCount",void 0),ve["a"]([it.Action("init")],lt.prototype,"getAllProducts",void 0),ve["a"]([it.Action("searchProductSync")],lt.prototype,"searchProductSync",void 0),ve["a"]([Object(Se["a"])("setIsSecondSearch")],lt.prototype,"setIsSecondSearch",void 0),lt=ve["a"]([Object(be["a"])({mixins:[Ie],components:{DocumentsResult:Le,ProductsResult:Je,SearchInput:ot}})],lt);var dt=lt,pt=dt,ht=Object(Be["a"])(pt,de,pe,!1,null,null,null),yt=ht.exports,mt={pcg:yt};function ft(){var e=a["RealmType"][c.a.Common.getCurrentRealm()];return e?(e=e.toLowerCase(),mt[e]||mt["pcg"]):{}}var gt=ft();Object(u["a"])(i.a);var vt=a["DTM"].Lmd,bt=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vt.linkTrackTypeValue(c.a.LinkTrackType.HomeSearchProducts);new i.a({store:le,render:function(e){return e(gt,{props:{searchPosition:t,linkTrackType:r}})}}).$mount(e)},St=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vt.linkTrackTypeValue(c.a.LinkTrackType.HomeSearchProducts),o=arguments.length>3?arguments[3]:void 0;bt(e,t,r),o&&o(e)};window["lenovo-solr-typeahead"]=function(e,t,r){St(e,W.Solr,t,r)},window["lenovo-home-typeahead"]=function(e,t,r){St(e,W.Home,t,r)};new Array;n()(".showSearchBox").on("click",(function(e){var t=n()("#solr-search").css("display");"none"==t?(n()("#solr-search").css("display","block"),n()("#solr-search").find("input.form-control").focus(),n()("ul.navbar-right").addClass("search-show")):(n()("#solr-search").css("display","none"),n()("ul.navbar-right").removeClass("search-show"))})),window.onscroll=function(){var e=document.documentElement.scrollTop;if(0===e){var t=n()("#solr-search").css("display"),r=n()("nav.navbarshadow").length;"block"==t&&r<1&&n()("nav.navbar-first").addClass("navbarshadow")}},function(){if("function"===typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r}e.prototype=Event.prototype,window.CustomEvent=e}(),n()((function(){var e=function(e){var t=!!a["MobileDetectControl"].mobileResource.mobile(),r=n()(e).attr("id");!t&&"solr-search-mobile"===r||t&&"solr-search"===r||window["newSearchBox"]||(window["newSearchBox"]={autoSearch:function(e,r){var o=n()(t?"#solr-search-mobile":"#solr-search"),c=function(){n()("#solr-search").css("display","block"),n()("nav.navbar-first").addClass("navbarshadow"),n()("ul.navbar-right").addClass("search-show")};function s(e,t){if(e){var r=Object.getOwnPropertyDescriptor(e,"value").set,o=Object.getPrototypeOf(e),n=Object.getOwnPropertyDescriptor(o,"value").set;r&&r!==n?n.call(e,t):r.call(e,t)}}c();var i=o.find(".typeahead.form-control")[0];if(s(i,e),i){var u=new window.CustomEvent("change",{bubbles:!0});i.dispatchEvent(u),window["newSearch_isAutoShowResult"]=!!r,n()(document).ajaxComplete((function(e,t,r){if(/\/autosuggest/i.test(r.url||"")){var o="undefined"!==typeof window["newSearch_isAutoShowResult"]&&!window["newSearch_isAutoShowResult"];if(o){var c=a["MobileDetectControl"].mobileResource.mobile()?"#solr-search-mobile":"#solr-search";n()("".concat(c," .home_searchResult.search_row")).hide(),delete window["newSearch_isAutoShowResult"]}}}))}}})};P().then((function(){n()("#solr-search").length>0&&St(n()("#solr-search >div:first").get(0),W.Solr,"",e),n()("#solr-search-mobile").length>0&&St(n()("#solr-search-mobile >div:first").get(0),W.Solr,"",e)})).catch((function(e){return console.error("Failed to get all products",e),null}))}))},5880:function(e,t){e.exports=Vuex},"60bb":function(e,t){e.exports=_},7259:function(e,t){e.exports=l},"8bbf":function(e,t){e.exports=Vue},c5e1:function(e,t){e.exports=$},cebe:function(e,t){e.exports=axios}});