(window.webpackJsonp=window.webpackJsonp||[]).push([[284],{6485:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=U(n(0)),i=n(331),o=n(256),s=B(n(3)),l=B(n(853)),u=U(n(876)),d=B(n(266)),f=B(n(9339)),c=B(n(9)),p=B(n(6664)),h=B(n(884)),v=B(n(385)),m=B(n(14)),g=n(7051),_=B(n(84)),y=B(n(9342)),E=n(537),I=n(868),T=B(n(9343)),S=B(n(9344)),N=B(n(9357)),A=B(n(9360)),O=B(n(9362)),P=B(n(9363)),R=B(n(9365)),M=B(n(6645)),b=B(n(9369)),C=B(n(6853)),L=B(n(9370)),D=B(n(9371)),w=n(1);function B(e){return e&&e.__esModule?e:{default:e}}function U(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function F(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}s.default.initialize();var k=(0,T.default)(M.default),x=(0,T.default)(b.default),j=(0,T.default)(P.default),H=(0,T.default)(O.default),V=(0,T.default)(R.default),W=(0,T.default)(f.default),Y=(0,T.default)(C.default),z=(0,T.default)(N.default),X=(0,T.default)(D.default),K=(0,T.default)(L.default),$=(0,T.default)(A.default),q=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={splash:null,redirectTo:null},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.getDerivedStateFromProps=function(e){var t=e.invite,n=e.location,a=(0,i.parse)(n.search).redirect_to;null!=a&&(0,E.isSafeRedirect)(a)&&!a.startsWith(w.Routes.ME)||(a=null);var r=null;if(null==t)r=(0,g.getArtForPath)(a);else if(null!=t&&t.state===w.InviteStates.RESOLVED){var o=t.guild;null!=o&&"string"==typeof o.splash&&(r=_.default.getGuildSplashURL({id:o.id,splash:o.splash}))}return{redirectTo:a,splash:r}};var s=a.prototype;return s.componentDidMount=function(){var e=this.props,t=e.inviteCode,n=e.hasLoadedExperiments,a=e.isAuthenticated;null!=t&&(!n&&a&&l.default.getExperiments(),m.default.track(w.AnalyticEvents.INVITE_OPENED,{invite_code:t,load_time:y.default.getTimeSinceNavigationStart()},!0)),n&&this.resolveInvite(),this.resolveGiftCode()},s.componentDidUpdate=function(e){!e.hasLoadedExperiments&&this.props.hasLoadedExperiments&&this.resolveInvite()},s.resolveInvite=function(){var e=this.props.inviteCode;null!=e&&(d.default.resolveInvite(e,w.PageAnalyticsLocations.INVITE),d.default.openNativeAppModal(e))},s.resolveGiftCode=function(){var e=this.props.giftCode;null!=e&&(u.resolveGiftCode(e,!0,!0),u.openNativeGiftCodeModal(e))},s.render=function(){var e=this.state,t=e.splash,n=e.redirectTo;return F(S.default,{splash:t,redirectTo:n},void 0,F(o.Route,{path:w.Routes.LOGIN_HANDOFF,render:function(e){return r.createElement(x,G({},e,{redirectTo:n}))}}),F(o.Route,{path:w.Routes.LOGIN,render:function(e){return r.createElement(k,G({},e,{redirectTo:n}))}}),F(o.Route,{path:w.Routes.REGISTER,render:function(e){return r.createElement(Y,G({},e,{redirectTo:n}))}}),F(o.Route,{path:w.Routes.GIFT_CODE_LOGIN(":giftCode"),render:function(e){return r.createElement(H,G({login:!0},e))}}),F(o.Route,{path:w.Routes.GIFT_CODE(":giftCode"),render:function(e){return r.createElement(H,e)}}),F(o.Route,{path:w.Routes.BILLING_PREFIX,render:function(e){var t=e.transitionTo,a=e.location;return F(W,{transitionTo:t,location:a,redirectTo:n})}}),F(o.Route,{path:w.Routes.BILLING_XBOX_GAME_PASS_PROMOTION_REDEMPTION(":code"),render:function(e){var t=e.transitionTo,a=e.location;return F(W,{transitionTo:t,location:a,redirectTo:n})}}),F(o.Route,{path:w.Routes.INVITE_LOGIN(":inviteCode"),render:function(e){var t=e.match.params.inviteCode,n=e.location,a=e.transitionTo;return I.isMobile||I.isTablet?F(V,{inviteCode:t},t):F(j,{inviteCode:t,location:n,transitionTo:a,login:!0})}}),F(o.Route,{path:w.Routes.INVITE(":inviteCode"),render:function(e){var t=e.match.params.inviteCode,n=e.location,a=e.transitionTo;return I.isMobile||I.isTablet?F(V,{inviteCode:t},t):F(j,{inviteCode:t,location:n,transitionTo:a})}}),F(o.Route,{path:w.Routes.VERIFY,render:function(e){return r.createElement(X,e)}}),F(o.Route,{path:w.Routes.DISABLE_EMAIL_NOTIFICATIONS,render:function(e){return r.createElement($,e)}}),F(o.Route,{path:w.Routes.AUTHORIZE_IP,render:function(e){return r.createElement(z,e)}}),F(o.Route,{path:w.Routes.RESET,render:function(e){return r.createElement(K,e)}}))},a}(r.PureComponent);q.displayName="ViewsWithAuth";var Z=s.default.connectStores([c.default,h.default,p.default,v.default],function(e){var t=e.match,n=function(e){return null!=e&&null!=e.params?e.params.inviteCode:null}(t),a=function(e){return null!=e&&null!=e.params?e.params.giftCode:null}(t);return{inviteCode:n,isAuthenticated:c.default.isAuthenticated(),giftCode:a,gift:null!=a?p.default.get(a):null,invite:null!=n?h.default.getInvite(n):null,hasLoadedExperiments:v.default.hasLoadedExperiments}})(q);t.default=Z},6544:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.IncompatibleBrowser=t.ActivityCount=t.AuthSpinner=t.SubText=t.Block=t.Input=t.ChannelIcon=t.GuildIcon=t.Avatar=t.Button=t.Image=t.SubTitle=t.Title=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(0)),i=T(n(7)),o=T(n(6642)),s=n(6550),l=n(886),u=T(n(179)),d=n(263),f=T(n(19)),c=T(n(22)),p=T(n(6542)),h=T(n(67)),v=T(n(134)),m=T(n(259)),g=T(n(6643)),_=T(n(324)),y=n(1),E=T(n(4)),I=T(n(5956));function T(e){return e&&e.__esModule?e:{default:e}}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function N(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var A=_.default;null==A&&(A=function(){return null});var O=function(e){var t=e.className,n=e.children;return N(h.default,{color:h.default.Colors.WHITE,weight:h.default.Weights.LIGHT,className:(0,i.default)(I.default.title,t)},void 0,n)};t.Title=O,O.displayName="Title";var P=function(e){var t=e.className,n=e.children;return N(h.default,{weight:h.default.Weights.NORMAL,className:(0,i.default)(I.default.subTitle,t)},void 0,n)};t.SubTitle=P,P.displayName="SubTitle";var R=function(e){var t=e.className;return N("img",{alt:"",src:e.src,className:(0,i.default)(I.default.image,t)})};t.Image=R,R.displayName="Image";var M=function(e){var t,n=e.className,a=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["className"]),o=a.look===f.default.Looks.LINK;return r.createElement(f.default,S({size:o?f.default.Sizes.MIN:f.default.Sizes.LARGE,fullWidth:!o,className:(0,i.default)(n,(t={},t[I.default.button]=!o,t[I.default.linkButton]=o,t))},a))};t.Button=M,M.displayName="Button",M.Looks=f.default.Looks,M.Colors=f.default.Colors,M.Sizes=f.default.Sizes;var b=function(e){var t=e.className,n=e.src,a=e.size;return N(A,{src:n,size:a,className:(0,i.default)(I.default.inviteLargeIcon,t),"aria-hidden":!0})};t.Avatar=b,b.displayName="Avatar",b.Sizes=A.Sizes;var C=function e(t){var n=t.className,a=t.guild,r=t.size,o=t.animate,s=void 0!==o&&o;return N(p.default,{guild:a,size:r,className:(0,i.default)(r===e.Sizes.XLARGE?I.default.inviteLargeIcon:I.default.inviteSmallIcon,n),animate:s})};t.GuildIcon=C,C.displayName="GuildIcon",C.Sizes=p.default.Sizes;var L=function(e){var t=e.className,n=e.channel,a=e.size;return N(A,{src:(0,s.getChannelIconURL)(n),size:a,className:(0,i.default)(I.default.inviteIcon,t),"aria-hidden":!0})};t.ChannelIcon=L,L.displayName="ChannelIcon",L.Sizes=A.Sizes;var D=function(e){var t,n=e.label,a=e.error,r=e.placeholder,o=e.value,s=e.className,l=e.inputClassName,u=e.setRef,d=e.type,f=void 0===d?"text":d,c=e.onChange,p=e.autoComplete,h=e.autoFocus,g=e.maxLength,_=e.spellCheck,y=e.name;return N(m.default,{title:n,error:a,className:s},void 0,N(v.default,{name:y,type:f,value:o,inputRef:u,placeholder:r,className:I.default.input,inputClassName:(0,i.default)(l,(t={},t[I.default.inputError]=null!=a,t)),"aria-label":n,onChange:c,autoComplete:p,autoFocus:h,maxLength:g,spellCheck:_}))};t.Input=D,D.displayName="Input";var w=function(e){var t=e.className,n=e.children;return N("div",{className:(0,i.default)(I.default.block,t)},void 0,n)};t.Block=w,w.displayName="Block";var B=function(e){var t=e.className,n=e.children,a=e.disabled,r=void 0!==a&&a;return N(h.default,{size:h.default.Sizes.SMALL,className:(0,i.default)(I.default.subText,t),disabled:r},void 0,n)};t.SubText=B,B.displayName="SubText";var U=function(e){var t=e.className,n=e.hideQuote,a=void 0!==n&&n;return N(c.default,{direction:c.default.Direction.VERTICAL,align:c.default.Align.CENTER,className:t},void 0,N(g.default,{className:I.default.spinnerVideo}),a?null:N(P,{className:I.default.spinnerText},void 0,o.default[Math.floor(Math.random()*o.default.length)][0]))};t.AuthSpinner=U,U.displayName="AuthSpinner";var F=function(e){var t,n=e.online,a=e.total,r=e.className;return null==a?null:(null!=n&&n>0&&(t=N("div",{className:(0,i.default)(I.default.pill,I.default.pillOnline)},void 0,N("i",{className:I.default.pillIconOnline}),N(h.default,{tag:"span",size:h.default.Sizes.MEDIUM,className:I.default.pillMessage},void 0,E.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:n})))),N(c.default,{justify:c.default.Justify.CENTER,className:r},void 0,t,N("div",{className:I.default.pill},void 0,N("i",{className:I.default.pillIconTotal}),N(h.default,{tag:"span",size:h.default.Sizes.MEDIUM,className:I.default.pillMessage},void 0,E.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:a})))))};t.ActivityCount=F,F.displayName="ActivityCount";var G=function(e){var t=e.className;return N(w,{className:t},void 0,N(M,{onClick:function(){return window.open((0,l.getCurrentPlatformDownloadURL)())}},void 0,E.default.Messages.NUF_DOWNLOAD_APP_BUTTON_PLATFORM.format({platform:(0,l.getPlatformReadableName)()})),N(B,{className:I.default.downloadButtonSubtext},void 0,E.default.Messages.INCOMPATIBLE_BROWSER.format({supportedBrowserURL:u.default.getArticleURL(y.HelpdeskArticles.SUPPORTED_BROWSERS)})))};t.IncompatibleBrowser=G,G.displayName="IncompatibleBrowser";var k=function(e){var t=e.className,n=e.tag,a=void 0===n?"section":n,r=e.onSubmit,o=e.children;return N(a,{onSubmit:r,className:(0,i.default)(I.default.authBox,(0,d.getThemeClass)(y.ThemeTypes.DARK),t)},void 0,N("div",{className:I.default.centeringWrapper},void 0,o))};k.displayName="AuthBox";var x=k;t.default=x},6602:function(e,t,n){"use strict";t.__esModule=!0,t.open=function(e){r.default.track(i.AnalyticEvents.OPEN_MODAL,{type:"Guest Mode - Register Modal",location:e}),a.default.dispatch({type:i.ActionTypes.REGISTER_MODAL_OPEN})},t.close=function(){a.default.dispatch({type:i.ActionTypes.REGISTER_MODAL_CLOSE})};var a=o(n(2)),r=o(n(14)),i=n(1);function o(e){return e&&e.__esModule?e:{default:e}}},6609:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.InviteResolvingHeader=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(0)),i=h(n(63)),o=h(n(337)),s=h(n(120)),l=h(n(6567)),u=h(n(61)),d=n(6544),f=n(1),c=h(n(4)),p=h(n(5968));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(){return v(r.Fragment,{},void 0,v(d.Avatar,{src:null,size:d.Avatar.Sizes.DEPRECATED_SIZE_100,className:p.default.avatar}),v(d.SubTitle,{},void 0,c.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN),v(d.Title,{className:p.default.inviteResolvingGuildName},void 0,c.default.Messages.LOADING))};t.InviteResolvingHeader=m,m.displayName="InviteResolvingHeader";var g=function(e){var t=e.guild,n=e.user;return n?v(d.Avatar,{src:null!=n?n.getAvatarURL():null,size:d.Avatar.Sizes.DEPRECATED_SIZE_100,className:p.default.avatar}):t?v(d.GuildIcon,{guild:t,size:d.GuildIcon.Sizes.XLARGE,className:p.default.guildIcon,animate:!0}):null},_=function(e){var t=e.invite,n=e.disableUser,a=void 0!==n&&n,h=e.error;if(null==t)return null;var m,_,y=null!=t.guild?new o.default(t.guild):null,E=null!=t.channel?new i.default(t.channel):null,I=a||null==t.inviter?null:new s.default(t.inviter),T=null!=t.approximate_member_count&&t.approximate_member_count>100,S=null!=y&&y.hasFeature(f.GuildFeatures.VERIFIED),N=null!=y&&y.hasFeature(f.GuildFeatures.PARTNERED),A=null;if(null!=y)A=null==I?c.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN:c.default.Messages.AUTH_MESSAGE_INVITED_BY.format({username:I.username}),t.target_user_type===f.InviteTargetUserTypes.STREAM&&null!=t.target_user&&(A=c.default.Messages.AUTH_MESSAGE_INVITED_TO_STREAM.format({username:t.target_user.username})),T||S||N||(m=v(d.GuildIcon,{guild:y,size:d.GuildIcon.Sizes.SMALL})),_=y.name;else if(null!=E){if(null==I)throw new Error("no inviter in group DM invite");var O=I.username;E.name?(A=c.default.Messages.AUTH_MESSAGE_INVITED_BY.format({username:O}),_=E.name,null!=E.icon&&(m=v(d.ChannelIcon,{channel:E,size:d.Avatar.Sizes.SIZE_32}))):(A=c.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN_GROUP_DM,_=O)}return v(r.Fragment,{},void 0,v(g,{guild:y,user:a||T?null:I}),h?v(r.Fragment,{},void 0,v(d.SubTitle,{},void 0,c.default.Messages.INVITE_MODAL_ERROR_TITLE),v(d.Title,{},void 0,h)):v(r.Fragment,{},void 0,v(d.SubTitle,{},void 0,A),v(d.Title,{className:p.default.title},void 0,null!=y?v(l.default,{guild:y,className:p.default.guildBadge,tooltipPosition:u.default.Positions.LEFT}):null,m,_)),v(d.ActivityCount,{className:p.default.activityCount,online:t.approximate_presence_count,total:t.approximate_member_count}))};_.displayName="InviteHeader";var y=_;t.default=y},6642:function(e){e.exports=JSON.parse('[["Upsorbing the Contents",null,null],["Additive Parsing the Load",null,null],["Commence Monosaturated Goodening",null,null],["Kick Off the Multi-Core Widening",null,null],["Bastening the Game Turkey",null,null],["Abstracting the Rummage Disc",null,null],["Undecerealenizing the Process",null,null],["Postrefragmenting the Widget Layer",null,null],["Satisfying the Constraints",null,null],["Abnoramalzing Some of the Matrices",null,null],["Optimizing the People",null,null],["Proclaigerizing the Network",null,null]]')},6643:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(0)),i=n(921),o=v(n(348)),s=v(n(870)),l=n(1),u=v(n(6690)),d=v(n(6691)),f=v(n(6692)),c=v(n(6693)),p=v(n(6694)),h=v(n(6695));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g,_,y,E,I=m("source",{src:u.default,type:"video/mp4"},"mp4"),T=m("img",{alt:"",src:d.default},"png"),S=m("source",{src:f.default,type:"video/mp4"},"mp4"),N=m("img",{alt:"",src:c.default},"png"),A=m("source",{src:p.default,type:"video/webm"},"webm"),O=m("source",{src:h.default,type:"video/webm"},"webm"),P=(_=(0,i.getChromeVersion)(),y=[I,T],E=[S,N],(_>52||-1===_)&&(y.unshift(A),E.unshift(O)),(g={})[l.ThemeTypes.DARK]=y,g[l.ThemeTypes.LIGHT]=E,g),R=function(e){var t=e.loop,n=void 0===t||t,a=e.autoPlay,i=void 0===a||a,u=e.setRef,d=e.className,f=e.onReady,c=r.useContext(o.default);return r.createElement(s.default,{key:c,ref:u,onLoadedData:f,className:d,loop:n,autoPlay:i,playsInline:!0},P[c]||P[l.ThemeTypes.DARK])};R.displayName="AppSpinner";var M=R;t.default=M},6645:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var a,r=D(n(0)),i=L(n(7)),o=n(331),s=L(n(3)),l=L(n(853)),u=n(496),d=D(n(6657)),f=L(n(27)),c=D(n(6602)),p=L(n(861)),h=n(6547),v=L(n(9)),m=L(n(944)),g=L(n(6577)),_=L(n(67)),y=D(n(6544)),E=L(n(14)),I=n(76),T=n(868),S=L(n(150)),N=L(n(6852)),A=L(n(6742)),O=D(n(6609)),P=n(1),R=L(n(4)),M=L(n(451)),b=L(n(970)),C=L(n(6173));function L(e){return e&&e.__esModule?e:{default:e}}function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function B(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var F=B(y.AuthSpinner,{hideQuote:!0}),G=B(O.InviteResolvingHeader,{}),k=function(e){var t,a;function s(t){var n;(n=e.call(this,t)||this).setEmailRef=function(e){n.emailRef=e},n.setPasswordRef=function(e){n.passwordRef=e},n.setCodeRef=function(e){n.codeRef=e},n.renderError=function(e){var t=n.props.errors;if(n.hasError(e)){var a=t[e];return Array.isArray(a)?a[0]:a}return null},n.handleLogin=function(e){var t=n.state,a=t.email,r=t.password,i=t.captchaKey,o=t.undelete;null!=e&&e.preventDefault(),l.default.login({email:a,password:r,undelete:o,captchaKey:i,source:n.loginSource,giftCodeSKUId:n.giftCodeSKUId}),I.ComponentDispatch.dispatch(P.ComponentActions.WAVE_EMPHASIZE)},n.handleTokenSubmit=function(e){var t=n.state.code,a=n.props.mfaTicket;null!=e&&e.preventDefault(),l.default.loginMFA({code:t.replace(/ /g,""),ticket:a,source:n.loginSource,giftCodeSKUId:n.giftCodeSKUId}),I.ComponentDispatch.dispatch(P.ComponentActions.WAVE_EMPHASIZE)},n.handleSMSTokenSubmit=function(e){var t=n.state.smsCode,a=n.props.mfaTicket;null!=e&&e.preventDefault(),l.default.loginSMS({code:t.replace(/ /g,""),ticket:a}),I.ComponentDispatch.dispatch(P.ComponentActions.WAVE_EMPHASIZE)},n.handleToggleSMSLogin=function(e){var t=n.props.mfaTicket;null!=e&&e.preventDefault(),l.default.requestSMSToken(t),I.ComponentDispatch.dispatch(P.ComponentActions.WAVE_EMPHASIZE)},n.handleForgotPassword=function(){var e=n.state.email;null!=n.emailRef&&n.emailRef.focus(),l.default.forgotPassword(e,function(){f.default.push(function(t){return r.createElement(S.default,w({header:R.default.Messages.EMAIL_VERIFICATION_INSTRUCTIONS_HEADER,confirmText:R.default.Messages.OKAY,red:!1,className:T.isMobile?b.default.mobile:""},t),B(_.default,{size:_.default.Sizes.MEDIUM,color:_.default.Colors.PRIMARY},void 0,R.default.Messages.EMAIL_VERIFICATION_INSTRUCTIONS_BODY.format({email:e})))})}),I.ComponentDispatch.dispatch(P.ComponentActions.WAVE_EMPHASIZE)},n.handleReset=function(e){null!=e&&e.preventDefault(),l.default.loginReset(),n.setState({password:"",email:"",code:"",smsCode:"",captchaKey:null,undelete:!1,checkingHandoff:!1})},n.handleCancelAccountDeletion=function(){n.setState({undelete:!0},n.handleLogin)},n.handleCaptchaVerify=function(e){n.setState({captchaKey:e},n.handleLogin)},n.handleGotoRegister=function(){var e=n.state.email,t=n.props,a=t.invite,r=t.giftCode,i=t.location,s=t.transitionTo,u=t.redirectTo;if(t.isGuest)return d.close(),void c.open();var f,p=null!=i?(0,o.parse)(i.search):{};""!==e&&(p.email=e),null!=a?(p.mode="register",f=P.Routes.INVITE(a.code)):null!=r?(p.mode="register",f=P.Routes.GIFT_CODE(r.code)):null!=u?(f=P.Routes.REGISTER,p.redirect_to=u):f=P.Routes.REGISTER,l.default.loginReset(),s(f,{search:(0,o.stringify)(p)}),I.ComponentDispatch.dispatch(P.ComponentActions.WAVE_EMPHASIZE)};var a=null!=t.location?(0,o.parse)(t.location.search):{};return n.state={redirecting:t.authenticated,checkingHandoff:t.handoffAvailable,email:a.email||"",password:"",code:"",smsCode:"",captchaKey:null,undelete:!1},n}a=e,(t=s).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a,s.getDerivedStateFromProps=function(e){var t=e.handoffAvailable,n=e.authenticated;return t||n?null:{checkingHandoff:!1}};var m,g,L,D=s.prototype;return D.componentDidMount=function(){var e=this.props,t=e.handoffAvailable,n=e.authenticated,a=e.giftCodeSKU,r=e.invite,i=e.location;t&&!n?(0,u.handoffBegin)():n&&this.loginOrSSO(n,i,!0),E.default.track(P.AnalyticEvents.LOGIN_VIEWED,w({location:null!=r?"Invite Login Page":"Non-Invite Login Page",login_source:this.loginSource},null!=a?(0,p.default)(a,!1,!1):{}),!0),(0,h.trackAppUIViewed)("login")},D.componentDidUpdate=function(e){var t=this.props,n=t.authenticated,a=t.location,r=this.state.checkingHandoff;!n||e.authenticated||r||this.loginOrSSO(n,a),e.errors!==this.props.errors&&(this.hasError("email")?null!=this.emailRef&&this.emailRef.focus():this.hasError("password")?null!=this.passwordRef&&this.passwordRef.focus():this.hasError("code")&&null!=this.codeRef&&this.codeRef.focus())},D.loginOrSSO=function(e,t,n){var a=this;void 0===n&&(n=!1);var r=this.props.isGuest;e&&(null!=t||r)&&(n?l.default.verifySSOToken().then(function(){return a.transitionSSO(t)}):this.transitionSSO(t))},D.transitionSSO=function(e){var t=this.props,n=t.transitionTo,a=t.redirectTo;if(t.isGuest&&null!=a)n(a);else{var r=null!=e?(0,o.parse)(e.search):{},i=(r.redirect_to,function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(r,["redirect_to"]));if(null!=a)n(a);else if(null==i.service)n(P.Routes.APP);else{var s=window.location.protocol+window.GLOBAL_ENV.API_ENDPOINT+P.Endpoints.SSO,l=w({},i,{token:v.default.getToken()});window.location=s+"?"+(0,o.stringify)(l)}}},D.hasError=function(e){return null!=this.props.errors[e]},D.renderHandOffAvailable=function(){var e=this.props.authBoxClassName;return B(y.default,{className:e},void 0,F,B(y.Title,{className:M.default.marginBottom8},void 0,R.default.Messages.BROWSER_HANDOFF_DETECTING_TITLE),B(y.SubTitle,{},void 0,R.default.Messages.AUTH_BROWSER_HANDOFF_DETECTING_DESCRIPTION))},D.renderHandOffContinue=function(){var e=this.props,t=e.user,n=e.transitionTo,a=e.authBoxClassName;return null==t?null:B(y.default,{className:a},void 0,B(y.Avatar,{src:t.getAvatarURL(),size:y.Avatar.Sizes.DEPRECATED_SIZE_100,className:M.default.marginBottom20}),B(y.Title,{className:M.default.marginBottom8},void 0,R.default.Messages.BROWSER_HANDOFF_SUCCESS_TITLE.format({name:t.toString()})),B(y.SubTitle,{className:M.default.marginBottom40},void 0,R.default.Messages.BROWSER_HANDOFF_SUCCESS_BODY),B(y.Block,{},void 0,B(y.Button,{onClick:function(){return n(P.Routes.APP)},className:M.default.marginBottom8},void 0,R.default.Messages.BROWSER_HANDOFF_SUCCESS_ACTION.format({name:t.toString()})),B(y.Button,{look:y.Button.Looks.LINK,onClick:this.handleReset},void 0,R.default.Messages.BROWSER_HANDOFF_SUCCESS_CANCEL)))},D.renderDisabledAccount=function(){var e=this.props.authBoxClassName,t=this.props.loginStatus===P.LoginStates.ACCOUNT_DISABLED,n=t?R.default.Messages.ACCOUNT_DISABLED_TITLE:R.default.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_TITLE,a=t?R.default.Messages.ACCOUNT_DISABLED_DESCRIPTION:R.default.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_DESCRIPTION;return B(y.default,{tag:"form",onSubmit:this.handleReset,className:e},void 0,B(y.Title,{className:M.default.marginBottom8},void 0,n),B(y.SubTitle,{className:M.default.marginBottom20},void 0,a),B(y.Block,{},void 0,B(y.Button,{color:y.Button.Colors.BRAND,type:"submit"},void 0,R.default.Messages.RETURN_TO_LOGIN),B("div",{className:(0,i.default)(M.default.marginTop8,C.default.needAccount)},void 0,R.default.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_CANCEL.format({onClick:this.handleCancelAccountDeletion}))))},D.renderResolving=function(){var e=this,t=this.props.authBoxClassName;return B(y.default,{className:t},void 0,G,B(y.Block,{className:M.default.marginTop20},void 0,B(y.Input,{className:M.default.marginBottom20,label:R.default.Messages.FORM_LABEL_EMAIL,onChange:function(t){return e.setState({email:t})},type:"email",setRef:this.setEmailRef,autoComplete:"off",spellCheck:"false",value:this.state.email,autoFocus:!0}),B(y.Input,{className:M.default.marginBottom20,label:R.default.Messages.FORM_LABEL_PASSWORD,onChange:function(t){return e.setState({password:t})},type:"password",setRef:this.setPasswordRef,autoComplete:"off",spellCheck:"false",value:this.state.password}),B(y.Button,{className:M.default.marginBottom8,type:"submit",disabled:!0},void 0,R.default.Messages.LOGIN),B(y.Button,{disabled:!0,look:y.Button.Looks.LINK},void 0,R.default.Messages.FORGOT_PASSWORD),B(y.Button,{disabled:!0,className:M.default.marginTop4,look:y.Button.Looks.LINK},void 0,R.default.Messages.NEED_ACCOUNT)))},D.renderDefault=function(){var e,t=this,n=this.props,a=n.invite,o=n.giftCode,s=n.loginStatus,l=n.authBoxClassName,u=n.isGuest,d=!this.hasError("email")&&this.hasError("password");return e=null!=a&&null!=a.channel?B(O.default,{invite:a}):null!=o?B(A.default,{giftCode:o}):u?null:B(r.Fragment,{},void 0,B(y.Title,{className:M.default.marginBottom8},"title",R.default.Messages.LOGIN_TITLE),B(y.SubTitle,{},"subtitle",R.default.Messages.AUTH_LOGIN_BODY)),B(y.default,{onSubmit:this.handleLogin,tag:"form",className:l},void 0,e,B(y.Block,{className:M.default.marginTop20},void 0,B(y.Input,{className:M.default.marginBottom20,label:R.default.Messages.FORM_LABEL_EMAIL,error:this.renderError("email"),onChange:function(e){return t.setState({email:e})},type:"email",setRef:this.setEmailRef,autoComplete:"off",spellCheck:"false",value:this.state.email,autoFocus:!d}),B(y.Input,{label:R.default.Messages.FORM_LABEL_PASSWORD,error:this.renderError("password"),onChange:function(e){return t.setState({password:e})},type:"password",setRef:this.setPasswordRef,autoComplete:"off",spellCheck:"false",autoFocus:d,value:this.state.password}),B(y.Button,{tabIndex:10,onClick:this.handleForgotPassword,look:y.Button.Looks.LINK,className:(0,i.default)(M.default.marginBottom20,M.default.marginTop4)},void 0,R.default.Messages.FORGOT_PASSWORD),B(y.Button,{type:"submit",submitting:s===P.LoginStates.LOGGING_IN,className:M.default.marginBottom8},void 0,R.default.Messages.LOGIN),B("div",{className:M.default.marginTop4},void 0,B("span",{className:C.default.needAccount},void 0,R.default.Messages.NEED_ACCOUNT),B(y.Button,{onClick:this.handleGotoRegister,look:y.Button.Looks.LINK,className:C.default.smallRegisterLink},void 0,R.default.Messages.REGISTER))))},D.renderMFA=function(){var e=this,t=this.props,a=t.loginStatus,r=t.mfaSMS,i=t.authBoxClassName;return B(y.default,{onSubmit:this.handleTokenSubmit,tag:"form",className:i},void 0,B("img",{alt:"",src:n(6697),className:M.default.marginBottom20}),B(y.Title,{className:M.default.marginBottom8},void 0,R.default.Messages.TWO_FA),B(y.SubTitle,{},void 0,R.default.Messages.TWO_FA_ENTER_TOKEN_BODY),B(y.Block,{className:M.default.marginTop40},void 0,B(y.Input,{className:M.default.marginBottom20,error:this.renderError("code"),setRef:this.setCodeRef,onChange:function(t){return e.setState({code:t})},autoComplete:"off",placeholder:R.default.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,label:R.default.Messages.TWO_FA_ENTER_TOKEN_LABEL,value:this.state.code},"totpCode"),B(y.Button,{type:"submit",submitting:a===P.LoginStates.LOGGING_IN_MFA},void 0,R.default.Messages.LOGIN),r?B(y.Button,{onClick:this.handleToggleSMSLogin,submitting:a===P.LoginStates.LOGGING_IN_MFA_SMS,className:M.default.marginTop8,look:y.Button.Looks.LINK},void 0,R.default.Messages.MFA_SMS_RECEIVE_CODE):null,B(y.Button,{look:y.Button.Looks.LINK,className:M.default.marginTop4,onClick:this.handleReset},void 0,R.default.Messages.TWO_FA_LOGIN_FOOTER)))},D.renderMFASMS=function(){var e=this,t=this.props,a=t.loginStatus,r=t.maskedPhone,i=t.authBoxClassName,o=a===P.LoginStates.LOGGING_IN_MFA_SMS||""===r;return B(y.default,{onSubmit:this.handleSMSTokenSubmit,tag:"form",className:i},void 0,B("img",{alt:"",src:n(6697),className:M.default.marginBottom20}),B(y.Title,{className:M.default.marginBottom8},void 0,R.default.Messages.TWO_FA),B(y.SubTitle,{className:M.default.marginBottom8},void 0,o?R.default.Messages.TWO_FA_ENTER_SMS_TOKEN_SENDING:R.default.Messages.TWO_FA_ENTER_SMS_TOKEN_SENT.format({phoneNumber:r})),B(y.Block,{className:M.default.marginTop40},void 0,B(y.Input,{className:M.default.marginBottom20,error:this.renderError("code"),setRef:this.setCodeRef,onChange:function(t){return e.setState({smsCode:t})},autoComplete:"off",placeholder:R.default.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,label:R.default.Messages.TWO_FA_ENTER_SMS_TOKEN_LABEL,value:this.state.smsCode},"smsCode"),B(y.Button,{type:"submit",submitting:o,color:o?y.Button.Colors.TRANSPARENT:y.Button.Colors.BRAND},void 0,R.default.Messages.LOGIN),o?null:B(y.Button,{onClick:this.handleToggleSMSLogin,className:M.default.marginTop8,look:y.Button.Looks.LINK},void 0,R.default.Messages.MFA_SMS_RESEND),B(y.Button,{look:y.Button.Looks.LINK,className:M.default.marginTop4,onClick:this.handleReset},void 0,R.default.Messages.TWO_FA_LOGIN_FOOTER)))},D.render=function(){var e=this.props,t=e.authenticated,n=e.invite,a=e.loginStatus,r=e.handoffAvailable,i=e.isGuest,o=e.authBoxClassName,s=this.state,l=s.checkingHandoff;if(s.redirecting)return null;if(this.hasError("captcha_key"))return B(N.default,{authBoxClassName:o,onVerify:this.handleCaptchaVerify,title:i?null:R.default.Messages.LOGIN_TITLE});if(r)return this.renderHandOffAvailable();if(t&&l)return this.renderHandOffContinue();switch(a){case P.LoginStates.LOGGING_IN_MFA_SMS:case P.LoginStates.MFA_SMS_STEP:return this.renderMFASMS();case P.LoginStates.LOGGING_IN_MFA:case P.LoginStates.MFA_STEP:return this.renderMFA();case P.LoginStates.ACCOUNT_SCHEDULED_FOR_DELETION:case P.LoginStates.ACCOUNT_DISABLED:return this.renderDisabledAccount();case P.LoginStates.LOGGING_IN:case P.LoginStates.NONE:default:return null!=n&&n.state===P.InviteStates.RESOLVING?this.renderResolving():this.renderDefault()}},m=s,(g=[{key:"loginSource",get:function(){var e=this.props,t=e.giftCode,n=e.invite,a=e.isGuest;return null!=t?"gift":null!=n?null!=n.guild?"guild_invite":"dm_invite":a?"guest_lurker":null}},{key:"giftCodeSKUId",get:function(){var e=this.props.giftCode;return null!=e?e.skuId:null}}])&&U(m.prototype,g),L&&U(m,L),s}(r.PureComponent);k.displayName="Login",k.defaultProps={isGuest:!1,transitionTo:function(t){return e.location.assign(t)}};var x=s.default.connectStores([v.default,m.default,g.default],function(){return{authenticated:v.default.isAuthenticated(),handoffAvailable:m.default.isHandoffAvailable(),user:m.default.user,loginStatus:v.default.getLoginStatus(),mfaTicket:v.default.getMFATicket(),mfaSMS:v.default.getMFASMS(),maskedPhone:v.default.getMaskedPhone(),errors:v.default.getErrors(),defaultRoute:g.default.defaultRoute}})(k);t.default=x}).call(this,n(25))},6657:function(e,t,n){"use strict";t.__esModule=!0,t.open=function(e){r.default.track(i.AnalyticEvents.OPEN_MODAL,{type:"Guest Mode - Login Modal",location:e}),a.default.dispatch({type:i.ActionTypes.LOGIN_MODAL_OPEN})},t.close=function(){a.default.dispatch({type:i.ActionTypes.LOGIN_MODAL_CLOSE})};var a=o(n(2)),r=o(n(14)),i=n(1);function o(e){return e&&e.__esModule?e:{default:e}}},6666:function(e,t,n){"use strict";t.__esModule=!0,t.fetchActivityStatistics=function(){return d.apply(this,arguments)};var a=s(n(11)),r=s(n(2)),i=s(n(230)),o=n(1);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,a,r,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,r)}var u=216e5;function d(){var e;return e=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=(t=i.default.lastFetched)&&Date.now()-t<u)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,a.default.get({url:o.Endpoints.USER_ACTIVITY_STATISTICS});case 6:n=e.sent,r.default.dispatch({type:o.ActionTypes.USER_ACTIVITY_STATISTICS_FETCH_SUCCESS,statistics:n.body}),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}},e,null,[[3,10]])}),(d=function(){var t=this,n=arguments;return new Promise(function(a,r){var i=e.apply(t,n);function o(e){l(i,a,r,o,s,"next",e)}function s(e){l(i,a,r,o,s,"throw",e)}o(void 0)})}).apply(this,arguments)}},6690:function(e,t,n){e.exports=n.p+"ffac5bb3fb919ce8bf7137d79e9defc9.mp4"},6691:function(e,t,n){e.exports=n.p+"5ccabf62108d5a8074ddd95af2211727.png"},6692:function(e,t,n){e.exports=n.p+"3a9125b1cf120f62f1339925115af7d4.mp4"},6693:function(e,t,n){e.exports=n.p+"c33d106fdbfb5f84e0e4f0352665f230.png"},6694:function(e,t,n){e.exports=n.p+"0bdc0497eb3a19e66f2b1e3d5741634c.webm"},6695:function(e,t,n){e.exports=n.p+"3d5696326e1a1f22f5025061e6701193.webm"},6697:function(e,t,n){e.exports=n.p+"0f4d1ff76624bb45a3fee4189279ee92.svg"},6742:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.GiftCodeResolvingHeader=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(0)),i=_(n(7)),o=_(n(3)),s=_(n(20)),l=_(n(10)),u=_(n(219)),d=_(n(117)),f=_(n(264)),c=n(6544),p=n(1),h=_(n(4)),v=_(n(461)),m=_(n(451)),g=_(n(6172));function _(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=function(){return y(r.Fragment,{},void 0,y(c.Avatar,{src:null,size:c.Avatar.Sizes.DEPRECATED_SIZE_100,className:m.default.marginBottom20}),y(c.SubTitle,{},void 0,h.default.Messages.GIFT_CODE_AUTH_GIFTED),y(c.Title,{className:(0,i.default)(m.default.marginTop8,v.default.flexCenter)},void 0,h.default.Messages.LOADING))};t.GiftCodeResolvingHeader=E,E.displayName="GiftCodeResolvingHeader";var I=function(e){var t=e.error,n=e.gifter,a=e.sku,o=e.application,s=e.subscriptionPlan,l=null==n?h.default.Messages.GIFT_CODE_AUTH_GIFTED:h.default.Messages.GIFT_CODE_AUTH_GIFTED_BY.format({username:n.username}),u=a.name;return null!=s&&(u=(s.interval===p.SubscriptionIntervalTypes.MONTH?h.default.Messages.GIFT_CODE_AUTH_GIFTED_SUBSCRIPTION_MONTHLY:h.default.Messages.GIFT_CODE_AUTH_GIFTED_SUBSCRIPTION_YEARLY).format({skuName:a.name,intervalCount:s.intervalCount})),y(r.Fragment,{},void 0,y(c.Avatar,{src:null!=n?n.getAvatarURL():null,size:c.Avatar.Sizes.DEPRECATED_SIZE_100,className:m.default.marginBottom20}),null!=t?y(r.Fragment,{},void 0,y(c.SubTitle,{},void 0,h.default.Messages.INVITE_MODAL_ERROR_TITLE),y(c.Title,{},void 0,t)):y(r.Fragment,{},void 0,y(c.SubTitle,{},void 0,l),y(c.Title,{className:(0,i.default)(m.default.marginTop8,v.default.flexCenter)},void 0,y(f.default,{size:f.default.Sizes.MEDIUM,className:g.default.applicationIcon,game:o,skuId:a.id}),u)))};I.displayName="GiftCodeHeader";var T=o.default.connectStores([d.default,s.default,u.default,l.default],function(e){var t=e.giftCode,n=d.default.get(t.skuId),a=t.subscriptionPlanId;return{sku:n,subscriptionPlan:null!=a?u.default.get(a):null,application:null!=n?s.default.getGame(n.applicationId):null,gifter:l.default.getUser(t.userId)}})(I);t.default=T},6744:function(e,t,n){"use strict";t.__esModule=!0,t.WaveStates=t.POINT_TENSION_DEFAULT=t.TWO_PI=t.MAX_RADIUS=t.MIN_RADIUS=t.NOOP=void 0;t.NOOP=function(){};t.MIN_RADIUS=780;t.MAX_RADIUS=1e3;var a=2*Math.PI;t.TWO_PI=a;t.POINT_TENSION_DEFAULT=150;t.WaveStates={INITIAL:0,ENTERED:1,FILLING:2,FILLED:3}},6845:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(0)),i=h(n(7)),o=n(350),s=h(n(22)),l=h(n(199)),u=h(n(67)),d=n(7382),f=n(185),c=h(n(4)),p=h(n(6151));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var g=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r,h,g,_=a.prototype;return _.renderDescription=function(){var e=this.props,t=e.paymentSource,n=e.descriptionClassName;return v(u.default,{className:(0,i.default)(p.default.description,n)},void 0,t instanceof o.CreditCardSourceRecord?c.default.Messages.PAYMENT_SOURCE_CARD_ENDING.format({brand:(0,f.upperCaseFirstChar)(t.brand),last_4:t.last4}):c.default.Messages.PAYMENT_SOURCE_PAYPAL)},_.renderSubText=function(){var e=this.props,t=e.paymentSource,n=e.locale,a="";return t instanceof o.CreditCardSourceRecord?a=c.default.Messages.PAYMENT_SOURCE_CARD_EXPIRES.format({month:(0,d.getLocalizedDisplayMonth)(t.expiresMonth,n),year:t.expiresYear}):t instanceof o.PaypalSourceRecord&&(a=t.email),a},_.render=function(){var e=this.props,t=e.isDefault,n=e.paymentSource,a=e.showSubtext,r=e.isForSubscription;return v(s.default,{},void 0,v(l.default,{type:this.typeString}),v(s.default,{direction:s.default.Direction.VERTICAL,className:p.default.descriptionWrapper},void 0,v(s.default,{align:s.default.Align.CENTER},void 0,this.renderDescription(),t?v("div",{className:p.default.defaultIndicator},void 0,c.default.Messages.DEFAULT):null,r?v("div",{className:p.default.premiumIndicator},void 0,c.default.Messages.PAYMENT_SOURCE_SUBSCRIPTION):null,n.invalid?v("div",{className:p.default.invalidIndicator},void 0,c.default.Messages.PAYMENT_SOURCE_INVALID):null),a?v("div",{className:p.default.subText},void 0,this.renderSubText()):null))},r=a,(h=[{key:"typeString",get:function(){var e=this.props.paymentSource;return e instanceof o.PaypalSourceRecord?l.default.Types.PAYPAL:e instanceof o.CreditCardSourceRecord?l.default.getType(e.brand):l.default.Types.UNKNOWN}}])&&m(r.prototype,h),g&&m(r,g),a}(r.PureComponent);t.default=g,g.displayName="PaymentDescription",g.defaultProps={isForSubscription:!1,isDefault:!1,showSubtext:!1}},6852:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;d(n(0));var a,r=u(n(942)),i=d(n(6544)),o=u(n(4)),s=u(n(461)),l=u(n(451));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t=e.title,a=e.onVerify,u=e.authBoxClassName;return f(i.default,{className:u},void 0,f("img",{alt:"",src:n(6697),className:l.default.marginBottom20}),null!=t?f(i.Title,{className:l.default.marginBottom8},void 0,t):null,f(i.SubTitle,{className:l.default.marginBottom40},void 0,o.default.Messages.BEEP_BOOP),f("div",{className:s.default.flexCenter},void 0,f(r.default,{onVerify:a,theme:r.default.Themes.DARK})))};c.displayName="AuthCaptcha";var p=c;t.default=p},6853:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var a,r=C(n(0)),i=b(n(7)),o=n(331),s=b(n(3)),l=n(26),u=b(n(853)),d=C(n(6657)),f=C(n(6602)),c=b(n(861)),p=n(6547),h=b(n(9)),v=b(n(6577)),m=b(n(457)),g=b(n(22)),_=b(n(61)),y=C(n(6544)),E=b(n(62)),I=b(n(14)),T=n(76),S=b(n(6852)),N=b(n(6742)),A=C(n(6609)),O=n(1),P=b(n(4)),R=b(n(451)),M=b(n(6177));function b(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function D(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}s.default.initialize();var B=/\.$/,U=function(e){return Array.isArray(e)?e.map(function(e){return e.replace(B,"")}).join(". ").trim():e},F=D(A.InviteResolvingHeader,{}),G=function(e){var t,n;function a(t){var n;(n=e.call(this,t)||this)._retryTimer=new l.Timeout,n.handleCaptchaVerify=function(e){return n.setState({captchaKey:e},function(){return n.handleRegister()})},n.handleGotoLogin=function(){var e=n.state.email,t=n.props,a=t.onLoginStart,r=t.giftCode,i=t.transitionTo,s=t.invite,l=t.redirectTo,c=t.isGuest,p=t.location;if(c)return f.close(),void d.open();var h,v=null!=p?(0,o.parse)(p.search):{};null!=s?h=O.Routes.INVITE_LOGIN(s.code):null!=r?h=O.Routes.GIFT_CODE_LOGIN(r.code):null!=l?(h=O.Routes.LOGIN,v.redirect_to=l):(h=O.Routes.LOGIN,""!==e&&(v={email:e})),u.default.loginReset(),i(h,{search:(0,o.stringify)(v)}),null!=a&&a(),T.ComponentDispatch.dispatch(O.ComponentActions.WAVE_EMPHASIZE)},n.handleSubmit=function(e){e&&e.preventDefault(),n.handleRegister()},n.renderGiftCodeHeader=function(e){return D(N.default,{giftCode:e})};var a=null!=t.location?(0,o.parse)(t.location.search):{};return n.state={email:a.email||"",username:"",password:"",captchaKey:null,consent:!t.consentRequired,consentRequiredProp:t.consentRequired,isRateLimited:!1},n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s,h,b,C=a.prototype;return C.hasConsent=function(){var e=this.props.consentRequired,t=this.state.consent;return null!=e&&t},C.componentDidMount=function(){this.redirectIfAuthenticated();var e=this.props,t=e.giftCodeSKU,n=e.invite;I.default.track(O.AnalyticEvents.REGISTER_VIEWED,L({location:null!=n?"Invite Register Page":"Non-Invite Register Page",registration_source:this.registrationSource},null!=t?(0,c.default)(t,!1,!1):{}),!0),null==this.props.consentRequired&&u.default.getConsentRequired(),(0,p.trackAppUIViewed)("register")},C.componentWillUnmount=function(){this._retryTimer.stop()},a.getDerivedStateFromProps=function(e,t){var n=e.consentRequired;return null==t.consentRequiredProp&&null!=n?{consent:!n,consentRequiredProp:n}:{consentRequiredProp:n}},C.componentDidUpdate=function(e){var t=this,n=this.props,a=n.errors,r=n.authenticated;e.errors!==a&&(this.hasError("email")?null!=this.emailRef&&this.emailRef.focus():this.hasError("username")?null!=this.usernameRef&&this.usernameRef.focus():this.hasError("password")?null!=this.passwordRef&&this.passwordRef.focus():this.hasError("retry_after")&&(this.setState({isRateLimited:!0}),this._retryTimer.start(this.props.errors.retry_after,function(){t.setState({isRateLimited:!1})}))),r&&!e.authenticated&&this.redirectIfAuthenticated()},C.redirectIfAuthenticated=function(){var e=this.props,t=e.authenticated,n=e.transitionTo,a=e.redirectTo;t&&n(null!=a?a:v.default.defaultRoute)},C.handleRegister=function(){var e=this.state,t=e.email,n=e.username,a=e.password,r=e.captchaKey,i=e.consent,o=this.props,s=o.invite,l=o.giftCode,d=o.consentRequired,f=null!=s?s.code:null,c=null!=l?l.skuId:null;null!==d&&(null!=s?u.default.register({username:n,consent:i,invite:f,giftCodeSKUId:c,captchaKey:r}):u.default.registerFull({email:t,username:n,consent:i,password:a,invite:f,giftCodeSKUId:c,captchaKey:r}),T.ComponentDispatch.dispatch(O.ComponentActions.WAVE_EMPHASIZE))},C.hasError=function(e){return null!=this.props.errors[e]},C.renderConsentComponents=function(){var e=this,t=this.state.consent,n=null,a=null;return this.props.consentRequired?a=D(g.default,{className:R.default.marginTop20,align:g.default.Align.CENTER},void 0,D(m.default,{value:t,type:m.default.Types.INVERTED,onChange:function(t,n){return e.setState({consent:n})},className:M.default.checkbox}),D(y.SubText,{},void 0,P.default.Messages.TERMS_PRIVACY_OPT_IN.format({termsURL:O.MarketingURLs.TERMS,privacyURL:O.MarketingURLs.PRIVACY}))):n=D(y.SubText,{className:R.default.marginTop20},void 0,P.default.Messages.TERMS_PRIVACY.format({termsURL:O.MarketingURLs.TERMS,privacyURL:O.MarketingURLs.PRIVACY})),{subText:n,consentText:a}},C.renderInviteResolving=function(){var e=this,t=this.props.authBoxClassName;return D(y.default,{className:t},void 0,F,D(y.Block,{className:R.default.marginTop40},void 0,D(E.default,{},void 0,P.default.Messages.FORM_LABEL_USERNAME),D(_.default,{text:P.default.Messages.AUTH_USERNAME_TOOLTIP,position:_.default.Positions.RIGHT,color:_.default.Colors.BRAND},void 0,function(t){var n=t.onMouseEnter,a=t.onMouseLeave;return D(y.Input,{autoFocus:!0,className:R.default.marginBottom8,name:"username",value:e.state.username,placeholder:P.default.Messages.FORM_PLACEHOLDER_USERNAME,onChange:function(t){return e.setState({username:t})},onMouseEnter:n,onMouseLeave:a})}),D(y.Button,{className:R.default.marginTop20,disabled:!0},void 0,P.default.Messages.CONTINUE),D(y.Button,{look:y.Button.Looks.LINK,disabled:!0,className:R.default.marginTop8},void 0,P.default.Messages.ALREADY_HAVE_ACCOUNT),D(y.SubText,{disabled:!0,className:R.default.marginTop20},void 0,P.default.Messages.TERMS_PRIVACY.format({termsURL:O.MarketingURLs.TERMS,privacyURL:O.MarketingURLs.PRIVACY}))))},C.renderInvite=function(){var e=this,t=this.props,n=t.invite,a=t.registering,i=t.consentRequired,o=t.authBoxClassName,s=t.errors.username,l=this.state.consent,u=this.renderConsentComponents(),d=u.subText,f=u.consentText,c=D(_.default,{text:!l&&i?P.default.Messages.TERMS_PRIVACY_OPT_IN_TOOLTIP:null},void 0,function(t){return r.createElement("div",L({className:R.default.marginTop20},t),D(y.Button,{type:"submit",submitting:a,disabled:!e.hasConsent()},void 0,P.default.Messages.CONTINUE))});return D(y.default,{onSubmit:this.handleSubmit,tag:"form",className:o},void 0,D(A.default,{invite:n}),D(y.Block,{className:R.default.marginTop40},void 0,D(E.default,{error:U(s)},void 0,P.default.Messages.FORM_LABEL_USERNAME),D(_.default,{text:P.default.Messages.AUTH_USERNAME_TOOLTIP,position:_.default.Positions.RIGHT,color:_.default.Colors.BRAND},void 0,function(t){var n=t.onMouseEnter,a=t.onMouseLeave;return D(y.Input,{autoFocus:!0,className:R.default.marginBottom8,name:"username",value:e.state.username,placeholder:P.default.Messages.FORM_PLACEHOLDER_USERNAME,onChange:function(t){return e.setState({username:t})},error:null!=s?"":null,onMouseEnter:n,onMouseLeave:a})}),f,c,D(y.Button,{look:y.Button.Looks.LINK,onClick:this.handleGotoLogin,className:R.default.marginTop8},void 0,P.default.Messages.ALREADY_HAVE_ACCOUNT),d))},C.renderErrorMessage=function(){var e=this.props.errors.message,t=this.state.isRateLimited;return null!=e&&t?D(y.SubText,{className:(0,i.default)(R.default.marginTop20,M.default.errorMessage)},void 0,e):null},C.renderFull=function(e){var t=this,n=this.state,a=n.email,i=n.username,o=n.password,s=n.consent,l=this.props,u=l.registering,d=l.consentRequired,f=l.isGuest,c=l.authBoxClassName,p=l.errors,h=(p=void 0===p?{}:p).email,v=p.username,m=p.password,g=this.renderConsentComponents(),E=g.subText,I=g.consentText,T=this.renderErrorMessage(),S=D(_.default,{text:!s&&d?P.default.Messages.TERMS_PRIVACY_OPT_IN_TOOLTIP:null},void 0,function(e){return r.createElement("div",L({className:R.default.marginTop20},e),D(y.Button,{type:"submit",submitting:u,disabled:!t.hasConsent()||t.state.isRateLimited},void 0,P.default.Messages.CONTINUE))});return D(y.default,{onSubmit:this.handleSubmit,tag:"form",className:c},void 0,f?null:null!=e?e():D(y.Title,{},void 0,P.default.Messages.REGISTER_TITLE),D(y.Block,{className:R.default.marginTop20},void 0,D(y.Input,{autoFocus:!0,label:P.default.Messages.FORM_LABEL_EMAIL,className:R.default.marginBottom20,name:"email",value:a,onChange:function(e){return t.setState({email:e})},error:U(h),type:"email",setRef:function(e){t.emailRef=e}}),D(y.Input,{label:P.default.Messages.FORM_LABEL_USERNAME,className:R.default.marginBottom20,name:"username",value:i,onChange:function(e){return t.setState({username:e})},error:U(v),setRef:function(e){t.usernameRef=e}}),D(y.Input,{label:P.default.Messages.FORM_LABEL_PASSWORD,name:"password",value:o,onChange:function(e){return t.setState({password:e})},error:U(m),type:"password",setRef:function(e){t.passwordRef=e}}),I,S,T,D(y.Button,{look:y.Button.Looks.LINK,onClick:this.handleGotoLogin,className:R.default.marginTop8},void 0,P.default.Messages.ALREADY_HAVE_ACCOUNT),E))},C.render=function(){var e=this,t=this.props,n=t.isGuest,a=t.authBoxClassName;if(this.hasError("captcha_key"))return D(S.default,{authBoxClassName:a,onVerify:this.handleCaptchaVerify,title:n?null:P.default.Messages.REGISTER_TITLE});var r=this.props,i=r.invite,o=r.giftCode;return null!=i?i.state===O.InviteStates.RESOLVING?this.renderInviteResolving():this.renderInvite():null!=o?this.renderFull(function(){return e.renderGiftCodeHeader(o)}):this.renderFull()},s=a,(h=[{key:"registrationSource",get:function(){var e=this.props,t=e.giftCode,n=e.invite;return null!=t?"gift":null!=n?null!=n.guild?"guild_invite":"dm_invite":null}}])&&w(s.prototype,h),b&&w(s,b),a}(r.PureComponent);G.displayName="Register",G.defaultProps={giftCodeResolved:!1,transitionTo:function(t){return e.location.assign(t)}};var k=s.default.connectStores([h.default],function(){return{consentRequired:h.default.getConsentRequired(),authenticated:h.default.isAuthenticated(),registering:h.default.getRegisterStatus(),errors:h.default.getErrors()}})(G);t.default=k}).call(this,n(25))},6888:function(e,t,n){"use strict";var a={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},i="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,n){if("string"!=typeof t){var o=Object.getOwnPropertyNames(t);i&&(o=o.concat(Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;++s)if(!(a[o[s]]||r[o[s]]||n&&n[o[s]]))try{e[o[s]]=t[o[s]]}catch(e){}}return e}},7e3:function(e,t,n){"use strict";t.__esModule=!0,t.randomNumber=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},t.applySpringForce=function(e,t,n,a){return a.tension*(e-t)-a.friction*n}},7051:function(e,t,n){"use strict";t.__esModule=!0,t.makeAuthenticated=function(e,t,n){var a=f(t,{});void 0===n&&(n={passProps:!0});return function(l){if(!s.default.isAuthenticated()&&!s.default.isGuest()){if(null!=t)return a;var u=location.pathname+location.search;return f(i.Redirect,{to:(0,o.getLoginPath)(u,!1)})}return r.createElement(e,n.passProps?l:null)}},t.getArtForPath=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(0)),i=n(131),o=n(367),s=d(n(9)),l=d(n(7052)),u=d(n(7053));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.getArtForPath=function(e){if(null!=e&&/^\/developers/.test(e))return n(7054);var t=(new Date).getHours();return t>=6&&t<20?l.default:u.default}},7052:function(e,t,n){e.exports=n.p+"fd91131ea693096d6be5e8aa99d18f9e.jpg"},7053:function(e,t,n){e.exports=n.p+"14c037b7102f18b2d2ccf065a52bb595.jpg"},7054:function(e,t,n){e.exports=n.p+"edaed5daf032643e89ba411a3b99014b.jpg"},7379:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(0)),i=I(n(7)),o=I(n(3)),s=I(n(2)),l=n(182),u=n(6666),d=I(n(6826)),f=I(n(333)),c=I(n(453)),p=I(n(22)),h=I(n(7380)),v=I(n(148)),m=I(n(7381)),g=n(1),_=I(n(4)),y=I(n(6152)),E=I(n(5954));function I(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var N=10,A=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).state={pageIndex:0,lastIdFetched:null},t.scrollerRef=r.createRef(),t.handlePageChange=function(e){var n=t.props.payments,a=n[n.length-1].id;e===t.numPages-1&&t.state.lastIdFetched!==a?((0,l.fetchPayments)(N,a),t.setState({pageIndex:e,lastIdFetched:a})):t.setState({pageIndex:e})},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o,d,f,I=a.prototype;return I.componentDidMount=function(){s.default.wait(function(){(0,u.fetchActivityStatistics)(),(0,l.fetchPayments)(N+N)})},I.componentDidUpdate=function(e,t){if(this.state.pageIndex!==t.pageIndex){var n=this.scrollerRef.current;null!=n&&n.scrollTo(0)}},I.renderPage=function(){var e=this.props,t=e.compactMode,n=e.locale,a=e.payments,o=this.state.pageIndex,s=a.slice(o*N,(o+1)*N);return T(r.Fragment,{},void 0,s.map(function(e,a){return T(m.default,{className:(0,i.default)(y.default.paymentRow,y.default.bottomDivider),payment:e,locale:n,compactMode:t},a)}))},I.renderPremiumAppleSubscription=function(){return T(c.default,{className:y.default.appleRow},void 0,T("div",{className:y.default.appleRowHeader},void 0,_.default.Messages.BILLING_APPLE_HEADER),T("div",{className:y.default.appleRowBody},void 0,_.default.Messages.BILLING_APPLE_DESCRIPTION.format({appleBillingLink:g.AppleBillingUrls.BILLING_MANAGEMENT})))},I.render=function(){var e=this.props,t=e.compactMode,n=e.payments,a=e.subscription,o=this.state.pageIndex,s=null!=a&&a.isPurchasedViaApple;return 0!==n.length||s?T("div",{className:y.default.verticalFit},void 0,s?this.renderPremiumAppleSubscription():null,n.length>0?T("div",{className:(0,i.default)(y.default.paymentPane,y.default.verticalFit)},void 0,t?null:T("div",{className:(0,i.default)(y.default.paymentRow,y.default.bottomDivider)},void 0,T(p.default,{className:y.default.paymentRowHeader},void 0,T("div",{className:E.default.date},void 0,_.default.Messages.BILLING_PAYMENT_TABLE_HEADER_DATE),T("div",{className:y.default.paymentRowHeaderDescription},void 0,_.default.Messages.BILLING_PAYMENT_TABLE_HEADER_DESCRIPTION),T("div",{className:E.default.amount},void 0,_.default.Messages.BILLING_PAYMENT_TABLE_HEADER_AMOUNT))),T(h.default,{className:(0,i.default)(y.default.verticalFit,y.default.paginator),currentPageIndex:o,onChangePage:this.handlePageChange,numPages:this.numPages},void 0,r.createElement(v.default,{outerClassName:y.default.bottomDivider,theme:v.default.Themes.GHOST_HAIRLINE,ref:this.scrollerRef},this.renderPage()))):null):null},o=a,(d=[{key:"numPages",get:function(){return Math.max(Math.ceil(this.props.payments.length/N),1)}}])&&S(o.prototype,d),f&&S(o,f),a}(r.PureComponent);A.displayName="PaymentHistory",A.defaultProps={compactMode:!1};var O=o.default.connectStores([d.default,f.default],function(){return{payments:d.default.getPayments(),subscription:f.default.getSubscription()}})(A);t.default=O},7380:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}t.default=e}(n(0));var a,r=l(n(7)),i=l(n(39)),o=l(n(4)),s=l(n(6150));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t,n,a=e.currentPageIndex,l=e.numPages,d=e.onChangePage,f=e.children,c=e.className,p=e.showPageCount,h=void 0===p||p;return u("div",{className:(0,r.default)(s.default.paginator,c)},void 0,f,u("div",{className:s.default.pageActions},void 0,u(i.default,{name:i.default.Names.LEFT_CARET,onClick:function(){a>0&&d(a-1)},className:(0,r.default)(s.default.pageButtonPrev,(t={},t[s.default.disabled]=0===a,t))}),u("div",{className:s.default.pageIndicator},void 0,h?o.default.Messages.PAGINATOR_OF_PAGES.format({currentPage:a+1,numPages:l}):o.default.Messages.PAGINATOR_CURRENT_PAGE.format({currentPage:a+1})),u(i.default,{name:i.default.Names.RIGHT_CARET,onClick:function(){a<l-1&&d(a+1)},className:(0,r.default)(s.default.pageButtonNext,(n={},n[s.default.disabled]=a>=l-1,n))})))};d.displayName="Paginator";var f=d;t.default=f},7381:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(0)),i=O(n(7)),o=O(n(78)),s=O(n(5)),l=O(n(3)),u=n(350),d=O(n(20)),f=O(n(230)),c=O(n(105)),p=O(n(22)),h=O(n(264)),v=O(n(39)),m=O(n(199)),g=O(n(61)),_=O(n(289)),y=n(458),E=O(n(92)),I=n(152),T=O(n(6845)),S=n(1),N=O(n(4)),A=O(n(5954));function O(e){return e&&e.__esModule?e:{default:e}}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function R(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function M(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var b=14,C=5,L=2,D=function(e){return"https://support.discordapp.com/hc/"+e.toLowerCase()+"/requests/new?ticket_form_id=360000118612"},w=(0,o.default)({TIME_PLAYED:null,PURCHASE_DATE:null,SKU_TYPE:null,ALREADY_REFUNDED:null,PAYMENT_STATUS:null}),B=[S.PaymentStatusTypes.FAILED,S.PaymentStatusTypes.REVERSED],U=function(e){var t=e.description,n=e.cost;return M("li",{className:A.default.paymentDetail},void 0,M(p.default,{justify:p.default.Justify.BETWEEN},void 0,M("div",{},void 0,t),M("div",{},void 0,n)))};U.displayName="PaymentDetail";var F=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={expanded:!1},t.refundRules=[{rule:w.TIME_PLAYED,canRefund:function(){if(t.isSkuPreorder)return!0;var e=t.timePlayed;return null==e||e.asMilliseconds()<s.default.duration(L,"hours").asMilliseconds()}},{rule:w.PURCHASE_DATE,canRefund:function(){var e=t.props.payment;if(t.isSkuPreorder)return!0;var n=e.isPremiumSubscription||e.isPremiumGift?C:b;return t.daysSincePurchase<=n}},{rule:w.SKU_TYPE,canRefund:function(){var e=t.props.payment;return null==e.sku||e.sku.type!==S.SKUTypes.CONSUMABLE}},{rule:w.ALREADY_REFUNDED,canRefund:function(){var e=t.props.payment;return e.amountRefunded<e.amount}},{rule:w.PAYMENT_STATUS,canRefund:function(){var e=t.props.payment;return!B.includes(e.status)}}],t.handleExpandInfo=function(){t.setState({expanded:!t.state.expanded})},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o,l,d,f=a.prototype;return f.validateRefundRules=function(){return this.refundRules.filter(function(e){return!(0,e.canRefund)()}).map(function(e){return e.rule})},f.renderStatus=function(){switch(this.props.payment.status){case S.PaymentStatusTypes.PENDING:return M("span",{className:A.default.statusTagGrey},void 0,N.default.Messages.BILLING_TAG_PENDING);case S.PaymentStatusTypes.FAILED:return M("span",{className:A.default.statusTagRed},void 0,N.default.Messages.BILLING_TAG_FAILED);case S.PaymentStatusTypes.REFUNDED:return M("span",{className:A.default.statusTagGreen},void 0,N.default.Messages.BILLING_TAG_REFUNDED);case S.PaymentStatusTypes.REVERSED:return M("span",{className:A.default.statusTagRed},void 0,N.default.Messages.BILLING_TAG_REVERSED);default:return null}},f.renderPrice=function(){var e=this.props.payment;return M("span",{},void 0,(0,I.formatPrice)(e.amount,e.currency))},f.renderPaymentBreakdown=function(){var e=this.props,t=e.payment,n=e.locale,a=t.taxInclusive,o=t.tax,s=t.amount,l=t.currency;return M("div",{className:(0,i.default)(A.default.paymentText,A.default.paymentBreakdown)},void 0,null!=t.paymentSource?M(T.default,{paymentSource:t.paymentSource,locale:n,descriptionClassName:A.default.paymentText}):null,M("ul",{},void 0,!a&&o>0?M(r.Fragment,{},void 0,M(U,{description:t.description,cost:(0,I.formatPrice)(s-o,l)}),M(U,{description:N.default.Messages.BILLING_PAYMENT_BREAKDOWN_TAXES,cost:(0,I.formatPrice)(o,l)})):null,M(U,{description:N.default.Messages.BILLING_PAYMENT_BREAKDOWN_TOTAL,cost:(0,I.formatPrice)(s,l)})))},f.renderRefundDetails=function(){var e=this.props,t=e.locale,n=e.payment,a=this.validateRefundRules();if(a.includes(w.PAYMENT_STATUS)||a.includes(w.ALREADY_REFUNDED))return null;var i,o=0===a.length,s=D(t);return i=a.includes(w.SKU_TYPE)?N.default.Messages.BILLING_APPLICATION_CONSUMABLE_REFUND_TEXT_UNABLE.format({supportURL:s}):o?n.isPreorder&&this.isSkuPreorder?N.default.Messages.BILLING_PREORDER_REFUND_TEXT.format({supportURL:s}):n.isPremiumSubscription?N.default.Messages.BILLING_PREMIUM_REFUND_TEXT.format({dateLimit:C,supportURL:s}):n.isGift?N.default.Messages.BILLING_GIFT_REFUND_TEXT.format({dateLimit:n.isPremiumGift?C:b,supportURL:s}):N.default.Messages.BILLING_APPLICATION_REFUND_TEXT.format({dateLimit:b,playtimeLimit:L,supportURL:s}):n.isGift?N.default.Messages.BILLING_GIFT_REFUND_TEXT_UNABLE.format({dateLimit:b}):n.isPremiumSubscription?N.default.Messages.BILLING_PREMIUM_REFUND_TEXT_UNABLE.format({dateLimit:C,supportURL:s}):N.default.Messages.BILLING_APPLICATION_REFUND_TEXT_UNABLE.format({dateLimit:b,playtimeLimit:L}),M(r.Fragment,{},void 0,M("h2",{className:A.default.paymentHeader},void 0,N.default.Messages.BILLING_REFUND_HEADER),M("div",{className:A.default.paymentText},void 0,M("div",{},void 0,i),this.renderRefundActions(a)))},f.renderRefundActions=function(e){var t=this.props,n=t.locale,a=t.payment;return this.isSkuPreorder||e.includes(w.SKU_TYPE)?null:M(p.default,{justify:p.default.Justify.BETWEEN,align:p.default.Align.END},void 0,M(p.default,{},void 0,M("div",{className:A.default.refundCriteria},void 0,M("h3",{className:A.default.refundSubHeader},void 0,a.isPreorder?N.default.Messages.BILLING_REFUND_RELEASE_DATE_SUBHEADER:N.default.Messages.BILLING_REFUND_PURCHASE_DATE_SUBHEADER),M(p.default,{align:p.default.Align.CENTER},void 0,M(v.default,{name:e.includes(w.PURCHASE_DATE)?v.default.Names.CLOSE:v.default.Names.CHECKMARK,className:A.default.refundCriteriaIcon}),M("div",{},void 0,N.default.Messages.BILLING_REFUND_PURCHASE_DATE.format({daysSincePurchase:this.daysSincePurchase})))),a.isPremiumSubscription||a.isGift?null:M("div",{className:A.default.refundCriteria},void 0,M("h3",{className:A.default.refundSubHeader},void 0,N.default.Messages.BILLING_REFUND_PLAY_TIME_SUBHEADER),M(p.default,{},void 0,M(v.default,{name:e.includes(w.TIME_PLAYED)?v.default.Names.CLOSE:v.default.Names.CHECKMARK,className:A.default.refundCriteriaIcon}),M("div",{},void 0,null!=this.timePlayed?this.timePlayed.humanize():N.default.Messages.BILLING_REFUND_PLAY_TIME_NEVER_PLAYED)))),M(c.default,{href:D(n)},void 0,N.default.Messages.BILLING_REFUND_REPORT_A_PROBLEM))},f.renderDescription=function(){var e,t,n=this.props,a=n.compactMode,i=n.payment,o=n.application,l=i.sku,u=i.subscription;if(null!=u&&null!=u.planId){var d,f=[];E.default.isNoneSubscription(u.planId)||(f.push(E.default.getDisplayName(u.planId)),d=S.SubscriptionPlanInfo[u.planId]);var c=u.additionalPlans,p=Array.isArray(c),m=0;for(c=p?c:c[Symbol.iterator]();;){var _;if(p){if(m>=c.length)break;_=c[m++]}else{if((m=c.next()).done)break;_=m.value}var I=_,T=I.planId,O=I.quantity;f.push((O>1?O+"x ":"")+E.default.getDisplayName(T)),null==d&&(d=S.SubscriptionPlanInfo[T])}t=f.join(", "),e=M(h.default,{className:A.default.descriptionIcon,game:o,size:h.default.Sizes.XSMALL,skuId:null!=d?d.skuId:null})}else null!=l?(t=i.isPreorder?N.default.Messages.PREORDER_SKU_NAME.format({name:l.name}):l.name,e=M(h.default,{className:A.default.descriptionIcon,game:o,size:h.default.Sizes.XSMALL,skuId:l.id})):(e=M(v.default,{className:A.default.descriptionIcon,name:v.default.Names.NITRO_WHEEL}),t=i.description);var R=M("div",{className:A.default.date},void 0,(0,y.dateFormat)((0,s.default)(i.createdAt),"MM/DD/YYYY")),b=i.isGift?M(g.default,{text:N.default.Messages.BILLING_GIFT_PURCHASE_TOOLTIP},void 0,function(e){return r.createElement(v.default,P({className:A.default.giftIcon,name:v.default.Names.GIFT},e))}):null;return a?M("div",{className:A.default.description},void 0,e,M("div",{},void 0,t,R),b):M(r.Fragment,{},void 0,R,M("div",{className:A.default.description},void 0,e,M("div",{},void 0,t),b))},f.renderExpandedSection=function(){return M("div",{className:A.default.expandedInfo},void 0,M("h2",{className:A.default.paymentHeader},void 0,N.default.Messages.BILLING_PURCHASE_DETAILS_HEADER),this.renderPaymentBreakdown(),this.renderRefundDetails())},f.render=function(){var e,t=this.state.expanded,n=this.props,a=n.className,r=n.compactMode;return M("div",{className:(0,i.default)(t?A.default.payment:A.default.hoverablePayment,a,(e={},e[A.default.compact]=r,e))},void 0,M(p.default,{onClick:this.handleExpandInfo,className:A.default.summaryInfo,align:p.default.Align.CENTER},void 0,this.renderDescription(),M("div",{className:A.default.amount},void 0,this.renderStatus(),this.renderPrice()),M(v.default,{name:v.default.Names.CARET,className:A.default.expand,direction:t?_.default.Directions.UP:_.default.Directions.DOWN})),t?this.renderExpandedSection():null)},o=a,(l=[{key:"timePlayed",get:function(){var e=this.props.applicationStatistics;return null!=e&&null!=e.total_discord_sku_duration?s.default.duration(e.total_discord_sku_duration,"seconds"):null}},{key:"daysSincePurchase",get:function(){var e=this.props.payment,t=null!=e.sku?e.sku.releaseDate:null,n=null!=t&&t.isAfter(e.createdAt)?t:e.createdAt;return(0,s.default)().diff(n,"days")}},{key:"isSkuPreorder",get:function(){var e=this.props.payment;return null!=e.sku&&e.sku.isPreorder()}},{key:"typeString",get:function(){var e=this.props.payment.paymentSource;return e instanceof u.PaypalSourceRecord?m.default.Types.PAYPAL:e instanceof u.CreditCardSourceRecord?m.default.getType(e.brand):m.default.Types.UNKNOWN}}])&&R(o.prototype,l),d&&R(o,d),a}(r.PureComponent);F.displayName="PaymentHistoryRow",F.defaultProps={compactMode:!1};var G=l.default.connectStores([f.default],function(e){var t=e.payment,n=null!=t.sku&&t.sku.type===S.SKUTypes.GAME?t.sku.applicationId:null;return{applicationStatistics:null!=n?f.default.getCurrentUserStatisticsForApplication(n):null,application:null!=n?d.default.getGame(n):null}})(F);t.default=G},7382:function(e,t,n){"use strict";t.__esModule=!0,t.getLocalizedDisplayMonth=function(e,t){var n=new Date;return n.setMonth(e-1),n.toLocaleString(t,{month:"short"})}},7854:function(e,t,n){e.exports=n.p+"e0c782560fd96acd7f01fda1f8c6ff24.svg"},7855:function(e,t,n){e.exports=n.p+"17192d3fe939ecf404e8cdd64b340469.svg"},7856:function(e,t,n){e.exports=n.p+"375217725f8ad1df6310e6738a7306e4.svg"},7857:function(e,t,n){e.exports=n.p+"bdcfee0c4d9fb22ce3c47b593df14254.svg"},7858:function(e,t,n){e.exports=n.p+"ab4f6c12a1ced9de8b5d279056f21334.svg"},9339:function(e,t,n){"use strict";t.__esModule=!0,t.default=F;var a,r=b(n(0)),i=M(n(15)),o=n(331),s=n(229),l=M(n(335)),u=n(256),d=b(n(3)),f=M(n(2)),c=M(n(853)),p=n(182),h=n(363),v=M(n(6645)),m=M(n(6829)),g=M(n(9340)),_=M(n(9)),y=M(n(333)),E=n(396),I=n(92),T=n(7750),S=n(9341),N=n(881),A=n(898),O=n(6547),P=n(1),R=M(n(4));function M(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function C(e,t,n,a,r,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,r)}function L(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}d.default.initialize();var D={page:P.AnalyticsPages.DIRECT,object:P.AnalyticsObjects.BUTTON_CTA,objectType:P.AnalyticsObjectTypes.BUY};function w(e){var t=e.planId,n=e.subscription,a=e.onComplete,i=(0,s.useLazyValue)(function(){return null==n});return r.useEffect(function(){null==n||(0,I.isNoneSubscription)(n.planId)||a(P.BillingRedirectResultTypes.CANCEL)},[]),i?L(N.PremiumSubscriptionNewPlanModal,{transitionState:E.ModalTransitionState.ENTERED,planId:t,analyticsLocation:D,onClose:function(e){a(e?P.BillingRedirectResultTypes.PREMIUM:P.BillingRedirectResultTypes.CANCEL)}}):L(A.PremiumSwitchPlanModal,{transitionState:E.ModalTransitionState.ENTERED,initialPlanId:t,onClose:function(e){a(e?P.BillingRedirectResultTypes.PREMIUM:P.BillingRedirectResultTypes.CANCEL)},analyticsLocation:D})}function B(e){var t=e.planId,n=e.onComplete,a=(0,d.useStateFromStoresArray)([y.default],function(){return[y.default.getSubscription(),y.default.hasFetchedSubscriptions()]}),r=a[0];return a[1]?L(w,{planId:t,subscription:r,onComplete:n}):null}function U(e){var t=e.location,n=e.redirectTo,a=r.useState(function(){return!0}),s=a[0],d=a[1];r.useEffect(function(){function e(){var t;return t=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Promise(function(e,t){f.default.wait(function(){(0,p.fetchSubscriptions)().then(e,t)})}),e.next=3,Promise.all([(0,p.fetchPaymentSources)(),t]);case 3:d(!1);case 4:case"end":return e.stop()}},e)}),(e=function(){var e=this,n=arguments;return new Promise(function(a,r){var i=t.apply(e,n);function o(e){C(i,a,r,o,s,"next",e)}function s(e){C(i,a,r,o,s,"throw",e)}o(void 0)})}).apply(this,arguments)}(0,h.fetchCurrentUserWithAnalyticsToken)(),function(){e.apply(this,arguments)}()},[]);var c=r.useRef(!1),v=t.search,_=r.useMemo(function(){return(0,o.parse)(v)},[v]),y=_.plan_id,I=_.gift;function O(e){if(!c.current){c.current=!0;var t=new URL(null!=n?n:P.Routes.APP,window.location.origin);t.searchParams.set("result_type",e),window.location=t.href}}if(s)return null;var M=L(B,{planId:y,onComplete:O});return L("div",{},void 0,L(l.default,{title:R.default.Messages.PREMIUM_TITLE}),L(u.Switch,{},void 0,L(u.Route,{path:P.Routes.BILLING_PREMIUM_SUBSCRIBE,render:function(){return(0,i.default)(null!=y,"Expected planId"),"true"===I?L(N.PremiumSubscriptionNewPlanModal,{transitionState:E.ModalTransitionState.ENTERED,planId:y,isGift:!0,analyticsLocation:D,onClose:function(e){O(e?P.BillingRedirectResultTypes.PREMIUM:P.BillingRedirectResultTypes.CANCEL)}}):M}}),L(u.Route,{path:P.Routes.BILLING_PREMIUM_SWITCH_PLAN,render:function(){return L(A.PremiumSwitchPlanModal,{transitionState:E.ModalTransitionState.ENTERED,initialPlanId:y,onClose:function(e){return O(e?P.BillingRedirectResultTypes.PREMIUM:P.BillingRedirectResultTypes.CANCEL)},analyticsLocation:D})}}),L(u.Route,{path:P.Routes.BILLING_GUILD_SUBSCRIPTIONS_PURCHASE,render:function(){return L(T.PremiumGuildSubscriptionPurchaseModal,{transitionState:E.ModalTransitionState.ENTERED,onClose:function(e){return O(e?P.BillingRedirectResultTypes.PREMIUM:P.BillingRedirectResultTypes.CANCEL)},disablePremiumUpsell:!0,analyticsLocation:D})}}),L(u.Route,{path:P.Routes.BILLING_PAYMENT_SOURCES_CREATE,render:function(){return L(m.default,{onClose:function(){return O(P.BillingRedirectResultTypes.CANCEL)},onAddPaymentSource:function(){return O(P.BillingRedirectResultTypes.PAYMENT_SOURCE)}})}}),L(u.Route,{path:P.Routes.BILLING_PAYMENTS,render:function(e){var t=e.transitionTo;return L(g.default,{transitionTo:t,redirectTo:n})}}),L(u.Route,{path:P.Routes.BILLING_XBOX_GAME_PASS_PROMOTION_REDEMPTION(":code"),render:function(e){var t=e.match;return L(S.PremiumSubscriptionGamePassRedemptionModal,{transitionState:E.ModalTransitionState.ENTERED,giftCode:t.params.code,onClose:function(e){O(e?P.BillingRedirectResultTypes.PREMIUM:P.BillingRedirectResultTypes.CANCEL)}})}})))}function F(e){var t=(0,d.useStateFromStores)([_.default],function(){return _.default.isAuthenticated()});if(r.useEffect(function(){t&&c.default.verifySSOToken(),(0,O.trackAppUIViewed)("premium")},[]),!t){var n=e.transitionTo,a=e.location;return L(v.default,{transitionTo:n,location:a,redirectTo:""+a.pathname+a.search})}var i=e.redirectTo;return L(U,{location:e.location,redirectTo:i})}w.displayName="PremiumSubscriptionNewPlanLoaded",B.displayName="PremiumSubscriptionNewPlanScreen",U.displayName="AuthenticatedBillingStandalonePage",F.displayName="BillingStandalonePage"},9340:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(0)),i=E(n(7)),o=E(n(335)),s=E(n(3)),l=n(6547),u=E(n(9)),d=E(n(23)),f=E(n(453)),c=E(n(22)),p=E(n(62)),h=n(263),v=E(n(6645)),m=E(n(7379)),g=n(1),_=E(n(4)),y=E(n(6486));function E(e){return e&&e.__esModule?e:{default:e}}function I(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}s.default.initialize();var S=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=a.prototype;return s.componentDidMount=function(){(0,l.trackAppUIViewed)("payment_history")},s.render=function(){var e=this.props,t=e.authenticated,n=e.locale,a=e.transitionTo;return t?I(f.default,{className:(0,i.default)(y.default.card,(0,h.getThemeClass)(g.ThemeTypes.DARK)),type:f.default.Types.CUSTOM},void 0,I(o.default,{title:_.default.Messages.BILLING_PAYMENT_HISTORY}),I(p.default,{tag:p.default.Tags.H2,className:y.default.title},void 0,I(c.default,{align:c.default.Align.CENTER},void 0,_.default.Messages.BILLING_PAYMENT_HISTORY)),I(m.default,{locale:n,compactMode:!0})):r.createElement(v.default,T({transitionTo:a,location:location},{redirectTo:g.Routes.BILLING_PAYMENTS}))},a}(r.PureComponent);S.displayName="PaymentHistoryPage",S.defaultProps={transitionTo:function(t){return e.location.assign(t)}};var N=s.default.connectStores([u.default,d.default],function(){return{authenticated:u.default.isAuthenticated(),locale:d.default.locale}})(S);t.default=N}).call(this,n(25))},9341:function(e,t,n){"use strict";t.__esModule=!0,t.PremiumSubscriptionGamePassRedemptionModal=le;var a,r=V(n(0)),i=H(n(15)),o=H(n(5)),s=n(3),l=n(182),u=n(876),d=H(n(478)),f=H(n(355)),c=H(n(527)),p=H(n(93)),h=H(n(219)),v=H(n(333)),m=H(n(105)),g=H(n(19)),_=H(n(22)),y=H(n(528)),E=H(n(178)),I=H(n(61)),T=n(132),S=n(218),N=H(n(14)),A=V(n(92)),O=n(152),P=n(382),R=n(202),M=n(280),b=n(295),C=n(359),L=H(n(529)),D=H(n(545)),w=n(530),B=n(486),U=n(881),F=H(n(546)),G=n(1),k=H(n(4)),x=H(n(6487)),j=H(n(1044));function H(e){return e&&e.__esModule?e:{default:e}}function V(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function W(e,t,n,a,r,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,r)}function Y(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var i=e.apply(t,n);function o(e){W(i,a,r,o,s,"next",e)}function s(e){W(i,a,r,o,s,"throw",e)}o(void 0)})}}function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function X(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var K=[R.Step.PAYMENT_TYPE,R.Step.REVIEW,R.Step.CONFIRM],$=[].concat(w.SHARED_ADD_PAYMENT_STEPS,[R.Step.REVIEW,R.Step.CONFIRM]),q=[].concat(w.SHARED_CREDIT_CARD_STEPS,[R.Step.REVIEW,R.Step.CONFIRM]),Z=[].concat(w.SHARED_PAYPAL_STEPS,[R.Step.REVIEW,R.Step.CONFIRM]),J=[].concat(w.SHARED_PAYMENT_REQUEST_STEPS,[R.Step.REVIEW,R.Step.CONFIRM]),Q=2,ee=500,te=G.SubscriptionPlans.PREMIUM_MONTH_TIER_2,ne=3,ae=Object.freeze({NEW_SUBSCRIPTION:1,NONE_SUBSCRIPTION:2,EXISTING_SUBSCRIPTION:3}),re=X(C.PremiumInvoiceTableDivider,{});function ie(e){var t,n=e.paymentSources,a=e.paymentSourceId,i=e.plan,l=e.renewalInvoicePreview,u=e.onPaymentSourceChange,c=e.handlePaymentSourceAdd,h=e.setHasAcceptedTerms,v=e.legalTermsNodeRef,m=e.hasLegalTermsFlash,g=(0,s.useStateFromStores)([p.default],function(){return p.default.enabled});return null==l?X(E.default,{className:j.default.reviewLoader}):(t=X(C.PremiumInvoiceTable,{className:j.default.invoice},void 0,X(C.PremiumInvoiceTableHeader,{},void 0,k.default.Messages.BILLING_SWITCH_PLAN_SUBSCRIPTION_COST),X(C.PremiumInvoiceTableRow,{label:A.default.getDisplayName(i.id),value:(0,O.formatPrice)(i.price,l.currency)}),re,X(C.PremiumInvoiceTableTotalRow,{label:k.default.Messages.BILLING_INVOICE_TODAY_TOTAL.format(),value:(0,O.formatPrice)(0,l.currency)}),X(B.SubscriptionInvoiceFooter,{renewalInvoice:l,overrideRenewalDate:(0,o.default)().add(ne,"months").toDate()})),X("div",{className:j.default.stepBody},void 0,X(T.FormTitle,{tag:T.FormTitleTags.H5,className:j.default.invoiceHeader},void 0,k.default.Messages.PAYMENT_MODAL_BUTTON_PREMIUM.format({planPremiumType:A.default.getDisplayName(i.id)})),X("div",{className:x.default.bodyText},void 0,k.default.Messages.XBOX_GAME_PASS_PROMOTION_REDEEM_BODY),t,X("div",{className:j.default.paymentSourceWrapper},void 0,X(T.FormTitle,{tag:T.FormTitleTags.H5},void 0,k.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_INFO_TITLE),X(d.default,{paymentSources:Object.values(n),selectedPaymentSourceId:a,prependOption:0===Object.keys(n).length?{label:k.default.Messages.ATTACH_PAYMENT_SOURCE_PROMPT_OPTION,value:null}:null,onChange:u,onPaymentSourceAdd:c,hidePersonalInformation:g})),r.createElement(L.default,{isActive:m,ref:v},X(f.default,{onChange:h,forceShow:!0,className:j.default.purchaseTerms}),X("div",{className:j.default.subscriptionLegal},void 0,A.default.getLegalString(i.interval)))))}function oe(e){var t=e.plan,n=e.giftCode,a=e.hasAcceptedTerms,i=e.paymentSource,o=e.setPurchaseState,s=e.onNext,l=e.legalTermsNodeRef,d=e.flashLegalTerms,f=r.useState(!1),c=f[0],p=f[1],h=k.default.Messages.PAYMENT_MODAL_BUTTON_PREMIUM.format({planPremiumType:A.default.getDisplayName(t.id)}),v=function(){null!=l.current&&(l.current.scrollIntoView({behavior:"smooth"}),d())};return X(S.ModalFooter,{align:_.default.Align.CENTER},void 0,a&&null!=i?X(g.default,{onClick:Y(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),o(b.PurchaseState.PURCHASING),e.prev=2,e.next=5,(0,u.redeemGiftCode)(n,{paymentSourceId:i.id});case 5:o(b.PurchaseState.COMPLETED),s(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),o(b.PurchaseState.FAIL,e.t0);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[2,9,12,15]])})),color:g.default.Colors.GREEN,submitting:c},void 0,h):X(I.default,{text:null==i?k.default.Messages.BILLING_SELECT_PAYMENT_SOURCE_TOOLTIP:k.default.Messages.BILLING_ACCEPT_TERMS_TOOLTIP},void 0,function(e){return r.createElement(g.default,z({},e,{onClick:a?null:v,color:g.default.Colors.GREEN,type:"submit",disabled:a}),h)}))}function se(e){var t=e.renderPaymentModalContents,n=e.giftCode,a=e.subscription,i=e.setPurchaseState,o=e.step,s=e.setStep,l=e.onClose,d=r.useState(!1),f=d[0],c=d[1];return o===R.Step.CONFIRM?t({body:X("div",{className:x.default.body},void 0,X("div",{className:x.default.title},void 0,k.default.Messages.XBOX_GAME_PASS_PROMOTION_ACCOUNT_CREDIT_CONFIRM_TITLE),X("div",{className:x.default.bodyText},void 0,k.default.Messages.XBOX_GAME_PASS_PROMOTION_ACCOUNT_CREDIT_CONFIRM_BODY.format({planName:A.default.getDisplayName(te)})),X(g.default,{onClick:l,size:g.default.Sizes.SMALL},void 0,k.default.Messages.OKAY)),footer:null,hideBreadcrumbs:!0}):t({body:X("div",{className:x.default.body},void 0,X("div",{className:x.default.title},void 0,k.default.Messages.XBOX_GAME_PASS_PROMOTION_ACCOUNT_CREDIT_TITLE),X("div",{className:x.default.bodyText},void 0,k.default.Messages.XBOX_GAME_PASS_PROMOTION_ACCOUNT_CREDIT_BODY.format({planName:A.default.getDisplayName(te)})),X(g.default,{onClick:Y(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),i(b.PurchaseState.PURCHASING),e.prev=2,e.next=5,(0,u.redeemGiftCode)(n,{paymentSourceId:a.paymentSourceId});case 5:i(b.PurchaseState.COMPLETED),s(R.Step.CONFIRM),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),i(b.PurchaseState.FAIL,e.t0);case 12:return e.prev=12,c(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[2,9,12,15]])})),size:g.default.Sizes.SMALL,submitting:f},void 0,k.default.Messages.XBOX_GAME_PASS_PROMOTION_ACCOUNT_CREDIT_BUTTON)),footer:null,hideBreadcrumbs:!0})}function le(e){var t=e.giftCode,n=e.onClose,a=e.transitionState,o=(0,w.useSharedPaymentModal)(),u=o.paymentSources,d=o.paymentSourceId,f=o.setPaymentSourceId,p=o.creditCardState,I=o.setCreditCardState,T=o.billingAddressState,O=o.setBillingAddressState,C=o.isSubmittingCurrentStep,L=o.setIsSubmittingCurrentStep,B=o.braintreeEmail,H=o.braintreeNonce,V=o.paymentError,W=o.paymentAuthenticationState,Y=o.purchaseError,z=o.setPurchaseError,ne=o.purchaseErrorBlockRef,re=(0,s.useStateFromStores)([h.default],function(){return h.default.getHardcoded(te)}),le=(0,s.useStateFromStores)([v.default],function(){return v.default.hasFetchedSubscriptions()}),ue=(0,s.useStateFromStores)([v.default],function(){return v.default.getSubscription()}),de=r.useState(null),fe=de[0],ce=de[1];le&&null==fe&&(null==ue?ce(ae.NEW_SUBSCRIPTION):(0,A.isNoneSubscription)(ue.planId)?ce(ae.NONE_SUBSCRIPTION):ce(ae.EXISTING_SUBSCRIPTION)),r.useEffect(function(){le||(0,l.fetchSubscriptions)()},[]);var pe=r.useState(R.Step.REVIEW),he=pe[0],ve=pe[1],me=r.useState(K),ge=me[0],_e=me[1],ye=r.useState(b.PurchaseState.WAITING),Ee=ye[0],Ie=ye[1],Te=r.useState(!1),Se=Te[0],Ne=Te[1],Ae=(0,M.useSubscriptionInvoice)({planId:re.id,renewal:!0})[0],Oe=r.useRef(null),Pe=(0,c.default)(!1,ee),Re=Pe[0],Me=Pe[1];r.useEffect(function(){N.default.track(G.AnalyticEvents.OPEN_MODAL,{type:"Game Pass Premium Redemption"})},[]),(0,P.setPaymentStepForAuthentication)(he,W,ve),(0,R.setPurchaseStateForStep)(he,Ee,Ie);var be=function(e){ve(e),null!=Y&&z(null)},Ce=function(e,t){Ie(e),z(t)},Le=function(){null!=n&&n(Ee===b.PurchaseState.COMPLETED)},De=function(e){var t=e.body,n=e.footer,a=e.hideBreadcrumbs,r=void 0!==a&&a;return X(D.default,{steps:ge,currentStep:he,paymentError:Y||V,body:t,footer:n,hideBreadcrumbs:r,purchaseErrorBlockRef:ne})},we=X(se,{renderPaymentModalContents:De,giftCode:t,subscription:ue,setPurchaseState:Ce,step:he,setStep:be,onClose:Le}),Be=X(F.default,{hideClose:!0,planId:te,onClose:Le});return X(y.default,{className:j.default.shaker,isShaking:Ee===b.PurchaseState.PURCHASING,intensity:Q},void 0,X(S.ModalRoot,{className:j.default.root,transitionState:a},void 0,X(U.PremiumSubscriptionNewPlanModalHeader,{premiumType:G.PremiumTypes.TIER_2,step:he,purchaseState:Ee,onClose:Le}),X("form",{className:j.default.contentWrapper,onSubmit:function(e){return e.preventDefault()}},void 0,function(){if(null==fe)return X(E.default,{className:j.default.reviewLoader});if(fe===ae.EXISTING_SUBSCRIPTION)return De({body:X("div",{className:x.default.body},void 0,X("div",{className:x.default.title},void 0,k.default.Messages.XBOX_GAME_PASS_PROMOTION_EXISTING_SUBSCRIBER_TITLE),X("div",{className:x.default.bodyText},void 0,k.default.Messages.XBOX_GAME_PASS_PROMOTION_EXISTING_SUBSCRIBER_BODY),X(g.default,{size:g.default.Sizes.SMALL,onClick:Le},void 0,k.default.Messages.OKAY)),footer:null,hideBreadcrumbs:!0});if(fe===ae.NONE_SUBSCRIPTION)return(0,i.default)(null!=ue,"Expected subscription"),we;switch(he){case R.Step.PAYMENT_TYPE:case R.Step.CREDIT_CARD_INFORMATION:case R.Step.PAYPAL_INFORMATION:case R.Step.PAYMENT_REQUEST_INFORMATION:case R.Step.ADDRESS:case R.Step.AWAITING_AUTHENTICATION:var e=(0,w.renderPaymentModalStep)(he,be,ge,_e,T,O,u,f,p,I,C,L,B,H,R.Step.REVIEW,q,Z,J,$),n=e.body,a=e.backStep,r=e.submitButton;return De({body:n,footer:null!=r||null!=a?X(S.ModalFooter,{justify:_.default.Justify.BETWEEN,align:_.default.Align.CENTER},void 0,X("div",{},void 0,r),null!=a?X(m.default,{onClick:function(){return be(a)},className:j.default.backLink},void 0,k.default.Messages.BACK):null):null});case R.Step.REVIEW:return De({body:X(ie,{paymentSources:u,paymentSourceId:d,plan:re,renewalInvoicePreview:Ae,onPaymentSourceChange:function(e){return f(null!=e?e.id:null)},handlePaymentSourceAdd:function(){return be(R.Step.PAYMENT_TYPE)},setHasAcceptedTerms:Ne,legalTermsNodeRef:Oe,hasLegalTermsFlash:Re}),footer:X(oe,{giftCode:t,plan:re,hasAcceptedTerms:Se,paymentSource:null!=d?u[d]:null,setPurchaseState:Ce,onNext:function(){return be(R.Step.CONFIRM)},legalTermsNodeRef:Oe,flashLegalTerms:function(){return Me(!0)}})});case R.Step.CONFIRM:return De({body:Be,footer:null,hideBreadcrumbs:!0});default:throw new Error("Unexpected step "+he)}}())))}ie.displayName="ReviewStepBody",oe.displayName="ReviewStepFooter",le.displayName="PremiumSubscriptionGamePassRedemptionModal"},9342:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=o(n(38)),r=n(532),i=o(n(18));function o(e){return e&&e.__esModule?e:{default:e}}var s={getIdleTime:function(e){i.default.getIdleMilliseconds(e)},dump:function(e){var t;performance.memory&&(t={jsHeapSizeLimit:performance.memory.jsHeapSizeLimit,totalJSHeapSize:performance.memory.totalJSHeapSize,usedJSHeapSize:performance.memory.usedJSHeapSize});var n={browser:{name:a.default.name,version:a.default.version},os:{name:a.default.os.family,version:a.default.os.version},memory:t};e(n)},getTimeSinceNavigationStart:function(){return Date.now()-r.navigationStart}};t.default=s},9343:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(0)),i=f(n(893)),o=f(n(116)),s=n(185),l=n(868),u=f(n(5957)),d=f(n(6488));function f(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var p=(0,s.cssValueToNumber)(u.default.responsiveWidthMobile),h={START:0,END:1,OPACITY_INPUT_START:.5,OPACITY_INPUT_END:.7,OPACITY_OUTPUT_START:0,OPACITY_OUTPUT_END:1,SCALE_INPUT_START:0,SCALE_INPUT_END:1,SCALE_OUTPUT_START:.8,SCALE_OUTPUT_END:1},v={friction:10,tension:130};var m=function(e){return function(t){var n,s;function u(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))||this).anim=new o.default.Value(h.START),e.state={shouldAnimate:!l.isMobile},e.handleResize=function(){var t=window.innerWidth>p;!e.state.shouldAnimate&&t&&e.anim.setValue(h.END),e.setState({shouldAnimate:t})},e.handleResizeDebounced=(0,i.default)(e.handleResize,60),e}s=t,(n=u).prototype=Object.create(s.prototype),n.prototype.constructor=n,n.__proto__=s;var f=u.prototype;return f.componentDidMount=function(){l.isMobile||(window.addEventListener("resize",this.handleResizeDebounced),this.handleResize())},f.componentWillUnmount=function(){clearTimeout(this.timeout),window.removeEventListener("resize",this.handleResizeDebounced)},f.componentWillAppear=function(e){this.state.shouldAnimate?this.animateTo(h.END,e):e()},f.componentWillEnter=function(e){var t=this;this.state.shouldAnimate?(clearTimeout(this.timeout),this.timeout=setTimeout(function(){return t.animateTo(h.END,e)},40)):e()},f.componentWillLeave=function(e){this.state.shouldAnimate?this.animateTo(h.START,e):e()},f.animateTo=function(e,t){o.default.spring(this.anim,c({toValue:e},v)).start(t)},f.getAnimatedStyle=function(){return this.state.shouldAnimate?{opacity:this.anim,transform:[{scale:this.anim.interpolate({inputRange:[0,1],outputRange:[1.05,1]})},{translateY:this.anim.interpolate({inputRange:[0,1],outputRange:["-70px","0px"]})},{translateZ:0}]}:null},f.render=function(){return function(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(o.default.div,{className:d.default.wrapper,style:this.getAnimatedStyle()},void 0,r.createElement(e,this.props))},u}(r.Component)};t.default=m},9344:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(0)),i=h(n(7)),o=h(n(9345)),s=h(n(9346)),l=n(6744),u=h(n(12)),d=h(n(33)),f=n(868),c=n(1),p=h(n(6492));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=[c.Routes.LOGIN,c.Routes.LOGIN_HANDOFF,c.Routes.REGISTER,c.Routes.INVITE(""),c.Routes.GIFT_CODE(""),c.Routes.DISABLE_EMAIL_NOTIFICATIONS,c.Routes.BILLING_PREMIUM_SUBSCRIBE,c.Routes.BILLING_PAYMENT_SOURCES_CREATE,c.Routes.BILLING_PAYMENTS,c.Routes.BILLING_PREMIUM_SWITCH_PLAN,c.Routes.BILLING_GUILD_SUBSCRIPTIONS_PURCHASE,c.Routes.VERIFY,c.Routes.AUTHORIZE_IP,c.Routes.RESET,c.Routes.HANDOFF],g=[c.Routes.APP,c.Routes.ACTIVITY,c.Routes.APPLICATION_LIBRARY,c.Routes.APPLICATION_STORE,"/channels/","/welcome/","/settings/",c.Routes.USERS("")];function _(e){return m.some(function(t){return e.startsWith(t)})}var y=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).updateWaveState=function(e){var t=n.state.waveState;n.setState({waveState:Math.max(t,e)})},n.transitionTo=function(e,t){var a=n.state.waveState;_(e)?d.default.transitionTo(e,t):n.setState({route:e,extra:t,waveState:Math.max(a,l.WaveStates.FILLING)})},n.replaceWith=function(e){var t=n.state.waveState;_(e)?d.default.replaceWith(e):n.setState({route:e,replaceWith:!0,waveState:Math.max(t,l.WaveStates.FILLING)})},n.state={waveState:l.WaveStates.INITIAL,extra:{},replaceWith:!1,route:null},n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=a.prototype;return c.componentDidUpdate=function(e,t){var n=this.state,a=n.waveState,r=n.replaceWith,i=n.extra,o=n.route;if(a===l.WaveStates.FILLED&&a!==t.waveState&&null!=o){if(function(e){return g.some(function(t){return e.startsWith(t)})}(o))return r?d.default.replaceWith(o):d.default.transitionTo(o,i);window.location=o}},c.mobileTransitionTo=function(e,t){if(_(e))d.default.transitionTo(e,t);else{var n=null!=t&&null!=t.search?t.search:null;window.location=null==n?e:e+"?"+n}},c.mobileReplaceWith=function(e){_(e)?d.default.replaceWith(e):window.location=e},c.renderDefault=function(){var e,t=this,n=this.props,a=n.splash,d=n.children,f=this.state,c=f.waveState,h=null;return null==f.route&&(h=r.Children.map(d,function(e){return r.cloneElement(e,{transitionTo:t.transitionTo,replaceWith:t.replaceWith})})),v(s.default,{className:(0,i.default)(p.default.splashBackground,(e={},e[p.default.loggingIn]=c>=l.WaveStates.FILLING,e)),splash:a,waveState:c,showLogo:!u.default.isWindows(),updateWaveState:this.updateWaveState},void 0,v(o.default,{component:r.Fragment},void 0,h))},c.renderMobile=function(){var e=this;return v(o.default,{component:r.Fragment},void 0,r.Children.map(this.props.children,function(t){return r.cloneElement(t,{transitionTo:e.mobileTransitionTo,replaceWith:e.mobileReplaceWith})}))},c.render=function(){return f.isMobile?this.renderMobile():this.renderDefault()},a}(r.Component);y.displayName="AuthWrapper";var E=y;t.default=E},9345:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(0)),i=n(256),o=(a=n(260))&&a.__esModule?a:{default:a};function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}var u=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=e.children,n=e.location,a=e.history,u=e.staticContext,d=(e.match,l(e,["children","location","history","staticContext","match"])),f=null,c=null;return r.Children.forEach(t,function(e){if(null==f&&r.isValidElement(e)){var t=e.props,o=t.component,d=t.render,p=l(t,["component","render"]),h=p.path||p.from;if(null==(f=null!=h?(0,i.matchPath)(n.pathname,s({},p,{path:h})):null))return;p=s({},p,{key:h,location:n,match:f,history:a,staticContext:u}),null!=o?c=r.createElement(o,p):null!=d&&(c=d(p))}}),r.createElement(o.default,d,c)},a}(r.Component);u.displayName="TransitionSwitch";var d=(0,i.withRouter)(u);t.default=d},9346:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(0)),i=f(n(7)),o=f(n(9347)),s=f(n(9348)),l=f(n(9349)),u=n(6744),d=f(n(5957));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={naturalWidth:0,naturalHeight:0,width:0,height:0},t.resizeImage=function(){var e=t.state,n=e.naturalWidth,a=e.naturalHeight;t.setState(t.calculateDimensions(n,a))},t.handleLoad=function(e){var n=e.currentTarget,a=n.naturalWidth,r=n.naturalHeight;t.setState(t.calculateDimensions(a,r)),window.removeEventListener("resize",t.resizeImage),window.addEventListener("resize",t.resizeImage)},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var f=a.prototype;return f.componentWillUnmount=function(){window.removeEventListener("resize",this.resizeImage)},f.calculateDimensions=function(e,t){var n=window,a=n.innerWidth,r=n.innerHeight;if(0===e||0===t)return null;var i=t/e,o=a,s=Math.round(a*i);return s<r&&(s=r,i=e/t,o=Math.round(r*i)),{naturalWidth:e,naturalHeight:t,width:o,height:s}},f.renderSplashArt=function(){var e=this.props.splash,t=this.state,n=t.width,a=t.height;return null!=e?c(o.default,{className:d.default.rightSplit,src:e,width:n,height:a,onLoad:this.handleLoad}):null},f.renderContent=function(){var e,t=this.props,n=t.children,a=t.waveState,o=t.updateWaveState,f=t.showLogo;return c(r.Fragment,{},void 0,c(l.default,{waveState:a,updateWaveState:o}),c("div",{className:(0,i.default)(d.default.leftSplit,(e={},e[d.default.hasLogo]=f,e))},void 0,f?c(s.default,{show:a===u.WaveStates.ENTERED&&a!==u.WaveStates.FILLING}):null,n))},f.render=function(){var e=this.props.className;return c("div",{className:(0,i.default)(e,d.default.wrapper)},void 0,this.renderSplashArt(),this.renderContent())},a}(r.PureComponent);p.displayName="WaveSplash";var h=p;t.default=h},9347:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(0)),i=s(n(7)),o=s(n(6489));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var d=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).unmounting=!1,n.state={loaded:!1},n.initialize(),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=a.prototype;return r.componentDidUpdate=function(e){var t=this;e.src!==this.props.src&&this.setState({loaded:!1},function(){return t.initialize()})},r.initialize=function(){var e,t=this;(e=this.props.src,new Promise(function(t,n){null==e&&n(new Error("No image src passed"));var a=new Image;a.src=e,a.onload=function(){return t(a)},a.onerror=function(e){return n(e)}})).then(function(){t.unmounting||t.setState({loaded:!0})})},r.componentWillUnmount=function(){this.unmounting=!0},r.render=function(){var e,t=this.props,n=t.className,a=t.src,r=t.alt,s=t.width,d=t.height,f=t.onLoad,c=t.style,p=this.state.loaded;return l("div",{className:n,style:u({},c,{width:s,height:d})},void 0,l("img",{className:(0,i.default)(o.default.image,(e={},e[o.default.loaded]=p,e)),width:s,height:d,src:a,alt:r,onLoad:f}))},a}(r.PureComponent);d.displayName="LazySplash",d.defaultProps={width:0,height:0,alt:""};var f=d;t.default=f},9348:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(0)),i=l(n(116)),o=n(1),s=l(n(6490));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t,n;function r(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).anim=new i.default.Value(0),t.animate=function(e){i.default.spring(t.anim,{toValue:e,friction:10,tension:100}).start()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.componentDidUpdate=function(e){e.show!==this.props.show&&this.animate(this.props.show?1:0)},l.getAnimatedStyle=function(){var e=this.anim;return{opacity:e,transform:[{translateY:e.interpolate({inputRange:[0,1],outputRange:["-100px","0px"]})},{translateZ:0}]}},l.render=function(){return function(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default.a,{href:o.Routes.INDEX,target:"_blank",rel:"noopener",className:s.default.logo,style:this.getAnimatedStyle()})},r}(r.PureComponent);t.default=u,u.displayName="AuthLogo"},9349:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(0)),r=n(76),i=n(185),o=p(n(9350)),s=p(n(9352)),l=p(n(9355)),u=n(6744),d=n(1),f=p(n(6491)),c=p(n(5957));function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,i.cssValueToNumber)(c.default.responsiveWidthMobile),v=1/120,m=4e3,g=function(e){var t,n;function i(t){var n;return(n=e.call(this,t)||this).width=0,n.height=0,n.children=[],n.ratio=0,n._lastTick=0,n._isPlaying=!1,n._reqAnimId=null,n.setCanvas=function(e){if(null!=e){n.canvas=e,n.canvasContext=n.canvas.getContext("2d");var t=window.devicePixelRatio||1,a=n.canvasContext.webkitBackingStorePixelRatio||n.canvasContext.mozBackingStorePixelRatio||n.canvasContext.msBackingStorePixelRatio||n.canvasContext.oBackingStorePixelRatio||n.canvasContext.backingStorePixelRatio||1;n.ratio=t/a}},n.resizeCanvas=function(){n.width=window.innerWidth,n.height=window.innerHeight;var e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),t=e.canvas,a=e.canvasContext,r=e.width,i=e.height,o=e.ratio;null!=t&&null!=a&&(t.width=r*o,t.height=i*o,t.style.width=r+"px",t.style.height=i+"px",a.scale(o,o)),r<=h?n.pause():n.play(),n.wave.resizeWave(),n.renderAnimation()},n.handleVisibilityChange=function(){document.hidden?n.delayedPause():n.play()},n.play=function(){clearTimeout(n._pauseTimeout),n._isPlaying||(n._isPlaying=!0,n.run())},n.pause=function(){clearTimeout(n._pauseTimeout),n._isPlaying=!1,window.cancelAnimationFrame(n._reqAnimId),n._reqAnimId=null,n.advanceTransitionalState()},n.delayedPause=function(){clearTimeout(n._pauseTimeout),n._pauseTimeout=setTimeout(n.pause,m)},n.updateWaveState=function(e){(0,n.props.updateWaveState)(e)},n.handleWaveEmphasize=function(){n.wave.emphasize()},n.run=function(){if(n._isPlaying){if(0===n._lastTick)return n._lastTick=Date.now(),void(n._reqAnimId=requestAnimationFrame(n.run));for(var e=Date.now(),t=Math.min((e-n._lastTick)/1e3,8*v);t>0;){var a=t<v?t:v;n.updateAnimation(a),t-=a}n.renderAnimation(),n._lastTick=e,n._reqAnimId=requestAnimationFrame(n.run)}},n.wave=new l.default(n.updateWaveState),n.children=[new o.default,new s.default,n.wave],n}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=i.prototype;return c.componentDidMount=function(){this.initialize()},c.componentDidUpdate=function(e){var t=this.props.waveState;t===u.WaveStates.FILLING&&t!==e.waveState&&this.waveFill()},c.componentWillUnmount=function(){this.terminate()},c.initialize=function(){this.children.forEach(function(e){return e.initialize()}),this.bindEvents(),this.resizeCanvas(),document.hidden&&this.delayedPause()},c.terminate=function(){this.pause(),this.unbindEvents(),this.children.forEach(function(e){return e.terminate()})},c.bindEvents=function(){window.addEventListener("resize",this.resizeCanvas,!1),window.addEventListener("blur",this.delayedPause,!1),window.addEventListener("focus",this.play,!1),document.addEventListener("visibilitychange",this.handleVisibilityChange,!1),r.ComponentDispatch.subscribe(d.ComponentActions.WAVE_EMPHASIZE,this.handleWaveEmphasize)},c.unbindEvents=function(){window.removeEventListener("resize",this.resizeCanvas,!1),window.removeEventListener("blur",this.delayedPause,!1),window.removeEventListener("focus",this.play,!1),document.removeEventListener("visibilitychange",this.handleVisibilityChange,!1),r.ComponentDispatch.unsubscribe(d.ComponentActions.WAVE_EMPHASIZE,this.handleWaveEmphasize)},c.advanceTransitionalState=function(){var e=this.props.waveState;e!==u.WaveStates.INITIAL&&e!==u.WaveStates.FILLING||this.updateWaveState(e+1)},c.waveFill=function(){this._isPlaying?this.children.forEach(function(e){return e.fill()}):this.updateWaveState(u.WaveStates.FILLED)},c.updateAnimation=function(e){this.children.forEach(function(t){return t.update(e)})},c.renderAnimation=function(){var e=this.canvasContext;null!=e&&(e.fillStyle=d.Colors.PRIMARY_DARK_630,e.fillRect(0,0,this.width,this.height),this.children.forEach(function(t){return t.render(e)}))},c.render=function(){return a.createElement("canvas",{className:f.default.canvas,ref:this.setCanvas})},i}(a.Component);g.displayName="WaveAnimation";var _=g;t.default=_},9350:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=n(7e3),i=(a=n(9351))&&a.__esModule?a:{default:a};var o=20,s=function(){function e(){var e=this;this.img=null,this.loaded=!1,this.isFilled=!1,this.alpha=0,this.mx=0,this.my=0,this.x=0,this.y=0,this.velX=0,this.velY=0,this.targetX=2*o,this.targetY=2*o,this.spring={friction:60,tension:100},this.handleMouseMove=function(t){var n=t.clientX,a=t.clientY;e.targetX=n/window.innerWidth*o+o,e.targetY=a/window.innerWidth*o+o}}var t=e.prototype;return t.initialize=function(){var e=this;this.img=new Image,this.img.onload=function(){e.loaded=!0},this.img.src=i.default,this.bind()},t.bind=function(){window.addEventListener("mousemove",this.handleMouseMove,!1)},t.unbind=function(){window.removeEventListener("mousemove",this.handleMouseMove,!1)},t.terminate=function(){this.img=null,this.loaded=!1,this.isFilled=!1,this.alpha=0,this.unbind()},t.update=function(e){this.loaded&&(!this.isFilled&&this.alpha<1?this.alpha=Math.min(1,this.alpha+e):this.isFilled&&this.alpha>0&&(this.alpha=Math.max(0,this.alpha-3*e)),this.velX+=(0,r.applySpringForce)(this.targetX,this.x,this.velX,this.spring)*e,this.velY+=(0,r.applySpringForce)(this.targetY,this.y,this.velY,this.spring)*e,this.x+=this.velX*e,this.y+=this.velY*e)},t.render=function(e){var t=this.img;this.loaded&&null!=t&&(e.save(),e.globalCompositeOperation="source-atop",e.globalAlpha=this.alpha,e.drawImage(t,this.x+o,this.y+o),e.restore())},t.fill=function(){this.isFilled=!0},e}();s.displayName="Blobs";var l=s;t.default=l},9351:function(e,t,n){e.exports=n.p+"c8f0b54f79a9fd1ef60ad74c73a1ee1a.png"},9352:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=i(n(9353)),r=i(n(9354));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(){this.particles=[],this.wind=new r.default,this.alpha=0,this.isFilled=!1,this.loadInTimer=null}var t=e.prototype;return t.initialize=function(){var e=this;this.particles=[],this.wind.initialize(),this.loadInTimer=setTimeout(function(){for(var t=0;t<75;t++)e.particles.push(new a.default)},250)},t.terminate=function(){this.particles=[],this.wind.terminate(),null!=this.loadInTimer&&clearTimeout(this.loadInTimer)},t.update=function(e){var t=this;0!==this.particles.length&&(!this.isFilled&&this.alpha<1?this.alpha=Math.min(1,this.alpha+e):this.isFilled&&this.alpha>0&&(this.alpha=Math.max(0,this.alpha-3*e)),this.wind.update(),this.particles.forEach(function(n){return n.update(10*t.wind.forceX*e,10*Math.min(t.wind.forceY,-.001)*e-.1)}))},t.render=function(e){var t=this;0!==this.particles.length&&(e.save(),e.globalCompositeOperation="source-atop",this.particles.forEach(function(n){return n.render(e,t.alpha)}),e.restore())},t.fill=function(){this.isFilled=!0},e}();o.displayName="Particles";var s=o;t.default=s},9353:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=n(7e3),r=n(6744),i=2,o=3,s=1,l=4,u=["#7d8187","#18191c","#8fa2df","#4f545c"],d=function(){function e(){this.size=(0,a.randomNumber)(i,o),this.depth=(0,a.randomNumber)(s,l),this.positionMultiplier=this.depth/l,this.color=u[l-this.depth],this.offscreenX=r.MAX_RADIUS+this.size,this.offscreenY=r.MAX_RADIUS+this.size,this.x=(0,a.randomNumber)(-this.size,this.offscreenX),this.y=(0,a.randomNumber)(-this.size,this.offscreenY)}var t=e.prototype;return t.checkBounds=function(){this.x>this.offscreenX?this.x=-this.size:this.y>this.offscreenY?this.y=-this.size:this.x<-this.size?this.x=this.offscreenX:this.y<-this.size&&(this.y=this.offscreenY)},t.update=function(e,t){this.checkBounds(),this.y+=t*this.positionMultiplier,this.x+=e*this.positionMultiplier},t.render=function(e,t){e.beginPath(),e.globalAlpha=t*this.depth/4,e.arc(this.x,this.y,this.size,0,r.TWO_PI,!0),e.fillStyle=this.color,e.fill(),e.globalAlpha=1},e}();d.displayName="Particle";var f=d;t.default=f},9354:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=30;function r(e,t){return Math.max(Math.min((e-t)/a,1),-1)}var i=function(){function e(){var e=this;this.resistance=.98,this.px=0,this.py=0,this.x=0,this.y=0,this.forceX=0,this.forceY=0,this.handleMouseMove=function(t){var n=t.clientX,a=t.clientY;e.x=n,e.y=a}}var t=e.prototype;return t.initialize=function(){window.addEventListener("mousemove",this.handleMouseMove)},t.terminate=function(){window.removeEventListener("mousemove",this.handleMouseMove)},t.update=function(){this.x!==this.px&&this.y!==this.py&&(this.forceX+=r(this.x,this.px),this.forceY+=r(this.y,this.py),this.px=this.x,this.py=this.y),0!==this.forceX&&(this.forceX=this.forceX*this.resistance),0!==this.forceY&&(this.forceY=this.forceY*this.resistance)},t.render=function(){},e}();i.displayName="Wind";var o=i;t.default=o},9355:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=u(n(893)),r=n(185),i=u(n(9356)),o=n(7e3),s=n(6744),l=u(n(5957));function u(e){return e&&e.__esModule?e:{default:e}}var d=15,f=d/2,c=(0,r.cssValueToNumber)(l.default.responsiveWidthMobile);function p(e,t,n,a){return t*(n/a)+e}function h(){return Math.min(Math.max(Math.min(.8*window.innerWidth,.8*window.innerHeight),s.MIN_RADIUS),s.MAX_RADIUS)}var v=30,m=function(){function e(e){var t,n=this;this.points=[],this.hasEntered=!1,this.isFilling=!1,this._resizeWave=function(){var e=h();n.points.forEach(function(t,n){var a=e*Math.cos(s.TWO_PI*p(0,.25,n,d))-40,r=e*Math.sin(s.TWO_PI*p(0,.25,n,d))-40;0!==n?r+=(0,o.randomNumber)(0,v)-v/2:n!==d&&(a+=(0,o.randomNumber)(0,v)-v/2),t.targetX=a,t.targetY=r,t.angle=Math.atan2(r,a)})},this.resizeWave=(0,a.default)(this._resizeWave,200),this.updateWaveState=e,this.hasEntered=!1;for(var r=0;r<=d;r++)this.points.push(new i.default((t=r,Math.floor(f-Math.floor(Math.abs(t-f))))))}var t=e.prototype;return t.initialize=function(){this._resizeWave()},t.emphasize=function(){this.points.forEach(function(e){return e.speedUp=1})},t.terminate=function(){this.points=[]},t.update=function(e){0!==this.points.length&&(this.points.forEach(function(t){return t.update(Math.min(e,1/60))}),this.hasEntered||this.points[0].x>c&&(this.hasEntered=!0,this.updateWaveState(s.WaveStates.ENTERED)),this.isFilling&&this.points[0].x>this.points[0].targetX&&(this.isFilling=!1,this.updateWaveState(s.WaveStates.FILLED)))},t.render=function(e){if(0!==this.points.length){var t=this.points,n=t[0],a=t.slice(1);e.save(),e.beginPath(),e.moveTo(n.x,n.y),a.forEach(function(t,n){if(null==a[n+1])e.quadraticCurveTo(t.x,t.y,t.x,t.y);else{var r=(t.x+a[n+1].x)/2,i=(t.y+a[n+1].y)/2;e.quadraticCurveTo(t.x,t.y,r,i)}}),e.lineTo(0,0),e.closePath(),e.fillStyle="#000",e.globalCompositeOperation="destination-in",e.fill(),e.restore()}},t.fill=function(){var e=this,t=Math.sqrt(window.innerWidth*window.innerWidth+window.innerHeight*window.innerHeight)+100,n=h()-140,a=function(e,t,n,a){e.targetX=t*Math.cos(s.TWO_PI*p(0,.25,n,d))-40,e.targetY=t*Math.sin(s.TWO_PI*p(0,.25,n,d))-40,a&&(e.targetX+=(0,o.randomNumber)(0,v)-v/2,e.targetY+=(0,o.randomNumber)(0,v)-v/2,e.speedUp=3,e.spring.tension=s.POINT_TENSION_DEFAULT*Math.random()*.5+s.POINT_TENSION_DEFAULT)};this.points.forEach(function(e,t){return a(e,n,t,!0)}),setTimeout(function(){e.points.forEach(function(e,n){a(e,t,n,!1);var r=1-e.index/(d/2);e.spring.friction+=e.spring.friction+e.spring.friction*r,e.spring.tension=.7*s.POINT_TENSION_DEFAULT+80*Math.random(),e.waveRange=2*e.waveRange}),e.isFilling=!0,e.updateWaveState(s.WaveStates.FILLING)},250)},e}();m.displayName="Wave";var g=m;t.default=g},9356:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=n(7e3),r=n(6744),i=60,o=2.15*Math.cos(Math.PI),s=function(){function e(e){this.x=-40,this.y=-40,this.targetX=0,this.targetY=0,this.oscillate=!0,this.velX=0,this.velY=0,this.angle=0,this.speedUp=1.5,this.waveRange=i,this.spring={friction:15,tension:r.POINT_TENSION_DEFAULT},this.index=e,this.spring.tension=r.POINT_TENSION_DEFAULT*Math.max(.1,e/7)+r.POINT_TENSION_DEFAULT,this.count=o*e}var t=e.prototype;return t.updateStatic=function(){this.targetX=this.targetX+30*Math.cos(this.angle)*Math.sin(this.count),this.targetY=this.targetY+30*Math.sin(this.angle)*Math.sin(this.count),this.x=this.targetX,this.y=this.targetY},t.update=function(e){var t,n;if(this.speedUp>0?(this.speedUp=Math.max(0,this.speedUp-e),this.count+=e*(10*Math.min(this.speedUp,1)+.4)):this.count+=.4*e,t=(0,a.applySpringForce)(this.targetX,this.x,this.velX,this.spring),n=(0,a.applySpringForce)(this.targetY,this.y,this.velY,this.spring),this.velX+=t*e,this.velY+=n*e,this.oscillate){var r=this.targetX+this.waveRange*Math.cos(this.angle)*Math.sin(this.count),i=this.targetY+this.waveRange*Math.sin(this.angle)*Math.sin(this.count);t=(0,a.applySpringForce)(r,this.x,this.velX,this.spring),n=(0,a.applySpringForce)(i,this.y,this.velY,this.spring),this.velX+=t*e,this.velY+=n*e}this.x+=this.velX*e,this.y+=this.velY*e},t.render=function(e){e.fillStyle="#fff",e.fillRect(this.x,this.y,4,4)},e}();s.displayName="Point";var l=s;t.default=l},9357:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var a,r=m(n(0)),i=v(n(38)),o=n(331),s=v(n(3)),l=v(n(853)),u=n(6547),d=v(n(9)),f=m(n(6544)),c=n(1),p=v(n(4)),h=v(n(451));function v(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function g(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}s.default.initialize();var _=g(f.AuthSpinner,{hideQuote:!0}),y=function(e){var t,a;function r(){return e.apply(this,arguments)||this}a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var s=r.prototype;return s.componentDidMount=function(){var e=(0,o.parse)(this.props.location.search);l.default.authorizeIPAddress(e.token),(0,u.trackAppUIViewed)("authorize_ip")},s.renderLoginButton=function(){if("Android"===i.default.os.family||"iOS"===i.default.os.family)return null;var e=this.props.transitionTo;return g(f.Button,{onClick:function(){return e(c.Routes.LOGIN)}},void 0,p.default.Messages.LOGIN)},s.renderFailed=function(){return g(f.default,{},void 0,g("img",{alt:"",src:n(9358),className:h.default.marginBottom20}),g(f.Title,{className:h.default.marginBottom8},void 0,p.default.Messages.AUTHORIZATION_EXPIRED),g(f.SubTitle,{className:h.default.marginBottom40},void 0,p.default.Messages.AUTH_EXPIRED_SUGGESTION),this.renderLoginButton())},s.renderSucceeded=function(){return g(f.default,{},void 0,g("img",{alt:"",src:n(9359),className:h.default.marginBottom20}),g(f.Title,{className:h.default.marginBottom8},void 0,p.default.Messages.IP_AUTHORIZATION_SUCCEEDED),g(f.SubTitle,{className:h.default.marginBottom40},void 0,p.default.Messages.AUTH_IP_AUTH_SUCCEEDED_SUGGESTION),this.renderLoginButton())},s.renderDefault=function(){return g(f.default,{},void 0,_,g(f.Title,{},void 0,p.default.Messages.AUTHORIZING))},s.render=function(){var e=this.props,t=e.verifyFailed,n=e.verifySucceeded;return t?this.renderFailed():n?this.renderSucceeded():this.renderDefault()},r}(r.PureComponent);y.displayName="AuthorizeIPAddress",y.defaultProps={transitionTo:function(t){return e.location.assign(t)}};var E=s.default.connectStores([d.default],function(){return{verifyFailed:d.default.didVerifyFail(),verifySucceeded:d.default.didVerifySucceed()}})(y);t.default=E}).call(this,n(25))},9358:function(e,t,n){e.exports=n.p+"5ed6422f4a60342227db5d2678ecf911.svg"},9359:function(e,t,n){e.exports=n.p+"004dd8db75dd498bf03f6b0e7fcb51fd.svg"},9360:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var a,r=m(n(0)),i=n(331),o=v(n(3)),s=v(n(11)),l=n(6547),u=v(n(120)),d=v(n(6577)),f=m(n(6544)),c=n(1),p=v(n(4)),h=v(n(451));function v(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function g(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}o.default.initialize();var _=g(f.default,{},void 0,g(f.AuthSpinner,{})),y=function(e){var t,a;function r(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={busy:!0,success:!1,user:null},t}a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var o=r.prototype;return o.componentDidMount=function(){var e=this,t=(0,i.parse)(this.props.location.search);s.default.post({url:c.Endpoints.DISABLE_EMAIL_NOTIFICATIONS,body:{token:t.token,pixel_uuid:t.hash}}).then(function(t){var n=t.body.user,a=new u.default(n);e.setState({success:!0,busy:!1,user:a})},function(){return e.setState({success:!1,busy:!1})}),(0,l.trackAppUIViewed)("disable_email_notifications")},o.renderBusy=function(){return _},o.renderSuccess=function(){var e=this.props,t=e.defaultRoute,n=e.transitionTo,a=this.state.user;return g(f.default,{},void 0,g(f.Avatar,{src:a?a.getAvatarURL():null,size:f.Avatar.Sizes.DEPRECATED_SIZE_100,className:h.default.marginBottom20}),g(f.Title,{className:h.default.marginBottom8},void 0,p.default.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_SUCCESS_HEADER),g(f.SubTitle,{},void 0,p.default.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_SUCCESS_BODY),g(f.Button,{className:h.default.marginTop40,onClick:function(){return n(t)}},void 0,p.default.Messages.CONTINUE_TO_WEBAPP))},o.renderError=function(){var e=this.props,t=e.defaultRoute,a=e.transitionTo;return g(f.default,{},void 0,g(f.Image,{src:n(9361),className:h.default.marginBottom20}),g(f.Title,{className:h.default.marginBottom8},void 0,p.default.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_FAILURE_HEADER),g(f.SubTitle,{},void 0,p.default.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_FAILURE_BODY),g(f.Button,{className:h.default.marginTop40,onClick:function(){return a(t)}},void 0,p.default.Messages.CONTINUE_TO_WEBAPP))},o.render=function(){var e=this.state,t=e.busy,n=e.success;return t?this.renderBusy():n?this.renderSuccess():this.renderError()},r}(r.PureComponent);y.displayName="DisableEmailNotifications",y.defaultProps={transitionTo:function(t){return e.location.assign(t)}};var E=o.default.connectStores([d.default],function(){return{defaultRoute:d.default.defaultRoute}})(y);t.default=E}).call(this,n(25))},9361:function(e,t,n){e.exports=n.p+"4dfc23421736b1eaf2a19bcb16633bad.svg"},9362:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=P(n(0)),i=O(n(7)),o=O(n(3)),s=O(n(853)),l=P(n(876)),u=P(n(163)),d=P(n(363)),f=n(6547),c=O(n(9)),p=O(n(6577)),h=O(n(6664)),v=O(n(47)),m=O(n(117)),g=P(n(6544)),_=P(n(281)),y=O(n(179)),E=O(n(6742)),I=O(n(6645)),T=O(n(6853)),S=n(1),N=O(n(4)),A=O(n(451));function O(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function R(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e,t,n,a,r,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,r)}function b(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var i=e.apply(t,n);function o(e){M(i,a,r,o,s,"next",e)}function s(e){M(i,a,r,o,s,"throw",e)}o(void 0)})}}function C(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}o.default.initialize();var L=Object.freeze({REGISTER:"register",LOGIN:"login"}),D=R(g.AuthSpinner,{}),w=function(e){var t,a;function r(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={error:null,continueOnWeb:!1,currentUser:null,sentVerification:!1,fetchingUser:!1},t.refreshUser=function(){t.setState({fetchingUser:!0}),d.fetchCurrentUserWithAnalyticsToken().then(function(e){return t.setState({currentUser:e,fetchingUser:!1})}).catch(function(){return t.setState({fetchingUser:!1})})},t.handleContinue=function(){(0,t.props.transitionTo)(S.Routes.APPLICATION_LIBRARY)},t.handleLogout=function(){var e=t.props.match.params.giftCode;s.default.logout(S.Routes.GIFT_CODE_LOGIN(e))},t.handleResendVerification=function(){s.default.verifyResend(),t.setState({sentVerification:!0})},t.handleAccept=b(regeneratorRuntime.mark(function e(){var n,a,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props,a=n.transitionTo,null!=(r=n.giftCode)){e.next=3;break}throw new Error("Trying to accept gift before resolve");case 3:return i=t.getCode(),e.prev=4,t.setState({error:null}),e.next=8,l.redeemGiftCode(i);case 8:r.premiumSubscriptionType===S.PremiumTypes.TIER_2?a(S.Routes.APPLICATION_STORE):r.premiumSubscriptionType===S.PremiumTypes.TIER_1?a(S.Routes.ACTIVITY):a(S.Routes.APPLICATION_LIBRARY),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),t.setState({error:e.t0});case 14:case"end":return e.stop()}},e,null,[[4,11]])})),t}a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var o,c,p,h=r.prototype;return h.componentDidMount=function(){this.props.authenticated&&this.handleAuthenticated(),(0,f.trackAppUIViewed)("gift_code")},h.componentDidUpdate=function(e){var t=this.props.authenticated,n=this.getCode();n!==this.getCode(e)&&l.resolveGiftCode(n,!0,!0),t&&!e.authenticated&&this.handleAuthenticated(),!t&&e.authenticated&&this.setState({currentUser:null})},h.handleAuthenticated=function(){var e=this.state.currentUser;u.fetchLibrary(),null==e&&this.refreshUser()},h.getCode=function(e){return void 0===e&&(e=this.props),e.match.params.giftCode},h.getMode=function(e){return void 0===e&&(e=this.props),e.login?L.LOGIN:L.REGISTER},h.getErrorMessage=function(e){var t=this.props.libraryApplication,n=this.state.error,a=null!=n?n.code:null;return a===S.AbortCodes.INVALID_GIFT_SELF_REDEMPTION?N.default.Messages.GIFT_CONFIRMATION_BODY_SELF_GIFT_NO_PAYMENT:null!=t||a===S.AbortCodes.INVALID_GIFT_REDEMPTION_OWNED?N.default.Messages.GIFT_CODE_AUTH_HELP_TEXT_OWNED.format({libraryLink:S.Routes.APPLICATION_LIBRARY}):e.isClaimed||a===S.AbortCodes.INVALID_GIFT_REDEMPTION_EXHAUSTED?N.default.Messages.GIFT_CODE_AUTH_HELP_TEXT_CLAIMED:null},h.renderSpinner=function(e){return R(g.default,{},void 0,R(g.Title,{},void 0,e),D)},h.renderExpiredInvite=function(){var e=this.props,t=e.defaultRoute,a=e.transitionTo;return R(g.default,{},void 0,R(g.Image,{src:n(7854),className:A.default.marginBottom8}),R(g.Title,{className:(0,i.default)(A.default.marginTop8,A.default.marginBottom8)},void 0,N.default.Messages.GIFT_CODE_AUTH_INVALID_TITLE),R(g.SubTitle,{},void 0,N.default.Messages.GIFT_CODE_AUTH_INVALID_BODY),R(g.Button,{className:(0,i.default)(A.default.marginTop40,A.default.marginBottom8),onClick:function(){return a(t)}},void 0,N.default.Messages.CONTINUE_TO_WEBAPP),R(g.Button,{onClick:function(){return window.open(y.default.getArticleURL(S.HelpdeskArticles.GIFTING),"_blank")},look:g.Button.Looks.LINK},void 0,N.default.Messages.GIFT_CODE_AUTH_INVALID_TIP))},h.renderAppOpened=function(){var e=this;return R(g.default,{},void 0,R(g.Title,{className:A.default.marginBottom8},void 0,N.default.Messages.APP_OPENED_TITLE),R(g.SubTitle,{},void 0,N.default.Messages.APP_OPENED_BODY),R(g.Button,{className:A.default.marginTop40,onClick:function(){return e.setState({continueOnWeb:!0})}},void 0,N.default.Messages.GIFT_CODE_AUTH_CONTINUE_IN_BROWSER))},h.renderVerification=function(e){var t=this.state.sentVerification;return R(g.default,{},void 0,R(g.Image,{src:n(7855),className:A.default.marginBottom8}),R(g.Title,{},void 0,N.default.Messages.GIFT_CODE_AUTH_VERIFICATION_TITLE.format({username:e.username})),R(g.SubTitle,{className:A.default.marginTop20},void 0,N.default.Messages.GIFT_CODE_AUTH_HELP_TEXT_VERIFICATION_REQUIRED),R(g.Button,{disabled:t,className:A.default.marginTop40,onClick:this.handleResendVerification},void 0,t?N.default.Messages.GIFT_CODE_AUTH_VERIFICATION_SENT:N.default.Messages.RESEND_VERIFICATION_EMAIL),R(g.Button,{look:g.Button.Looks.LINK,onClick:this.refreshUser,className:A.default.marginTop8},void 0,N.default.Messages.GIFT_CODE_AUTH_CHECK_VERIFICATION_AGAIN))},h.renderAuthenticated=function(e,t){var n=this.getErrorMessage(e),a=null!=n;return R(g.default,{},void 0,R(E.default,{giftCode:e}),R(g.Button,{disabled:a,className:A.default.marginTop40,onClick:this.handleAccept},void 0,N.default.Messages.GIFT_CODE_AUTH_ACCEPT),null!=n?R(g.SubTitle,{className:A.default.marginTop20},void 0,n):R(g.SubText,{className:A.default.marginTop20},void 0,N.default.Messages.GIFT_CODE_AUTH_LOGGED_IN_AS.format({userTag:t.tag,onLogoutClick:this.handleLogout})))},h.render=function(){var e=this.props,t=e.nativeAppState,n=e.sku,a=e.authenticated,r=e.giftCode,i=e.isResolved,o=e.isAccepting,s=e.transitionTo,l=e.location,u=this.state,d=u.fetchingUser,f=u.continueOnWeb;if(t===S.NativeAppStates.OPEN&&!f)return this.renderAppOpened();if(t===S.NativeAppStates.OPENING)return this.renderSpinner(N.default.Messages.APP_OPENING);if(o)return this.renderSpinner(N.default.Messages.GIFT_CODE_AUTH_ACCEPTING);if(null==r)return i?this.renderExpiredInvite():this.renderSpinner(N.default.Messages.GIFT_CODE_AUTH_RESOLVING);if(i){if(a){var c=this.state.currentUser;return d||null==c?this.renderSpinner(N.default.Messages.GIFT_CODE_AUTH_FETCHING_USER):this.requiresVerification&&null!=c?this.renderVerification(c):this.renderAuthenticated(r,c)}return this.getMode()===L.LOGIN?R(I.default,{giftCodeSKU:n,giftCode:r,transitionTo:s,location:l}):R(T.default,{giftCodeSKU:n,giftCode:r,transitionTo:s,location:l})}return null},o=r,(c=[{key:"requiresVerification",get:function(){var e=this.state.currentUser;return null!=e&&!e.verified}}])&&C(o.prototype,c),p&&C(o,p),r}(r.PureComponent);w.displayName="GiftCode";var B=o.default.connectStores([h.default,v.default,c.default,m.default,p.default],function(e){var t=e.match.params.giftCode,n=h.default.get(t),a=null!=n?m.default.get(n.skuId):null;return{giftCode:n,sku:a,libraryApplication:null!=a&&null!=n?_.firstLibraryApplicationForGiftCode(n,a,v.default):null,authenticated:c.default.isAuthenticated(),defaultRoute:p.default.defaultRoute,isResolved:h.default.getIsResolved(t),isAccepting:h.default.getIsAccepting(t),libraryApplicationsFetched:v.default.fetched,nativeAppState:h.default.getNativeAppState(t)}})(w);t.default=B},9363:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=O(n(0)),i=A(n(7)),o=n(962),s=A(n(3)),l=A(n(24)),u=A(n(266)),d=n(6547),f=A(n(9)),c=A(n(6577)),p=A(n(884)),h=O(n(6544)),v=A(n(14)),m=O(n(9364)),g=A(n(179)),_=A(n(948)),y=A(n(6609)),E=A(n(6645)),I=A(n(6853)),T=n(1),S=A(n(4)),N=A(n(451));function A(e){return e&&e.__esModule?e:{default:e}}function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function P(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}s.default.initialize();var M="Accept Invite Page",b="register",C="login",L=P(h.AuthSpinner,{}),D=function(e){var t,a;function r(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).getAcceptInviteContext=function(e){return u.default.getInviteContext(e,t.props.invite)},t.handleContinue=function(){var e=t.props,n=e.invite,a=e.transitionTo;null!=n.channel&&u.default.transitionToInvite(n,a)},t.handleAccept=function(){var e=t.props.invite,n=t.getCode();u.default.acceptInvite(n,t.getAcceptInviteContext(M),function(){null!=e.channel&&u.default.openApp(n,e.channel.id)})},t.handleDefaultTransition=function(){var e=t.props,n=e.defaultRoute;(0,e.transitionTo)(n)},t}a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var s=r.prototype;return s.componentDidMount=function(){if(v.default.track(T.AnalyticEvents.INVITE_VIEWED,{},!0),(0,d.trackAppUIViewed)("invite"),!o.IS_APP_COMPATIBLE_BROWSER){var e=this.getCode();_.default.launch("discord:/"+T.Routes.INVITE(e),function(){})}},s.componentDidUpdate=function(e){var t=this.props,n=t.invite,a=t.authenticated,r=t.transitionTo,i=t.guestLurker,o=this.getCode();if(o!==this.getCode(e))u.default.resolveInvite(o,M);else if(n.state===T.InviteStates.APP_NOT_OPENED)this.handleContinue();else if(this.getMode()===C&&a!==e.authenticated&&a){var s=f.default.getFingerprint();if(null!=s){var d=m.extractId(s);this.track(T.AnalyticEvents.INVITE_LOGIN_SUCCESSFUL,!0,{prev_user_id:d})}u.default.acceptInvite(o,this.getAcceptInviteContext(M),this.handleContinue)}if(n.nativeAppState!==e.invite.nativeAppState&&n.nativeAppState===T.NativeAppStates.OPEN&&this.track(T.AnalyticEvents.INVITE_APP_INVOKED,!1),this.getMode()===b&&a&&!e.authenticated){var c=n.guild,p=n.channel;if(null!=p){var h=null!=c?c.id:T.ME;l.default.set("homepageNUFComplete",!0),u.default.transitionToInvite(n,function(){return r(T.Routes.WELCOME(h,p.id,p.type))})}}null!=n.guest_token&&i&&n.state===T.InviteStates.RESOLVED&&n.nativeAppState===T.NativeAppStates.OPEN_FAIL&&setTimeout(this.handleContinue,300)},s.getCode=function(e){return void 0===e&&(e=this.props),e.inviteCode},s.getMode=function(e){return void 0===e&&(e=this.props),e.login?C:b},s.track=function(e,t,n){void 0===n&&(n=null);var a=this.props.invite,r=this.getCode(),i=t?{guild_id:a.guild?a.guild.id:null,channel_id:a.channel?a.channel.id:null,inviter_id:a.inviter?a.inviter.id:null,invite_code:r}:{invite_code:r};v.default.track(e,R({},i,n))},s.renderButton=function(e,t){return void 0===t&&(t=this.handleDefaultTransition),o.IS_APP_COMPATIBLE_BROWSER?P(h.Button,{className:N.default.marginTop40,onClick:t},void 0,e):P(h.IncompatibleBrowser,{className:N.default.marginTop40})},s.renderSpinner=function(e){return P(h.default,{},void 0,P(h.Title,{},void 0,e),L)},s.renderInvalidInvite=function(e){return void 0===e&&(e=!1),P(h.default,{},void 0,P(h.Image,{src:n(7854),className:N.default.marginBottom8}),P(h.Title,{className:(0,i.default)(N.default.marginTop8,N.default.marginBottom8)},void 0,S.default.Messages.AUTH_INVALID_INVITE_TITLE),P(h.SubTitle,{},void 0,e?S.default.Messages.AUTH_BANNED_INVITE_BODY:S.default.Messages.AUTH_INVALID_INVITE_BODY),this.renderButton(S.default.Messages.CONTINUE_TO_WEBAPP),P(h.Button,{onClick:function(){return window.open(g.default.getArticleURL(T.HelpdeskArticles.INVALID_INVITES),"_blank")},look:h.Button.Looks.LINK,className:N.default.marginTop8},void 0,S.default.Messages.AUTH_INVALID_INVITE_TIP))},s.renderExpiredInvite=function(){return this.renderInvalidInvite(!1)},s.renderBannedInvite=function(){return this.renderInvalidInvite(!0)},s.renderAppOpened=function(){return P(h.default,{},void 0,P(h.Title,{className:N.default.marginBottom8},void 0,S.default.Messages.APP_OPENED_TITLE),P(h.SubTitle,{},void 0,S.default.Messages.APP_OPENED_BODY),this.renderButton(S.default.Messages.CONTINUE_TO_WEBAPP,this.handleContinue))},s.renderAuthenticatedOrDownload=function(){var e=this.props.invite;return P(h.default,{},void 0,P(y.default,{invite:e}),this.renderButton(S.default.Messages.INSTANT_INVITE_ACCEPT,this.handleAccept))},s.renderContinue=function(){return P(h.default,{},void 0,P(h.Title,{},void 0,S.default.Messages.APP_NOT_OPENED),this.renderButton(S.default.Messages.CONTINUE_TO_WEBAPP))},s.render=function(){var e=this,t=this.props,n=t.invite,a=t.authenticated,r=t.guestLurker,i=t.transitionTo,s=t.location;if(n.nativeAppState===T.NativeAppStates.OPEN)return this.renderAppOpened();switch(n.state){case T.InviteStates.APP_OPENED:return this.renderAppOpened();case T.InviteStates.APP_NOT_OPENED:return this.renderContinue();case T.InviteStates.RESOLVING:case T.InviteStates.APP_OPENING:return this.renderSpinner(S.default.Messages.APP_OPENING);case T.InviteStates.RESOLVED:return a||!o.IS_APP_COMPATIBLE_BROWSER?this.renderAuthenticatedOrDownload():null!=n.guest_token&&r?this.renderSpinner(S.default.Messages.INSTANT_INVITE_RESOLVED_TITLE):this.getMode()===C?P(E.default,{invite:n,transitionTo:i,location:s}):P(I.default,{invite:n,onLoginStart:function(){return e.track(T.AnalyticEvents.INVITE_LOGIN,!0)},location:s,transitionTo:i});case T.InviteStates.ACCEPTING:return this.renderSpinner(S.default.Messages.INSTANT_INVITE_ACCEPTING);case T.InviteStates.EXPIRED:return this.renderExpiredInvite();case T.InviteStates.BANNED:return this.renderBannedInvite();case T.InviteStates.ACCEPTED:default:return null}},r}(r.PureComponent);D.displayName="Invite";var w=s.default.connectStores([p.default,c.default,f.default],function(e){var t=e.inviteCode;return{invite:p.default.getInvite(t)||{},authenticated:f.default.isAuthenticated(),guestLurker:f.default.isGuest(),defaultRoute:c.default.defaultRoute}})(D);t.default=w},9364:function(e,t,n){"use strict";t.__esModule=!0,t.extractId=void 0;var a=n(384);t.extractId=a.extractId},9365:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=N(n(0)),i=S(n(7)),o=N(n(3)),s=S(n(266)),l=n(6547),u=S(n(9)),d=S(n(884)),f=S(n(453)),c=S(n(22)),p=S(n(178)),h=S(n(67)),v=N(n(6544)),m=S(n(14)),g=S(n(6609)),_=n(1),y=S(n(4)),E=S(n(461)),I=S(n(451)),T=S(n(6493));function S(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function A(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}o.default.initialize();var O={};function P(e,t,n){e.preventDefault(),m.default.track(_.AnalyticEvents.INVITE_APP_OPENED,{invite_code:t,guild_id:n.guild?n.guild.id:null,channel_id:n.channel?n.channel.id:null,inviter_id:n.inviter?n.inviter.id:null});var a=n.state!==_.InviteStates.EXPIRED&&n.state!==_.InviteStates.BANNED?t:void 0,r=u.default.getFingerprint(),i=null!=r?r:u.default.getId();s.default.openApp(a,void 0,i)}var R=A(v.default,{},void 0,A(p.default,{})),M=function(e){var t=e.inviteCode,a=(0,o.useStateFromStores)([d.default],function(){return d.default.getInvite(t)||O});function s(e){var r=e.banned;return A(v.default,{},void 0,A(v.Image,{src:n(9366)}),A(v.Title,{className:(0,i.default)(I.default.marginTop20,I.default.marginBottom8,E.default.flexCenter)},void 0,y.default.Messages.DISCORD_DESC_SHORT),A(v.SubTitle,{className:I.default.marginBottom40},void 0,y.default.Messages.DISCORD_DESC_LONG),A(f.default,{className:T.default.card,type:f.default.Types.CUSTOM},void 0,A("img",{alt:"",className:T.default.cardAccentLeft,src:n(9367)}),A("img",{alt:"",className:T.default.cardAccentRight,src:n(9368)}),A(c.default,{className:T.default.cardContents,direction:c.default.Direction.VERTICAL,align:c.default.Align.STRETCH,grow:0},void 0,A(h.default,{className:T.default.buttonTitle,size:h.default.Sizes.MEDIUM,weight:h.default.Weights.MEDIUM,style:{color:_.Colors.PRIMARY_DARK_300}},void 0,r?y.default.Messages.AUTH_BANNED_INVITE_BODY:y.default.Messages.INVITE_INVALID_ERROR),A(v.Button,{className:T.default.button,onClick:function(e){return P(e,t,a)}},void 0,y.default.Messages.INVITE_INVALID_CTA))))}r.useEffect(function(){m.default.track(_.AnalyticEvents.INVITE_VIEWED,{},!0),(0,l.trackAppUIViewed)("invite_mobile")},[]);var u=A(g.default,{invite:a});switch(a.state){case _.InviteStates.EXPIRED:return s({banned:!1});case _.InviteStates.BANNED:return s({banned:!0});case _.InviteStates.RESOLVING:return R;default:return A(v.default,{},void 0,u,A(v.Button,{onClick:function(e){return P(e,t,a)},className:I.default.marginTop20},void 0,y.default.Messages.INSTANT_INVITE_ACCEPT))}};t.default=M},9366:function(e,t,n){e.exports=n.p+"07c4931451dfa8c32fc8551b48a89536.svg"},9367:function(e,t,n){e.exports=n.p+"96191331272ece160a85126d54e49f3d.svg"},9368:function(e,t,n){e.exports=n.p+"acb452cda03a99894210f832308c055d.svg"},9369:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(0)),r=n(331),i=d(n(3)),o=d(n(853)),s=n(496),l=d(n(9)),u=d(n(6645));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t,n;function i(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={isLogoutRequested:t.props.isAuthenticated},t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=i.prototype;return l.handleHandoff=function(e,t){this.setState({isLogoutRequested:!1},function(){(0,s.handoffFromApp)(e,t)})},l.componentDidMount=function(){var e=this,t=this.props.location;if(null!=t){var n=(0,r.parse)(t.search),a=n.handoff_key,i=n.handoff_token;null!=a&&null!=i&&(this.state.isLogoutRequested?o.default.logout(null).finally(function(){e.handleHandoff(a,i)}):this.handleHandoff(a,i))}},l.render=function(){return this.state.isLogoutRequested?null:a.createElement(u.default,this.props)},i}(a.PureComponent);f.displayName="LoginHandoff",f.defaultProps={transitionTo:function(t){return e.location.assign(t)}};var c=i.default.connectStores([l.default],function(){return{isAuthenticated:l.default.isAuthenticated()}})(f);t.default=c}).call(this,n(25))},9370:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var a,r=_(n(0)),i=g(n(7)),o=n(331),s=g(n(3)),l=g(n(853)),u=n(6547),d=g(n(9)),f=_(n(6544)),c=n(76),p=n(868),h=n(1),v=g(n(4)),m=g(n(451));function g(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}s.default.initialize();var E=function(e){var t,a;function r(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={password:"",code:"",error:null},t.handleSubmit=function(e){var n=t.props,a=n.location,r=n.replaceWith,i=t.state,s=i.password,u=i.error;if(null!=e&&e.preventDefault(),0===s.length)return t.setState({error:v.default.Messages.PASSWORD_REQUIRED}),void c.ComponentDispatch.dispatch(h.ComponentActions.WAVE_EMPHASIZE);null!=u&&t.setState({error:null});var d=(0,o.parse)(a.search);null!=d.token&&l.default.resetPassword(d.token,s,r)},t.handleTokenSubmit=function(e){var n=t.props,a=n.location,r=n.replaceWith,i=n.mfaTicket,s=t.state,u=s.code,d=s.password,f=s.error;if(null!=e&&e.preventDefault(),0===d.length)return t.setState({error:v.default.Messages.PASSWORD_REQUIRED}),void c.ComponentDispatch.dispatch(h.ComponentActions.WAVE_EMPHASIZE);null!=f&&t.setState({error:null});var p=(0,o.parse)(a.search);null!=p.token&&l.default.resetPasswordMFA(u,i,d,p.token,r)},t.renderError=function(e){var n=t.props.errors;if(t.hasError(e)){var a=n[e];return Array.isArray(a)?a[0]:a}return null},t}a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var s=r.prototype;return s.componentDidMount=function(){(0,u.trackAppUIViewed)("reset_password")},s.hasError=function(e){return null!=this.props.errors[e]||null!=this.state.error},s.renderPasswordReset=function(){var e=this,t=this.state,a=t.password,r=t.error,i=this.props.loginStatus,o=r||this.renderError("password");return y(f.default,{onSubmit:this.handleSubmit,tag:"form"},void 0,y("img",{alt:"",src:n(null==o?7856:7857),className:m.default.marginBottom20}),y(f.Title,{},void 0,v.default.Messages.RESET_PASSWORD_TITLE),y(f.Block,{className:m.default.marginTop20},void 0,y(f.Input,{label:v.default.Messages.FORM_LABEL_NEW_PASSWORD,className:m.default.marginBottom20,name:"password",value:a,onChange:function(t){return e.setState({password:t})},error:o,type:"password"}),y(f.Button,{type:"submit",submitting:i===h.LoginStates.LOGGING_IN_MFA},void 0,v.default.Messages.CHANGE_PASSWORD)))},s.renderMFA=function(){var e=this,t=this.state.error,a=this.props.loginStatus,r=t||this.renderError("code");return y(f.default,{onSubmit:this.handleTokenSubmit,tag:"form"},void 0,y("img",{alt:"",src:n(null==r?7856:7857),className:(0,i.default)(m.default.marginBottom20,p.isMobile?m.default.marginTop20:"")}),y(f.Title,{className:m.default.marginBottom8},void 0,v.default.Messages.TWO_FA_ENTER_TOKEN_LABEL),y(f.SubTitle,{},void 0,v.default.Messages.TWO_FA_ENTER_TOKEN_BODY),y(f.Block,{className:m.default.marginTop20},void 0,y(f.Input,{className:m.default.marginBottom8,error:r,onChange:function(t){return e.setState({code:t})},autoComplete:"off",placeholder:v.default.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,value:this.state.code}),y(f.Button,{type:"submit",submitting:a===h.LoginStates.LOGGING_IN_MFA},void 0,v.default.Messages.LOGIN)))},s.render=function(){return this.props.mfaTicket?this.renderMFA():this.renderPasswordReset()},r}(r.PureComponent);E.displayName="ResetPassword",E.defaultProps={transitionTo:function(t){return e.location.assign(t)},replaceWith:function(t){return e.location.replace(t)}};var I=s.default.connectStores([d.default],function(){return{loginStatus:d.default.getLoginStatus(),mfaTicket:d.default.getMFATicket(),errors:d.default.getErrors()}})(E);t.default=I}).call(this,n(25))},9371:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var a,r=N(n(0)),i=S(n(7)),o=S(n(38)),s=n(331),l=S(n(3)),u=S(n(853)),d=n(6547),f=S(n(9)),c=S(n(6577)),p=S(n(942)),h=N(n(6544)),v=S(n(14)),m=S(n(33)),g=S(n(948)),_=n(1),y=S(n(4)),E=S(n(461)),I=S(n(451)),T=S(n(6494));function S(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function A(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}l.default.initialize();var O=function(e){var t,a;function r(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).handleVerify=function(e){var n=(0,s.parse)(t.props.location.search);u.default.verify(n.token,e)},t.handleLogin=function(){(0,t.props.transitionTo)(_.Routes.LOGIN)},t.handleOpenApp=function(){var e=t.props.verifyingUserId;v.default.track(_.AnalyticEvents.VERIFY_ACCOUNT_APP_OPENED,{verifying_user_id:e}),t.openAppWithFingerprint()},t}a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var l=r.prototype;return l.componentDidMount=function(){this.handleVerify(),(0,d.trackAppUIViewed)("verify_email")},l.openAppWithFingerprint=function(){var e,t=this.props.fingerprint;e="Android"===o.default.os.family||"iOS"===o.default.os.family?_.DownloadLinks.DYNAMIC("verify_email",{queryString:(0,s.stringify)({fingerprint:t})}):"discord://",g.default.launch(e,function(e){e||m.default.replaceWith(c.default.defaultRoute)})},l.renderVerifyCaptcha=function(){return A(h.default,{},void 0,A(h.Image,{src:n(7858),className:(0,i.default)(T.default.image,I.default.marginBottom20)}),A(h.Title,{className:I.default.marginBottom8},void 0,y.default.Messages.VERIFICATION_VERIFYING),A(h.SubTitle,{className:I.default.marginBottom40},void 0,y.default.Messages.VERIFICATION_BODY_ALT),A("div",{className:E.default.flexCenter},void 0,A(p.default,{onVerify:this.handleVerify,theme:p.default.Themes.DARK})))},l.renderVerifyFailed=function(){return A(h.default,{},void 0,A(h.Image,{src:n(9372),className:(0,i.default)(T.default.image,I.default.marginBottom20)}),A(h.Title,{className:I.default.marginBottom8},void 0,y.default.Messages.VERFICATION_EXPIRED),A(h.SubTitle,{className:I.default.marginBottom40},void 0,y.default.Messages.AUTH_VERFICATION_EXPIRED_SUGGESTION),A(h.Button,{onClick:this.handleLogin},void 0,y.default.Messages.LOGIN))},l.renderVerifySucceeded=function(){return A(h.default,{},void 0,A(h.Image,{src:n(7858),className:(0,i.default)(T.default.image,I.default.marginBottom20)}),A(h.Title,{className:I.default.marginBottom40},void 0,y.default.Messages.VERIFICATION_VERIFIED),A(h.Button,{onClick:this.handleOpenApp},void 0,y.default.Messages.VERIFICATION_OPEN_DISCORD))},l.renderVerifying=function(){return A(h.default,{},void 0,A(h.Image,{src:n(7855),className:(0,i.default)(T.default.image,I.default.marginBottom20)}),A(h.Title,{className:I.default.marginBottom8},void 0,y.default.Messages.VERIFICATION_VERIFYING),A(h.SubTitle,{className:I.default.marginBottom40},void 0,y.default.Messages.ACTION_MAY_TAKE_A_MOMENT),A(h.Button,{submitting:!0,color:h.Button.Colors.PRIMARY}))},l.render=function(){var e=this.props,t=e.verifyErrors,n=e.verifyFailed,a=e.verifySucceeded;return null!=t&&t.captcha_key?this.renderVerifyCaptcha():n?this.renderVerifyFailed():a?this.renderVerifySucceeded():this.renderVerifying()},r}(r.PureComponent);O.displayName="VerifyEmail",O.defaultProps={transitionTo:function(t){return e.location.assign(t)}};var P=l.default.connectStores([f.default],function(){return{verifyFailed:f.default.didVerifyFail(),verifyErrors:f.default.getVerifyErrors(),verifySucceeded:f.default.didVerifySucceed(),fingerprint:f.default.getFingerprint(),verifyingUserId:f.default.getVerifyingUserId()}})(O);t.default=P}).call(this,n(25))},9372:function(e,t,n){e.exports=n.p+"1a06a76c7ea3e0facf0d6635e10c5898.svg"}}]);
//# sourceMappingURL=ad0f95138c987df13496.js.map