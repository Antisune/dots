(window.webpackJsonp=window.webpackJsonp||[]).push([[70,68],Array(608).concat([function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(722),i=n(1),s=n.n(i),c=n(22),l=n(23);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16a6.5 6.5 0 1 1 0-13m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"}))};b.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var y=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}))};y.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var v=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=f(t).call(this,e))||"object"!==u(o)&&"function"!=typeof o?m(r):o).state={term:e.term||""},n._handleChange=n._handleChange.bind(m(n)),n._handleSubmit=n._handleSubmit.bind(m(n)),n._clearInput=n._clearInput.bind(m(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){e.focused&&this.input.focus(),this.setState({term:e.term||""})}},{key:"render",value:function(){var e=this,t=this.props.takeId,n=this.props.searchPlaceholder;return o.a.createElement("div",{className:"input-field top-search ".concat(this.props.className||"")},o.a.createElement("form",{onSubmit:this._handleSubmit},o.a.createElement("input",{placeholder:n,id:t,value:this.state.term,onChange:this._handleChange,type:"search",ref:function(t){return e.input=t},required:!0}),o.a.createElement("label",{className:"force-vertical-center icon-container small",htmlFor:t},o.a.createElement(b,{className:"icon"})),o.a.createElement("input",{type:"submit",value:"Submit",style:{display:"none"}}),o.a.createElement("div",{onClick:this._clearInput,className:"iclose icon-container"+(""!==this.state.term?" keep":"")},o.a.createElement(y,{className:"icon"}))))}},{key:"_clearInput",value:function(){0===this.props.history.location.pathname.indexOf("/search")&&this.state.term&&this.props.history.push("/search"),this.setState({term:""}),"function"==typeof this.props.onClose&&this.props.onClose()}},{key:"_handleChange",value:function(e){this.setState({term:e.target.value})}},{key:"_handleSubmit",value:function(e){this.props.history.push("/search/"+this.state.term),e.preventDefault()}}])&&p(n.prototype,r),a&&p(n,a),t}();d(v,"propTypes",{searchPlaceholder:s.a.string.isRequired,takeId:s.a.string.isRequired,onClose:s.a.func,focused:s.a.bool}),d(v,"defaultProps",{searchPlaceholder:"Search",takeId:"search"}),d(v,"contextTypes",{store:s.a.object});var g=Object(c.g)(Object(l.b)(function(e){return{term:e.searchState.term}})(v)),_=n(4),w=n(95),E=n(170);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P,C,T,D=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),k(this,S(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("ul",{className:"tabulators tabs-transparent"},this.props.tabs.map(function(e){return o.a.createElement("li",{className:"tab".concat(e.active?" active":""),key:e.route},o.a.createElement(c.b,{to:e.route,className:e.active?"active":""},o.a.createElement(_.b,{id:e.translation_key}),e.active&&o.a.createElement("div",{className:"indicator"})))}))}}])&&j(n.prototype,r),a&&j(n,a),t}();P=D,C="propTypes",T={tabs:s.a.arrayOf(s.a.shape({translation_key:s.a.string.isRequired,route:s.a.string.isRequired,active:s.a.bool})).isRequired},C in P?Object.defineProperty(P,C,{value:T,enumerable:!0,configurable:!0,writable:!0}):P[C]=T;var N,M=Object(l.b)(function(e){return{tabs:e.headerState.content}})(D),A=n(637),R=n(706),L=n(723);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H=(q(N={},w.a,null),q(N,A.a,M),q(N,L.a,L.c),N),W=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),I(this,B(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return this.props.Component?o.a.createElement(E.b,null,o.a.createElement("div",{className:"nav-content"},o.a.createElement(this.props.Component,null))):null}}])&&F(n.prototype,r),a&&F(n,a),t}(),V=Object(l.b)(function(e){return{Component:H[e.headerState.sub_header]||null,showSubHeader:Object(R.c)(e.headerState.header_visibility)}})(W),G=n(612),X=n(627),$=n.n(X),Z=n(31),K=n(71),Y=n(46);function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ee(this,te(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e,t,n,r=this.props.notification,a=r.user,i=r.group,s=r.post,l=r.type,u=!1;s?(e="/p/".concat(s.id),(t=s.title?s.title:s.text)&&""!==t||"materialpost"===l||(u=!0),n={$1:t}):i?(e=i.url,n={$1:t=i.title}):(e=a.profile,t=a.displayname);var p="notification.".concat(l,".text");return u&&(p+=".untitled"),o.a.createElement("div",{className:"collection-item notification-item"+(this.props.notification.read?"":" unread")},o.a.createElement(c.b,{className:"notification-card",to:e,title:t,onClick:this._markAsRead.bind(this)},o.a.createElement("img",{className:"circle user-img left",alt:a.displayname,src:a.avatar}),o.a.createElement("div",{className:"notification-content"},o.a.createElement("div",{className:"notification-title",dir:"auto"},o.a.createElement("div",{className:"left truncate"},a.displayname)),o.a.createElement("br",null),o.a.createElement("div",{className:"notification-text"},o.a.createElement(_.b,{id:p,values:n})))))}},{key:"_markAsRead",value:function(){var e=this;this.props.notification.read||Object(Z.f)(this.context.store,this.props.notification.id).then(function(){return Object(Y.d)(e.context.store,e.context.cookies)}).catch(function(e){return console.warn("marking notification as read failed",e)}),this.props.closePopup()}}])&&J(n.prototype,r),a&&J(n,a),t}();re(oe,"contextTypes",{store:s.a.object,cookies:s.a.object}),re(oe,"propTypes",{notification:s.a.object.isRequired,closePopup:s.a.func});var ae=oe,ie=n(27),se=n(96);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var he=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ue(t).call(this,e))||"object"!==ce(o)&&"function"!=typeof o?pe(r):o).page=0,n._loadFunc=n._loadFunc.bind(pe(n)),n.state={notification_list:[],hasMore:!0},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillMount",value:function(){Object(Y.d)(this.context.store,this.context.cookies).then(),this._mounted=!0}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){var e=this.context.store.getState().userState.user;return o.a.createElement("div",{className:"col s12 notification-container"},o.a.createElement("div",{className:"notification-tools"},o.a.createElement("button",{className:"btn-flat ggb-teal-text"+(e.notifications>0?"":" disabled"),onClick:this._markAllAsRead.bind(this)},o.a.createElement(_.b,{id:"notifications.markallasread"}))),o.a.createElement("div",{className:"notification-scroller"},o.a.createElement($.a,{className:"col s12 collection notification-list",loadMore:this._loadFunc,hasMore:this.state.hasMore,threshold:80,useWindow:!1,loader:o.a.createElement("div",{key:0,className:"loader"}," ",o.a.createElement(K.a,{style:{height:"80px",position:"relative"}}))},o.a.createElement(se.TransitionGroup,null,this.state.notification_list))),0===this.state.notification_list.length&&!this.state.hasMore&&o.a.createElement("div",{className:"empty-message"},o.a.createElement(_.b,{id:"notifications.list.empty_message"})))}},{key:"_loadFunc",value:function(){var e=this;if(!this._loading){var n=this.page++*t.BATCH_SIZE;this._loading=!0,Object(Z.d)(this.context.store,n,t.BATCH_SIZE,function(){return e._loadFunc()}).then(function(r){e._loading=!1,e._mounted&&(r&&r.length?e.setState({notification_list:e._mapNotifications(r,n),hasMore:r.length===t.BATCH_SIZE}):e.setState({hasMore:!1}))}).catch(function(t){console.error("fetching notifications failed",t),e.page--,e._loading=!1,e._mounted&&e.setState({hasMore:!1})})}}},{key:"_mapNotifications",value:function(e,t){var n=this;return e.map(function(e,r){var a=o.a.createElement(E.c,{key:"notification_".concat(e.id)},o.a.createElement(ae,{notification:e,closePopup:n.props.closePopup}));n.state.notification_list.splice(t+r,0,a)}),this.state.notification_list}},{key:"_markAllAsRead",value:function(){var e=this,t=this;Object(Z.g)(this.context.store).then(function(){Object(Y.d)(e.context.store,e.context.cookies).then(),t.state.notification_list.map(function(e){e.props.children.props.notification.read=!0}),t.setState({notification_list:t.state.notification_list})}).catch(function(t){console.error("marking notifcations as read failed",t),Object(ie.c)(e.context.store,{id:"notifications.markallasread.error"})})}}])&&le(n.prototype,r),a&&le(n,a),t}();me(he,"BATCH_SIZE",10),me(he,"contextTypes",{store:s.a.object,cookies:s.a.object});var de=he;function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ee=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M21 19v1H3v-1l2-2v-6c0-3.1 2.03-5.83 5-6.71V4c0-1.1.9-2 2-2s2 .9 2 2v.29c2.97.88 5 3.61 5 6.71v6l2 2m-7 2c0 1.1-.9 2-2 2s-2-.9-2-2"}))};Ee.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var Oe=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ve(t).call(this,e))||"object"!==be(o)&&"function"!=typeof o?ge(r):o)._close=n._close.bind(ge(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this;return o.a.createElement(G.a,{className:"right right-edge header-top-offset notifications-popdown ".concat(this.props.className),contentMaxWidth:"300px",contentWidth:"90vw",gutter:"10px",stayOpen:!0,noVisibilityCheck:!0,rtl:this.props.rtl,ref:function(t){e.popdownButton=t}},o.a.createElement("a",{className:"dropdown-button notifications right icon-container"},o.a.createElement(Ee,{className:"icon"}),this.props.user.notifications>0&&o.a.createElement("div",{className:"notifications-badge"})),o.a.createElement("div",null,o.a.createElement(de,{closePopup:this._close})))}},{key:"_close",value:function(){this.popdownButton.closePopDown()}}])&&ye(n.prototype,r),a&&ye(n,a),t}();we(Oe,"propTypes",{user:s.a.object.isRequired,rtl:s.a.bool.isRequired}),we(Oe,"defaultProps",{className:""});var je=n(73);function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xe(e,t){return!t||"object"!==ke(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Te=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M16 20h4v-4h-4m0-2h4v-4h-4m-6-2h4V4h-4m6 4h4V4h-4m-6 10h4v-4h-4m-6 4h4v-4H4m0 10h4v-4H4m6 4h4v-4h-4M4 8h4V4H4v4z"}))};Te.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var De=function(e){return o.a.createElement("svg",e,o.a.createElement("defs",null,o.a.createElement("style",null,".graphing_calculator_svg__cls-2","{","fill:#99f","}",".graphing_calculator_svg__cls-3","{","fill:#333","}")),o.a.createElement("title",null,"GeoGebra Graphing"),o.a.createElement("path",{d:"M2.5 21.5C4.13 10.64 7.89.56 12 12s7.76 1.36 9.51-9.5",fill:"none",stroke:"#666",strokeMiterlimit:"10",strokeWidth:"1.3"}),o.a.createElement("circle",{className:"graphing_calculator_svg__cls-2",cx:"8.5",cy:"6.5",r:"2.5"}),o.a.createElement("circle",{className:"graphing_calculator_svg__cls-2",cx:"15.5",cy:"17.5",r:"2.5"}),o.a.createElement("path",{className:"graphing_calculator_svg__cls-3",d:"M15.5 15a2.5 2.5 0 1 0 2.5 2.5 2.5 2.5 0 0 0-2.5-2.5zm0 4.5a2 2 0 1 1 2-2 2 2 0 0 1-2 2zM8.5 4A2.5 2.5 0 1 0 11 6.5 2.5 2.5 0 0 0 8.5 4zm0 4.5a2 2 0 1 1 2-2 2 2 0 0 1-2 2z"}))};De.defaultProps={id:"graphing_calculator_svg__Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};var Ne=function(e){return o.a.createElement("svg",e,o.a.createElement("defs",null,o.a.createElement("style",null,".geometry_svg__cls-1","{","fill:#99f","}",".geometry_svg__cls-2","{","fill:#666","}")),o.a.createElement("title",null,"GeoGebra Geometry"),o.a.createElement("path",{className:"geometry_svg__cls-1",d:"M14 4.02L20.27 15H7.72L14 4.02z"}),o.a.createElement("circle",{className:"geometry_svg__cls-1",cx:"9",cy:"15",r:"6"}),o.a.createElement("path",{className:"geometry_svg__cls-2",d:"M14 2L6 16h16zm0 2l6.27 11H7.72z"}),o.a.createElement("path",{className:"geometry_svg__cls-2",d:"M9 8a7 7 0 1 0 7 7 7 7 0 0 0-7-7zm0 13a6 6 0 1 1 6-6 6 6 0 0 1-6 6z"}),o.a.createElement("path",{d:"M15 15H7.72L11 9.33A6 6 0 0 1 15 15z",fill:"#6161ff"}),o.a.createElement("path",{d:"M11.47 8.46a6.93 6.93 0 0 0-1-.3L6 16h9.92a6.92 6.92 0 0 0-4.46-7.54zM7.72 15L11 9.33A6 6 0 0 1 15 15z",fill:"#333"}))};Ne.defaultProps={id:"geometry_svg__Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};var Me=function(e){return o.a.createElement("svg",e,o.a.createElement("title",null,"GeoGebra 3D"),o.a.createElement("path",{fill:"#333",d:"M8.47 21L2 17.57 10.83 3 8.47 21z"}),o.a.createElement("path",{fill:"#666",d:"M22 18.38L8.47 21l2.36-18L22 18.38z"}),o.a.createElement("path",{fill:"#6161ff",d:"M7.64 19.37l-4.19-2.18 5.67-9.37-1.48 11.55z"}),o.a.createElement("path",{fill:"#99f",d:"M20.18 17.69L9.66 19.73l1.82-14.06 8.7 12.02z"}))};Me.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};var Ae=function(e){return o.a.createElement("svg",e,o.a.createElement("defs",null,o.a.createElement("style",null,".scientific_svg__cls-4","{","fill:#666","}"),o.a.createElement("clipPath",{id:"scientific_svg__clip-path"},o.a.createElement("rect",{x:"27",y:"27",width:"458",height:"458",rx:"44.76",fill:"none"}))),o.a.createElement("title",null,"scientific"),o.a.createElement("g",{clipPath:"url(#scientific_svg__clip-path)"},o.a.createElement("path",{fill:"#99f",d:"M0 331.1h512V475H0z"}),o.a.createElement("path",{className:"scientific_svg__cls-4",d:"M0-.77h512v513.54H0zm467 82.89C467 59.41 453.59 46 430.88 46H82.12C59.41 46 46 59.41 46 82.12v348.76C46 453.59 59.41 467 82.12 467h348.76c22.71 0 36.12-13.41 36.12-36.12z"}),o.a.createElement("path",{className:"scientific_svg__cls-4",d:"M0 173.67h512v18H0zM0 320.33h512v18H0z"})),o.a.createElement("path",{className:"scientific_svg__cls-4",d:"M159.5 99.66v-38h19v38h38.25v19.68H178.5v38h-19v-38h-38.25V99.66zM121.2 246.08h95.6v19.67h-95.6z"}),o.a.createElement("path",{d:"M216.8 371.88v19.67h-95.6v-19.67zm0 41.4V433h-95.6v-19.72z",fill:"#333"}))};Ae.defaultProps={id:"scientific_svg__simple_calculator",xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 512 512"};var Re=function(e){return o.a.createElement("svg",e,o.a.createElement("title",null,"GeoGebra Logo"),o.a.createElement("g",{strokeLinecap:"round",strokeLinejoin:"round"},o.a.createElement("path",{fill:"none",stroke:"#666",strokeWidth:"33.34",d:"M432.345 250.876c0 87.31-75.98 158.088-169.705 158.088-93.726 0-169.706-70.778-169.706-158.088 0-87.31 75.98-158.09 169.706-158.09 93.725 0 169.705 70.78 169.705 158.09z",transform:"matrix(1.0156 .01389 -.20152 .9924 42.924 8.75)"}),o.a.createElement("path",{fill:"#99f",stroke:"#000",strokeWidth:"15.55",d:"M644.286 145.571c0 26.431-20.787 47.858-46.429 47.858-25.642 0-46.428-21.427-46.428-47.858 0-26.43 20.786-47.857 46.428-47.857 25.642 0 46.429 21.427 46.429 47.857z",transform:"matrix(.96842 0 0 .91438 -225.59 242.796)"}),o.a.createElement("path",{fill:"#99f",stroke:"#000",strokeWidth:"15.55",d:"M644.286 145.571c0 26.431-20.787 47.858-46.429 47.858-25.642 0-46.428-21.427-46.428-47.858 0-26.43 20.786-47.857 46.428-47.857 25.642 0 46.429 21.427 46.429 47.857z",transform:"matrix(.96842 0 0 .91438 -151.12 72.004)"}),o.a.createElement("path",{fill:"#99f",stroke:"#000",strokeWidth:"15.55",d:"M644.286 145.571c0 26.431-20.787 47.858-46.429 47.858-25.642 0-46.428-21.427-46.428-47.858 0-26.43 20.786-47.857 46.428-47.857 25.642 0 46.429 21.427 46.429 47.857z",transform:"matrix(.96842 0 0 .91438 -421.29 266.574)"}),o.a.createElement("path",{fill:"#99f",stroke:"#000",strokeWidth:"15.55",d:"M644.286 145.571c0 26.431-20.787 47.858-46.429 47.858-25.642 0-46.428-21.427-46.428-47.858 0-26.43 20.786-47.857 46.428-47.857 25.642 0 46.429 21.427 46.429 47.857z",transform:"matrix(.96842 0 0 .91438 -483.632 100.362)"}),o.a.createElement("path",{fill:"#99f",stroke:"#000",strokeWidth:"15.55",d:"M644.286 145.571c0 26.431-20.787 47.858-46.429 47.858-25.642 0-46.428-21.427-46.428-47.858 0-26.43 20.786-47.857 46.428-47.857 25.642 0 46.429 21.427 46.429 47.857z",transform:"matrix(.96842 0 0 .91438 -329.052 -23.649)"})))};Re.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 512 512"};var Le=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xe(this,Pe(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement(G.a,{className:"right-edge "+this.props.className,contentMaxWidth:"none",gutter:"10px",noVisibilityCheck:!0,rtl:this.props.rtl,noMobileView:!0},o.a.createElement("a",{className:"icon-container"},o.a.createElement(Te,{className:"icon"})),o.a.createElement(ze,null))}}])&&Se(n.prototype,r),a&&Se(n,a),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Le,"propTypes",{rtl:s.a.bool.isRequired});var ze=function(){return o.a.createElement("ul",{className:"apps-pop-content"},o.a.createElement("li",null,o.a.createElement(c.b,{to:"/graphing",onClick:function(){return Object(je.b)("/graphing")},target:"_blank"},o.a.createElement(De,{className:"icon left no-stretch"}),o.a.createElement(_.b,{id:"apps.graphing"}))),o.a.createElement("li",null,o.a.createElement(c.b,{to:"/geometry",onClick:function(){return Object(je.b)("/geometry")},target:"_blank"},o.a.createElement(Ne,{className:"icon left no-stretch"}),o.a.createElement(_.b,{id:"apps.geometry"}))),o.a.createElement("li",null,o.a.createElement(c.b,{to:"/3d",onClick:function(){return Object(je.b)("/3d")},target:"_blank"},o.a.createElement(Me,{className:"icon left no-stretch"}),o.a.createElement(_.b,{id:"apps.3d"}))),o.a.createElement("li",null,o.a.createElement(c.b,{to:"/calculator",onClick:function(){return Object(je.b)("/calculator")},target:"_blank"},o.a.createElement(Ae,{className:"icon left no-stretch"}),o.a.createElement(_.b,{id:"apps.calculator"}))),o.a.createElement("li",null,o.a.createElement(c.b,{to:"/classic",onClick:function(){return Object(je.b)("/classic")},target:"_blank"},o.a.createElement(Re,{className:"icon left no-stretch"}),o.a.createElement(_.b,{id:"apps.classic"}))))},Fe=n(10),Ie=n(751),Be=n(704);function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function We(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xe=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16a6.5 6.5 0 1 1 0-13m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"}))};Xe.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var $e=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(o=He(t).call(this,e))||"object"!==Ue(o)&&"function"!=typeof o?We(r):o,Ge(We(n),"state",{showSearch:!1,focused:!1}),n._onSignInClick=n._onSignInClick.bind(We(n)),n._showSearch=n._showSearch.bind(We(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e,t=this,n=this.props.user&&this.props.user.id>0;if(this.props.error&&!this.props.error.modal)switch(this.props.error.code){case 503:e="yellow darken-3";break;case 500:case 502:e="materialize-red"}var r=this.props.hasSubHeader?" double":"",a=this.state.showSearch?" hide-on-small-and-down":"",i="valign-wrapper header-top-offset fixed-position-on-small".concat(a);return o.a.createElement("header",{className:this.props.showMainHeader?void 0:"sub-header-sticky-on-mobile"},o.a.createElement(Ie.a,null),o.a.createElement("div",{className:"navbar-fixed".concat(r)},o.a.createElement("nav",{className:"".concat(e||"white").concat(r)},o.a.createElement("div",{className:"nav-wrapper"},!this.state.showSearch&&o.a.createElement(Be.a,{responsive:!0}),o.a.createElement(_.b,{id:"header.search_placeholder"},function(e){return o.a.createElement(g,{className:t.state.showSearch?"show":void 0,searchPlaceholder:e,onClose:function(){return t.setState({showSearch:!1})},focused:t.state.focused})}),!this.state.showSearch&&o.a.createElement("div",{className:"header-gap"}),o.a.createElement("div",{className:"popdown-button-container valign-wrapper"},o.a.createElement("a",{className:"hide-on-large-only icon-container",style:{display:this.state.showSearch?"none":void 0},onClick:this._showSearch},o.a.createElement(Xe,{className:"icon"}))),o.a.createElement(Le,{rtl:"rtl"===this.props.user.lang_dir,className:i}),n&&o.a.createElement(Oe,{user:this.props.user,rtl:"rtl"===this.props.user.lang_dir,className:i}),n?o.a.createElement("div",null,o.a.createElement("div",{className:"profile-image fixed-position-on-small ".concat(a)},o.a.createElement(c.b,{to:this.props.user.profile,className:"circle"},o.a.createElement("img",{src:this.props.user.avatar,alt:this.props.user.displayname,className:"container-fill"})))):o.a.createElement("a",{onClick:this._onSignInClick,className:"login_button btn-flat black-text".concat(a)},o.a.createElement(_.b,{id:"header.signin"}))),o.a.createElement(se.TransitionGroup,null,this.props.hasSubHeader&&o.a.createElement(V,null)))))}},{key:"_onSignInClick",value:function(e){this.context.store.dispatch(Object(Fe.d)())}},{key:"_showSearch",value:function(){this.setState({showSearch:!0})}},{key:"componentWillUpdate",value:function(e,t){!t.showSearch||this.state.showSearch||t.focused?t.focused&&this.setState({focused:!1}):this.setState({focused:!0})}}])&&qe(n.prototype,r),a&&qe(n,a),t}();Ge($e,"contextTypes",{store:s.a.object}),Ge($e,"propTypes",{hasSubHeader:s.a.bool.isRequired,error:s.a.object});var Ze=Object(l.b)(function(e){return{user:e.userState.user,hasSubHeader:e.headerState.sub_header!==w.a,showMainHeader:Object(R.b)(e.headerState.header_visibility),error:e.errorState.error,navOpen:e.sideNavState.state}})($e),Ke=n(215),Ye=n(683);function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(e,t){return!t||"object"!==Qe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),et(this,tt(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("section",{className:"col s12 app-section"},o.a.createElement("div",null,o.a.createElement(_.b,{id:"app_section.new_math_apps",tagName:"h3"}),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(c.b,{to:"/graphing",onClick:function(){return Object(je.b)("/graphing")},target:"_blank"},o.a.createElement(_.b,{id:"apps.graphing"}))),o.a.createElement("li",null,o.a.createElement(c.b,{to:"/3d",onClick:function(){return Object(je.b)("/3d")},target:"_blank"},o.a.createElement(_.b,{id:"apps.3d"}))),o.a.createElement("li",null,o.a.createElement(c.b,{to:"/cas",onClick:function(){return Object(je.b)("/cas")},target:"_blank"},o.a.createElement(_.b,{id:"apps.cas"}))),o.a.createElement("li",null,o.a.createElement(c.b,{to:"/calculator",onClick:function(){return Object(je.b)("/calculator")},target:"_blank"},o.a.createElement(_.b,{id:"apps.calculator"}))))),o.a.createElement("div",null,o.a.createElement(_.b,{id:"app_section.more_apps",tagName:"h3"}),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(c.b,{to:"/notes",onClick:function(){return Object(je.b)("/notes")},target:"_blank"},o.a.createElement(_.b,{id:"apps.notes"}))),o.a.createElement("li",null,o.a.createElement(c.b,{to:"/geometry",onClick:function(){return Object(je.b)("/geometry")},target:"_blank"},o.a.createElement(_.b,{id:"apps.geometry"}))),o.a.createElement("li",null,o.a.createElement(c.b,{to:"/classic",onClick:function(){return Object(je.b)("/classic")},target:"_blank"},o.a.createElement(_.b,{id:"apps.classic"}))),o.a.createElement("li",null,o.a.createElement(c.b,{to:"/classic#probability",onClick:function(){return Object(je.b)("/classic#probability")},target:"_blank"},o.a.createElement(_.b,{id:"apps.probability"}))))),o.a.createElement("div",null,o.a.createElement(_.b,{id:"app_section.offline_apps",tagName:"h3"}),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("a",{href:"https://itunes.apple.com/us/app/geogebra-graphing-calculator/id1146717204",target:"_blank"},o.a.createElement("span",null,"App Store"))),o.a.createElement("li",null,o.a.createElement("a",{href:"https://play.google.com/store/apps/details?id=org.geogebra.android",target:"_blank"},o.a.createElement("span",null,"Google Play"))),o.a.createElement("li",null,o.a.createElement("a",{href:"https://www.microsoft.com/store/p/geogebra-graphing-calculator/9p10r1c4t6m0",target:"_blank"},o.a.createElement("span",null,"Microsoft Store"))),o.a.createElement("li",null,o.a.createElement(c.b,{to:"/download"},o.a.createElement(_.b,{id:"side-nav.downloads"}))))))}}])&&Je(n.prototype,r),a&&Je(n,a),t}(),ot=n(56),at=n(97),it=n(171),st=n(25);function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ut(e,t){return!t||"object"!==ct(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ut(this,pt(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.context.intl.formatMessage;return o.a.createElement("div",{className:"col s12 banner"},o.a.createElement("div",{className:"row banner-flex"},o.a.createElement("div",{className:"col s12 m6"},o.a.createElement("div",{className:"row"},o.a.createElement("h1",{className:"title"},o.a.createElement(_.b,{id:"frontpage.main_title"})),o.a.createElement("h2",{className:"secondary-text"},o.a.createElement(_.b,{id:"frontpage.subtitle"}))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col"},o.a.createElement(c.b,{to:"/graphing",onClick:function(){return Object(je.b)("/graphing")},target:"_blank",className:"text-nowrap btn ggb-purple white-text"},o.a.createElement(_.b,{id:"banner.graphing"}))),o.a.createElement("div",{className:"col"},o.a.createElement(c.b,{to:"/materials",className:"text-nowrap btn black-text white"},o.a.createElement(_.b,{id:"swimlane.classroom_resources"}))))),o.a.createElement("div",{className:"col m6 banner-image hide-on-small-and-down"},o.a.createElement("img",{alt:e({id:"frontpage.main_title"}),src:"/assets/images/banner.png"}))),o.a.createElement("div",{className:"container-extender grey lighten-5"}),o.a.createElement("div",{className:"container-extender inlay-shadow"}))}}])&&lt(n.prototype,r),a&&lt(n,a),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(mt,"contextTypes",{intl:s.a.object});var ht=n(614),dt=n(725),bt=n(72),yt=n(55);function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _t(e){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Et(e,t){return(Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jt=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,n=!(o=(e=_t(t)).call.apply(e,[this].concat(i)))||"object"!==vt(o)&&"function"!=typeof o?wt(r):o,Ot(wt(n),"state",{swimlanes:void 0}),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Et(e,t)}(t,o.a.Component),n=t,a=[{key:"loadData",value:function(e){return dt.a.loadData(e,{list_type:"frontpage"})}}],(r=[{key:"componentWillMount",value:function(){this.context.store.dispatch(Object(w.d)());var e=Object(bt.b)(this.context.store);e?this._mapData(Object(yt.j)(this.context.store,e)):this._fetchData()}},{key:"render",value:function(){var e=this.context.intl.formatMessage;return o.a.createElement("div",{className:"page-content",id:"frontpage"},o.a.createElement(at.c,{title:"frontpage.title",description:e({id:"frontpage.subtitle"}),titleIntl:!0,titleImmutable:!0,alternateLangs:st.h}),o.a.createElement(ot.Helmet,null,o.a.createElement("link",{rel:"manifest",href:"/assets/manifest.json"}),o.a.createElement("meta",{name:"apple-itunes-app",content:"app-id=1146717204"})),o.a.createElement(it.a,null),o.a.createElement("div",{className:"row"},o.a.createElement(mt,null),o.a.createElement(rt,null),this.state.swimlanes?o.a.createElement(dt.a,{swimlanes:this.state.swimlanes,list_type:"frontpage"}):o.a.createElement("div",{className:"col s12"},o.a.createElement(K.a,{style:{height:"200px"}}))),o.a.createElement(ht.a,null))}},{key:"_fetchData",value:function(){t.loadData(this.context.store).then(this._mapData.bind(this))}},{key:"_mapData",value:function(e){this.setState({swimlanes:e})}}])&&gt(n.prototype,r),a&&gt(n,a),t}();Ot(jt,"contextTypes",{store:s.a.object,intl:s.a.object});var kt=Object(Ye.a)(jt),St=n(726),xt=n(206);function Pt(e){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tt(e,t){return!t||"object"!==Pt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dt(e){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nt(e,t){return(Nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var At=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Tt(this,Dt(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nt(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.update(this.props.match.params.term)}},{key:"componentWillReceiveProps",value:function(e){var t=e.match.params.term;this.props.match.params.term!==t&&this.update(t)}},{key:"componentWillUnmount",value:function(){Object(xt.b)(this.context.store)}},{key:"render",value:function(){return o.a.createElement("div",{className:"row page-content"},o.a.createElement("div",{className:"col s12"},o.a.createElement(at.c,{title:this.props.match.params.term}),o.a.createElement(it.a,{noIndex:!0}),o.a.createElement(St.a,{term:this.props.match.params.term})))}},{key:"update",value:function(e){Object(xt.a)(this.context.store,e),this.context.store.dispatch(Object(w.d)())}}])&&Ct(n.prototype,r),a&&Ct(n,a),t}();function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zt(e,t){return!t||"object"!==Rt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ft(e){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function It(e,t){return(It=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Mt(At,"contextTypes",{store:s.a.object}),Mt(At,"defaultProps",{match:{params:{}}});var Bt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zt(this,Ft(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&It(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillMount",value:function(){this.context.store.dispatch(Object(w.d)())}},{key:"render",value:function(){return o.a.createElement("div",{className:"row"},"Groups Page")}}])&&Lt(n.prototype,r),a&&Lt(n,a),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Bt,"contextTypes",{store:s.a.object});var Ut=n(793),qt=n.n(Ut),Ht=n(133),Wt=n(618);function Vt(e){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xt(e){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zt(e,t){return(Zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yt=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Xt(t).call(this,e))||"object"!==Vt(o)&&"function"!=typeof o?$t(r):o).state={status:void 0===e.user.i_follow_since,user:e.user},n._followUser=n._followUser.bind($t(n)),n._unFollowUser=n._unFollowUser.bind($t(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zt(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentWillReceiveProps",value:function(e){this.setState({status:void 0===e.user.i_follow_since,user:e.user})}},{key:"render",value:function(){var e,t=this.state.status?this._followUser:this._unFollowUser,n=this.state.status?"people.follow_user":"people.unfollow",r=this.state.status?"people.follow_this_user":"people.unfollow_this_user";if(this.props.asLink)e=this.props.signedInUser.id===this.state.user.id?o.a.createElement("span",null):!this.state.status&&this.props.disableIfFollowing?o.a.createElement(_.b,{id:"people.following_user"}):o.a.createElement("a",{onClick:t},o.a.createElement(_.b,{id:n})),e=o.a.createElement("div",{className:this.props.className},e);else{var a="".concat(this.props.className||""," btn-flat ggb-teal-text");e=this.props.signedInUser.id===this.state.user.id?o.a.createElement("button",{className:"".concat(a," disabled"),title:""},o.a.createElement("span",null)):!this.state.status&&this.props.disableIfFollowing?o.a.createElement("button",{className:"".concat(a," disabled"),title:""},o.a.createElement(_.b,{id:"people.following_user"})):o.a.createElement(_.b,{id:r,values:{$1:this.props.user.displayname}},function(e){return o.a.createElement("button",{className:a,onClick:t,title:e},o.a.createElement(_.b,{id:n}))})}return e}},{key:"_followUser",value:function(){var e=this;Object(Wt.b)(this.context.store,this.state.user.id,function(){return e._followUser()}).then(function(t){t.success&&(e._isMounted&&e.setState({status:!1}),Object(ie.c)(e.context.store,{id:"people.msg_following_now",values:{$1:e.state.user.displayname}})),"function"==typeof e.props.onFollow&&e.props.onFollow(e.props.user.id)}).catch(function(t){return e.followError(t,!0)})}},{key:"_unFollowUser",value:function(){var e=this;Object(Wt.h)(this.context.store,this.state.user.id,function(){return e._unFollowUser()}).then(function(t){t.success&&(e._isMounted&&e.setState({status:!1}),Object(ie.c)(e.context.store,{id:"people.msg_not_following_anymore",values:{$1:e.state.user.displayname}})),"function"==typeof e.props.onUnfollow&&e.props.onUnfollow(e.props.user.id)}).catch(function(t){return e.followError(t,!1)})}},{key:"followError",value:function(e,n){this._isMounted&&this.setState({status:n}),e.response&&"err_signin_cancelled"!==e.response.code&&Object(ie.c)(this.context.store,{id:t.errCodes[e.response.code]})}}])&&Gt(n.prototype,r),a&&Gt(n,a),t}();Kt(Yt,"contextTypes",{store:s.a.object}),Kt(Yt,"propTypes",{user:s.a.instanceOf(Ht.a).isRequired,signedInUser:s.a.object.isRequired,asLink:s.a.bool,disableIfFollowing:s.a.bool,onFollow:s.a.func,onUnfollow:s.a.func,className:s.a.string}),Kt(Yt,"errCodes",{err_not_following:"people.error_not_following",err_already_following:"people.error_already_following",err_signin_cancelled:"people.error_signin_cancelled"});var Qt=Object(l.b)(function(e){return{signedInUser:e.userState.user}})(Yt),Jt=n(20),en=n(94),tn=n(883),nn=n.n(tn);function rn(e){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function on(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function an(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sn(e,t,n){return t&&an(e.prototype,t),n&&an(e,n),e}function cn(e,t){return!t||"object"!==rn(t)&&"function"!=typeof t?un(e):t}function ln(e){return(ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fn(e,t)}function fn(e,t){return(fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hn=function(e){function t(e){var n;return on(this,t),(n=cn(this,ln(t).call(this,e))).state={src:null,croppedCanvas:void 0,inProgress:!1,showModal:!0},n._onCrop=n._onCrop.bind(un(n)),n._onClose=n._onClose.bind(un(n)),n}return pn(t,o.a.Component),sn(t,[{key:"componentWillMount",value:function(){var e=this,t=new FileReader;t.onload=function(){e.setState({src:t.result})},t.readAsDataURL(this.props.file),this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=!this.state.croppedCanvas||this.props.minWidth&&this.state.croppedCanvas.width<this.props.minWidth||this.props.minHeight&&this.state.croppedCanvas.height<this.props.minHeight,n=this.state.inProgress||t,r=nn.a[this.context.store.getState().userState.user.lang_dir];return this.state.showModal&&o.a.createElement(en.a,{className:"image_cropper_modal"+(this.state.inProgress?" wait":""),endingTop:"4%",onReady:this.props.onOpen,onClose:this._onClose},o.a.createElement(ot.Helmet,null,o.a.createElement("link",{rel:"stylesheet",href:r})),o.a.createElement("span",{className:"center-align"},o.a.createElement("h5",null,o.a.createElement(_.b,{id:this.props.title})),this.props.minWidth&&o.a.createElement("p",{className:"min-res"},o.a.createElement(_.b,{id:"image.chooser.minimum.resolution",values:{$1:this.props.minWidth,$2:this.props.minHeight}}))),null!==this.state.src&&o.a.createElement(dn,{className:"cropper",reference:function(t){return e.cropper=t},src:this.state.src,style:{maxHeight:"calc(90vh - 140px)"},aspectRatio:this.props.aspectRatio,guides:!0,crop:this._onCrop}),o.a.createElement("div",{className:"divider"}),o.a.createElement("div",{className:"modal-footer"},this.state.inProgress&&o.a.createElement(K.a,{className:"small",style:{display:"inline-block",width:"auto",height:"auto"}}),this.state.croppedCanvas&&t&&o.a.createElement("p",{className:"materialize-red-text f-l"},o.a.createElement(_.b,{id:"image.chooser.too.small"})),o.a.createElement("a",{className:"modal-action modal-close btn-flat"},o.a.createElement(_.b,{id:"general-dialog.cancel"})),o.a.createElement("a",{className:"modal-action btn",onClick:this._onSaveClick.bind(this),disabled:n},o.a.createElement(_.b,{id:"general.save"}))))||null}},{key:"_onClose",value:function(){this.cropper&&this.cropper.cropper&&this.cropper.cropper.destroy(),this.props.onClose&&this._isMounted&&this.props.onClose()}},{key:"_onCrop",value:function(){void 0!==this.cropper.getCroppedCanvas()&&this.setState({croppedCanvas:this.cropper.getCroppedCanvas()})}},{key:"_onSaveClick",value:function(){var e=this;this.setState({inProgress:!0});var t=this.cropper.getCroppedCanvas(),n=document.createElement("canvas"),r=n.getContext("2d");n.width=this.props.minWidth,n.height=this.props.minHeight,r.scale(this.props.minWidth/t.width,this.props.minHeight/t.height),r.drawImage(t,0,0),this.props.onSave(n.toDataURL()).then(function(){e._isMounted&&e.setState({inProgress:!1,showModal:!1})}).catch(function(t){e._isMounted&&e.setState({inProgress:!1}),Object(ie.c)(e.context.store,{id:"image.save.error"}),console.error("saving image failed",t)})}}]),t}();mn(hn,"contextTypes",{store:s.a.object}),mn(hn,"propTypes",{title:s.a.string.isRequired,file:s.a.object.isRequired,onSave:s.a.func,onClose:s.a.func,onOpen:s.a.func,minWidth:s.a.number,minHeight:s.a.number,aspectRatio:s.a.number.isRequired});var dn=function(e){function t(e){return on(this,t),cn(this,ln(t).call(this,e,t))}return pn(t,Jt["a"]),sn(t,null,[{key:"importer",value:function(){return n.e(72).then(n.t.bind(null,937,7)).then(function(e){var t=e.default;return hn.Component=t})}}]),t}();function bn(e){return(bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vn(e){return(vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _n(e,t){return(_n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var En=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=vn(t).call(this,e))||"object"!==bn(o)&&"function"!=typeof o?gn(r):o)._onModalClose=n._onModalClose.bind(gn(n)),n._onSaveAvatar=n._onSaveAvatar.bind(gn(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_n(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"render",value:function(){return o.a.createElement(hn,{title:"profile.change.avatar.title",file:this.props.file,onSave:this._onSaveAvatar,onClose:this._onModalClose,minWidth:400,minHeight:400,aspectRatio:1})}},{key:"_onModalClose",value:function(e){this.props.onModalClose&&this.props.onModalClose()}},{key:"_onSaveAvatar",value:function(e){var t=this;return Object(Z.j)(this.context.store,this.props.user.id,e).then(function(e){t.props.onSaveSuccessful&&t.props.onSaveSuccessful({user:e})})}}])&&yn(n.prototype,r),a&&yn(n,a),t}();function On(e){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kn(e){return(kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xn(e,t){return(xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}wn(En,"contextTypes",{store:s.a.object}),wn(En,"propTypes",{user:s.a.instanceOf(Ht.a).isRequired,file:s.a.object.isRequired,onSaveSuccessful:s.a.func,onModalClose:s.a.func});var Cn=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=kn(t).call(this,e))||"object"!==On(o)&&"function"!=typeof o?Sn(r):o)._onModalClose=n._onModalClose.bind(Sn(n)),n._onSaveBanner=n._onSaveBanner.bind(Sn(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xn(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"render",value:function(){return o.a.createElement(hn,{title:"profile.change.banner.title",file:this.props.file,onSave:this._onSaveBanner,onClose:this._onModalClose,minWidth:1260,minHeight:180,aspectRatio:7})}},{key:"_onModalClose",value:function(e){this.props.onModalClose&&this.props.onModalClose()}},{key:"_onSaveBanner",value:function(e){var t=this;return Object(Z.k)(this.context.store,this.props.user.id,e).then(function(e){t.props.onSaveSuccessful&&t.props.onSaveSuccessful({user:e})})}}])&&jn(n.prototype,r),a&&jn(n,a),t}();Pn(Cn,"contextTypes",{store:s.a.object}),Pn(Cn,"propTypes",{user:s.a.instanceOf(Ht.a).isRequired,file:s.a.object.isRequired,onSaveSuccessful:s.a.func,onModalClose:s.a.func});var Tn=n(680),Dn=n(624);function Nn(e){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function An(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rn(e,t,n){return t&&An(e.prototype,t),n&&An(e,n),e}function Ln(e,t){return!t||"object"!==Nn(t)&&"function"!=typeof t?Fn(e):t}function zn(e){return(zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function In(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bn(e,t)}function Bn(e,t){return(Bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qn=function(e){function t(){var e,n;Mn(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return Un(Fn(n=Ln(this,(e=zn(t)).call.apply(e,[this].concat(o)))),"state",{profileInfo:null}),n}return In(t,o.a.Component),Rn(t,[{key:"componentWillMount",value:function(){var e=this;this.props.user.actions.canViewPrivateInfo&&Object(Wt.e)(this.context.store,this.props.user.username,"private").then(function(t){var n=t.email,r=t.date_lastlogin,o=t.date_created,a=t.lang_ui,i=t.location,s=t.username,c=t.displayname;e.setState({privateInfo:{email:n,date_lastlogin:r,date_created:o,lang_ui:a,location:i,username:s,displayname:c}})})}},{key:"render",value:function(){var e=this,t=this.props.user,n=function(t){return e.state.privateInfo[t]||"-"};return o.a.createElement("div",{className:this.props.className},o.a.createElement("h5",null,o.a.createElement(_.b,{id:"user.about.title",values:{$1:t.displayname}})),o.a.createElement("div",{className:"row center"},o.a.createElement("img",{src:t.avatarXL,className:"circle avatar"})),this.state.privateInfo&&o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"row col s12 m6"},o.a.createElement(_.b,{tagName:"strong",id:"user.about.displayname"}),o.a.createElement("div",null,n("displayname"))),o.a.createElement("div",{className:"row col s12 m6"},o.a.createElement(_.b,{tagName:"strong",id:"user.about.username"}),o.a.createElement("div",null,n("username"))),o.a.createElement("div",{className:"row col s12 m6"},o.a.createElement(_.b,{tagName:"strong",id:"user.about.email"}),o.a.createElement("div",null,n("email"))),o.a.createElement("div",{className:"row col s12 m6"},o.a.createElement(_.b,{tagName:"strong",id:"user.about.location"}),o.a.createElement("div",null,n("location"))),o.a.createElement("div",{className:"row col s12 m6"},o.a.createElement(_.b,{tagName:"strong",id:"user.about.lang_ui"}),o.a.createElement("div",null,n("lang_ui"))),o.a.createElement("div",{className:"row col s12 m6"},o.a.createElement(_.b,{tagName:"strong",id:"user.about.date_created"}),this.state.privateInfo.date_created?o.a.createElement("div",null,o.a.createElement(_.a,{value:new Date(1e3*this.state.privateInfo.date_created)})," ",o.a.createElement(_.d,{value:new Date(1e3*this.state.privateInfo.date_created)})):o.a.createElement("div",null," - ")),o.a.createElement("div",{className:"row col s12 m6"},o.a.createElement(_.b,{tagName:"strong",id:"user.about.date_lastlogin"}),this.state.privateInfo.date_lastlogin?o.a.createElement("div",null,o.a.createElement(_.a,{value:new Date(1e3*this.state.privateInfo.date_lastlogin)})," ",o.a.createElement(_.d,{value:new Date(1e3*this.state.privateInfo.date_lastlogin)})):o.a.createElement("div",null," - "))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col s12 profile-message"},t.profilemessage?o.a.createElement(Dn.a,null,t.profilemessage):o.a.createElement("div",{className:"secondary-text"},o.a.createElement(_.b,{tagName:"em",id:"user.about.no_profilemessage"})))),t.actions.canViewPrivateInfo&&!this.state.privateInfo&&o.a.createElement("div",{className:"row"},o.a.createElement(K.a,{className:"small"})))}}]),t}();Un(qn,"propTypes",{user:s.a.instanceOf(Ht.a).isRequired,className:s.a.string}),Un(qn,"contextTypes",{store:s.a.object});var Hn=function(e){function t(){return Mn(this,t),Ln(this,zn(t).apply(this,arguments))}return In(t,o.a.Component),Rn(t,[{key:"render",value:function(){return o.a.createElement(en.a,{onClose:this.props.onClose,className:"modal-fixed-footer user-about-modal"},o.a.createElement(qn,{user:this.props.user,className:"modal-content"}),o.a.createElement("div",{className:"modal-footer"},o.a.createElement("a",{className:"modal-action modal-close btn"},o.a.createElement(_.b,{id:"general.close"}))))}}]),t}();function Wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Un(Hn,"propTypes",{user:s.a.instanceOf(Ht.a).isRequired,onClose:s.a.func});var Vn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.speed=60*t,this.scrolling=!1}var t,n,r;return t=e,(n=[{key:"start",value:function(){this.scrolling=!0;var e=this,t=Date.now();window.requestAnimationFrame(function n(){var r=Date.now(),o=(r-t)/1e3;document.documentElement.scrollTop=Math.max(document.documentElement.scrollTop+e.speed*o,0),t=r,e.scrolling&&window.requestAnimationFrame(n)})}},{key:"stop",value:function(){this.scrolling=!1}}])&&Wn(t.prototype,n),r&&Wn(t,r),e}();function Gn(e){return(Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $n(e){return($n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kn(e,t){return(Kn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qn=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M12 16c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z"}))};Qn.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var Jn=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M12 0c6.63 0 12 5.37 12 12s-5.37 12-12 12S0 18.63 0 12 5.37 0 12 0m0 2C6.48 2 2 6.48 2 12c0 2.4.85 4.6 2.26 6.33L18.33 4.26A9.984 9.984 0 0 0 12 2m0 20c5.52 0 10-4.48 10-10 0-2.4-.85-4.6-2.26-6.33L5.67 19.74A9.984 9.984 0 0 0 12 22z"}))};Jn.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var er=5,tr=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(o=$n(t).call(this,e))||"object"!==Gn(o)&&"function"!=typeof o?Zn(r):o,Yn(Zn(n),"scroller",new Vn(-er)),n.state={isSticky:!1,cropAvatarImage:null,cropBannerImage:null,aboutShown:!1},n._onStickyChange=n._onStickyChange.bind(Zn(n)),n._onFollow=n._onFollow.bind(Zn(n)),n._onUnfollow=n._onUnfollow.bind(Zn(n)),n._onChooseAvatarFile=n._onChooseAvatarFile.bind(Zn(n)),n._onImageCropperClose=n._onImageCropperClose.bind(Zn(n)),n._onChooseBannerFile=n._onChooseBannerFile.bind(Zn(n)),n._onAbout=n._onAbout.bind(Zn(n)),n._onAboutClose=n._onAboutClose.bind(Zn(n)),n._onBan=n._onBan.bind(Zn(n)),n._onSignOut=n._onSignOut.bind(Zn(n)),n._onDragEnter=n._onDragEnter.bind(Zn(n)),n._onDragLeave=n._onDragLeave.bind(Zn(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kn(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.user,t=this.context.store.getState().userState.user.id===e.id;return o.a.createElement("div",{className:"col s12"},o.a.createElement("div",{className:"user-banner".concat(this.state.isSticky?"":" z-depth-2")},o.a.createElement("div",{className:"banner",style:{backgroundImage:"url("+(e.banner?e.banner:"/assets/images/default/banner.png")+")"}},e.actions.canEdit&&o.a.createElement(Tn.a,{className:"imageChooser circle",onChange:this._onChooseBannerFile,showCameraIcon:!0})),o.a.createElement(qt.a,{top:".navbar-fixed",innerZ:50,onStateChange:this._onStickyChange},o.a.createElement("div",{className:"username-bar".concat(this.state.isSticky?" z-depth-2 stuck":""),onDragEnter:this._onDragEnter,onDragLeave:this._onDragLeave},o.a.createElement("h1",{className:"grey-text text-darken-3"},o.a.createElement("div",{className:"avatar circle",style:{backgroundImage:"url("+e.avatar+")"}},e.banned&&o.a.createElement("div",{className:"avatar-banned"},o.a.createElement(Jn,null)),e.actions.canEdit&&o.a.createElement(Tn.a,{className:"imageChooser circle",onChange:this._onChooseAvatarFile,showCameraIcon:!0})),o.a.createElement("div",{className:"username"},e.displayname,e.banned&&o.a.createElement("span",{className:"banned"},o.a.createElement(_.b,{id:"profile.user_is_banned"}))),(-1===this.context.store.getState().userState.user.id||!t&&!e.actions.canEdit)&&o.a.createElement("button",{className:"btn-flat ggb-teal-text hide-on-small-and-down",onClick:this._onAbout},o.a.createElement(_.b,{id:"user.about"})),t?o.a.createElement("a",{className:"btn-flat hide-on-small-and-down ggb-teal-text",href:"https://accounts.geogebra.org"},o.a.createElement(_.b,{id:"general.edit_profile"})):o.a.createElement(Qt,{className:"hide-on-small-and-down",user:e,onFollow:this._onFollow,onUnfollow:this._onUnfollow}),(e.actions.canEdit||e.actions.canBan||!t)&&o.a.createElement(G.a,{noMobileView:!0,stayOpen:!0,className:"right-edge".concat(e.actions.canEdit||e.actions.canBan?"":" hide-on-med-and-up")},o.a.createElement("a",{className:"dropdown-button dense icon-container"},o.a.createElement(Qn,{className:"icon"})),o.a.createElement("ul",null,t&&o.a.createElement("li",{className:"hide-on-med-and-up"},o.a.createElement("a",{href:"https://accounts.geogebra.org"},o.a.createElement(_.b,{id:"general.edit_profile"}))),!t&&o.a.createElement("li",{className:"hide-on-med-and-up"},o.a.createElement(Qt,{user:e,asLink:!0,onFollow:this._onFollow,onUnfollow:this._onUnfollow})),e.actions.canEdit&&o.a.createElement("li",null,o.a.createElement(Tn.a,{linkText:"profile.change.avatar",onChange:this._onChooseAvatarFile})),e.actions.canEdit&&o.a.createElement("li",null,o.a.createElement(Tn.a,{linkText:"profile.change.banner",onChange:this._onChooseBannerFile})),o.a.createElement("li",null,o.a.createElement("a",{onClick:this._onAbout},o.a.createElement(_.b,{id:"user.about"}))),e.actions.canBan&&o.a.createElement("li",{className:"divider"}),e.actions.canBan&&o.a.createElement("li",null,o.a.createElement("a",{onClick:this._onBan},e.banned?o.a.createElement(_.b,{id:"profile.unban"}):o.a.createElement(_.b,{id:"profile.ban"}))),t&&o.a.createElement("li",{className:"divider"}),t&&o.a.createElement("li",null,o.a.createElement("a",{onClick:this._onSignOut},o.a.createElement(_.b,{id:"header.signout"}))))))))),null!==this.state.cropAvatarImage&&o.a.createElement(En,{user:e,onSaveSuccessful:this.props.onUpdate,file:this.state.cropAvatarImage,onModalClose:this._onImageCropperClose}),null!==this.state.cropBannerImage&&o.a.createElement(Cn,{user:e,onSaveSuccessful:this.props.onUpdate,file:this.state.cropBannerImage,onModalClose:this._onImageCropperClose}),this.state.aboutShown&&o.a.createElement(Hn,{user:e,onClose:this._onAboutClose}))}},{key:"_onAbout",value:function(){this.setState({aboutShown:!0})}},{key:"_onAboutClose",value:function(){this.setState({aboutShown:!1})}},{key:"_onBan",value:function(){var e=this;this.props.user.banned?Object(Wt.i)(this.context.store,this.props.user.username,this._onBan).then(function(){Object(ie.c)(e.context.store,{id:"people.msg_unbanned",values:{$1:e.props.user.displayname}},Object(ie.a)("profile.ban",e._onBan)),e._onUpdateParent({banned:!1})}):Object(Wt.a)(this.context.store,this.props.user.username,this._onBan).then(function(){Object(ie.c)(e.context.store,{id:"people.msg_banned",values:{$1:e.props.user.displayname}},Object(ie.a)("profile.unban",e._onBan)),e._onUpdateParent({banned:!0})})}},{key:"_onChooseAvatarFile",value:function(e){this.setState({cropAvatarImage:e.nativeFileObject})}},{key:"_onChooseBannerFile",value:function(e){this.setState({cropBannerImage:e.nativeFileObject})}},{key:"_onFollow",value:function(){this._onUpdateParent({i_follow_since:!0})}},{key:"_onImageCropperClose",value:function(){this.setState({cropAvatarImage:null,cropBannerImage:null})}},{key:"_onSignOut",value:function(){Object(Y.h)(this.context.store,this.context.cookies).then(function(){location.reload()})}},{key:"_onStickyChange",value:function(e){var t=e.status===qt.a.STATUS_FIXED;this.setState({isSticky:t}),t||this.scroller.stop()}},{key:"_onUnfollow",value:function(){this._onUpdateParent({i_follow_since:void 0})}},{key:"_onUpdateParent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.props.onUpdate&&this.props.onUpdate({user:e})}},{key:"_onDragEnter",value:function(){this.state.isSticky&&this.scroller.start()}},{key:"_onDragLeave",value:function(){this.scroller.stop()}}])&&Xn(n.prototype,r),a&&Xn(n,a),t}();function nr(e){return(nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ur(e,t,n[t])})}return e}function or(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ar(e){return(ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ir(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cr(e,t,n){return t&&sr(e.prototype,t),n&&sr(e,n),e}function lr(e,t){return(lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ur(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Yn(tr,"contextTypes",{store:s.a.object,cookies:s.a.object}),Yn(tr,"propTypes",{user:s.a.instanceOf(Ht.a).isRequired,onUpdate:s.a.func});var pr=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ar(t).call(this,e))||"object"!==nr(o)&&"function"!=typeof o?ir(r):o).state={user:void 0},n._mapData=n._mapData.bind(ir(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lr(e,t)}(t,o.a.Component),cr(t,null,[{key:"loadData",value:function(e,t){var n=t.username;return Object(Wt.e)(e,n).then(function(e){return{user:e}})}}]),cr(t,[{key:"componentWillMount",value:function(){var e=Object(bt.b)(this.context.store);if(e){var t=e.data,n=e.user;this._mapData({user:n,data:t})}else this._loadUser(this.props.match.params.username)}},{key:"componentWillReceiveProps",value:function(e){var t=e.match.params.username;t!==this.props.match.params.username&&this._loadUser(t)}},{key:"render",value:function(){var e=this;if(!this.state.user)return o.a.createElement(K.a,null);var t=this.props,n=t.render,r=(t.children,or(t,["render","children"]));return o.a.createElement("div",{className:"page-content"},o.a.createElement("div",{className:"row"},o.a.createElement(tr,{user:this.state.user,onUpdate:function(t){void 0!==t.avatar||void 0!==t.banner?window.location.reload():e._mapData({user:rr({},e.state.user,t.user)})}}),o.a.createElement(it.a,{noIndex:!this.state.user.qualityVerified}),n(rr({},r,{user:this.state.user,data:this.state.data}))))}},{key:"_loadUser",value:function(e){return this.setState({user:void 0}),t.loadData(this.context.store,{username:e}).then(this._mapData).catch(function(e){return console.error("fetching profile failed",e)})}},{key:"_mapData",value:function(e){var t=e.user,n=e.data,r=void 0===n?void 0:n;t.code||(t=Object(Wt.g)(t),this.setState({user:t,data:r}))}}],[{key:"updateTabs",value:function(e,t,n){var r=[{translation_key:"profile.materials",route:n},{translation_key:"materials.favorites",route:n+"#favorites",active:"favorites"===t},{translation_key:"profile.timeline",route:n+"#timeline",active:"timeline"===t},{translation_key:"profile.people",route:n+"#people",active:"people"===t},{translation_key:"profile.groups",route:n+"#groups",active:"groups"===t}];r[0].active=!r.slice(1).find(function(e){return e.active}),e.dispatch(Object(A.b)(r))}}]),t}();ur(pr,"propTypes",{render:s.a.func.isRequired,match:s.a.object.isRequired}),ur(pr,"contextTypes",{store:s.a.object});var fr=n(701);function mr(e){return(mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dr(e,t){return!t||"object"!==mr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function br(e){return(br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yr(e,t){return(yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),dr(this,br(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yr(e,t)}(t,o.a.Component),n=t,a=[{key:"loadData",value:function(e){var t=this.decideRedirect(e);return t?Promise.resolve({redirect:!0,to:t}):Promise.reject({code:401})}},{key:"decideRedirect",value:function(e){if(e.getState().userState.user.id>0)return e.getState().userState.user.profile}}],(r=[{key:"componentWillMount",value:function(){-1===this.context.store.getState().userState.user.id&&this.context.store.dispatch(Object(w.d)())}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"row"},o.a.createElement(fr.a,{nice:!0,render:function(){return o.a.createElement(c.d,{to:e.context.store.getState().userState.user.profile})}}))}}])&&hr(n.prototype,r),a&&hr(n,a),t}();function gr(e){return(gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Er(e,t,n){return t&&wr(e.prototype,t),n&&wr(e,n),e}function Or(e,t){return!t||"object"!==gr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jr(e){return(jr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sr(e,t)}function Sr(e,t){return(Sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(vr,"contextTypes",{store:s.a.object});var Pr=function(e){function t(){return _r(this,t),Or(this,jr(t).apply(this,arguments))}return kr(t,o.a.Component),Er(t,[{key:"componentWillMount",value:function(){if(void 0===this.constructor.tabname)throw new Error("The static tabname of AllProfilePages must be overwritten!");t.updateTabs(this.context.store,this.constructor.tabname,"/u/"+this.props.match.params.username)}}],[{key:"updateTabs",value:function(e,t,n){pr.updateTabs(e,t,n)}}]),t}();xr(Pr,"propTypes",{match:s.a.object.isRequired}),xr(Pr,"contextTypes",{store:s.a.object}),xr(Pr,"tabname",void 0);var Cr=function(e){function t(){return _r(this,t),Or(this,jr(t).apply(this,arguments))}return kr(t,o.a.PureComponent),Er(t,[{key:"render",value:function(){var e=this.context.intl.formatMessage;return o.a.createElement(at.c,{title:"".concat(this.props.user.displayname," – ").concat(e({id:this.props.title})),description:this.props.user.profilemessage,profile:{first_name:this.props.user.displayname,username:this.props.user.username,url:this.props.user.profile},image:this.props.user.avatarXL,pageType:at.b})}}]),t}();xr(Cr,"contextTypes",{intl:s.a.object});var Tr=n(220),Dr=n(611),Nr=n(640),Mr=n(672),Ar=n(737),Rr=n(647),Lr=n(714),zr=n.n(Lr);function Fr(){return(Fr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ir(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Br="tt-u fw-600 h5 ls-1_25px",Ur="px-2 py-1 brad-4px shadow shadow-raised-h",qr="bg-primary tc-white";function Hr(e){var t=e.className,n=Ir(e,["className"]);return o.a.createElement(c.b,Fr({},n,{className:zr()(Ur,Br,t)}))}function Wr(e){var t=e.className,n=Ir(e,["className"]);return o.a.createElement(Hr,Fr({},n,{className:zr()(qr,t)}))}function Vr(e){var t=e.href,n=e.className,r=e.children;return o.a.createElement("a",{href:t,target:"_blank",className:zr()(Ur,qr,Br,n)},r)}function Gr(e){return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $r(e,t){return!t||"object"!==Gr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zr(e){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kr(e,t){return(Kr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Vr.propTypes={href:s.a.string.isRequired,className:s.a.any,children:s.a.node};var Qr=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.27 2 8.5 2 5.41 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.08C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53L12 21.35z"}))};Qr.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var Jr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$r(this,Zr(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kr(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"render",value:function(){return o.a.createElement(Rr.a,{titleKey:"no-result.favorites-title",subtitleKey:this.props.isOwn?"no-result.favorites-subtitle-own":"no-result.favorites-subtitle",subtitleVariable1:this.props.userDisplayName,Icon:Qr},this.props.isOwn?o.a.createElement("div",null,o.a.createElement(Wr,{to:"/materials",className:"d-ib"},o.a.createElement(_.b,{id:"no-result.favorites-explore-button"}))):null)}}])&&Xr(n.prototype,r),a&&Xr(n,a),t}();function eo(e){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function to(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function no(e){return(no=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ro(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oo(e,t){return(oo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Yr(Jr,"propTypes",{isOwn:s.a.bool,userDisplayName:s.a.string}),Yr(Jr,"defaultProps",{isOwn:!1});var ao=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=no(t).call(this,e))||"object"!==eo(o)&&"function"!=typeof o?ro(r):o)._onMaterialsUpdate=n._onMaterialsUpdate.bind(ro(n)),n._filterChange=n._filterChange.bind(ro(n)),n.state={sorting:Nr.b.value,filter:Nr.c.value,materials:e.materials?e.materials.length:-1,data:e.materials||null},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oo(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.state.materials>0,t=0!==this.state.materials,n=this.props.type===Mr.c?Jr:Ar.a;return o.a.createElement("div",{className:"material-view"},o.a.createElement("div",{className:"row material-view-row"},(e||this.state.filter!==Nr.c.value)&&o.a.createElement("div",{className:"col s12"},o.a.createElement("div",{className:"profile-selectors"},o.a.createElement(Nr.e,{showSections:{sorting:!0,filter:!0},selected:{sorting:this.state.sorting,filter:this.state.filter},onChange:this._filterChange}))),t?o.a.createElement(Mr.d,{type:this.props.type,user_id:this.props.user.id,sortingOrder:this.state.sorting,filter:this.state.filter,onUpdate:this._onMaterialsUpdate,data:this.state.data}):o.a.createElement(n,{isOwn:this.props.isOwn,userDisplayName:this.props.user.displayname})))}},{key:"_filterChange",value:function(e){var t=void 0!==e.sorting&&e.sorting!==this.state.sorting,n=void 0!==e.filter&&e.filter!==this.state.filter;(t||n)&&this.setState({sorting:t?e.sorting:this.state.sorting,filter:n?e.filter:this.state.filter,materials:-1,data:null})}},{key:"_onMaterialsUpdate",value:function(e){this._isMounted&&this.state.materials!==e&&this.setState({materials:e})}}])&&to(n.prototype,r),a&&to(n,a),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ao,"propTypes",{user:s.a.instanceOf(Ht.a).isRequired,type:s.a.string.isRequired,materials:s.a.array,isOwn:s.a.bool});var io=Object(l.b)(function(e,t){return{isOwn:e.userState.user.id===t.user.id}})(ao),so=n(644);function co(e){return(co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uo(e,t){return!t||"object"!==co(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function po(e){return(po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fo(e,t){return(fo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ho=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),uo(this,po(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fo(e,t)}(t,Pr),n=t,a=[{key:"loadData",value:function(e,n){var r=n.username;return pr.loadData(e,{username:r}).catch(function(e){return e.tab_name=-1,Promise.reject(e)}).then(function(n){var r=n.user,o=e.getState().userState.user.id===r.id;return Object(yt.h)(e,r.id,{type:o?Mr.b:Mr.a,folder_id:o?Dr.b:void 0,offset:0,limit:so.a.BATCH_SIZE}).catch(function(e){return e.tab_name=t.tabname,e.tab_base_route=r.profile,Promise.reject(e)}).then(function(e){return{user:r,data:e,tab_name:t.tabname,tab_base_route:r.profile,qualityVerified:r.qualityVerified}})})}}],(r=[{key:"render",value:function(){return o.a.createElement("div",{className:"col s12"},o.a.createElement(Cr,{user:this.props.user,title:"profile.materials"}),this.props.isOwn?o.a.createElement(Tr.a,{user:this.props.user,materials:this.props.data,folder_id:this.props.match.params.folder_id}):o.a.createElement(io,{user:this.props.user,type:Mr.a,materials:this.props.data}))}}])&&lo(n.prototype,r),a&&lo(n,a),t}();mo(ho,"tabname","materials"),mo(ho,"propTypes",{user:s.a.instanceOf(Ht.a).isRequired,isOwn:s.a.bool.isRequired,data:s.a.array});var bo=Object(l.b)(function(e,t){return{isOwn:e.userState.user.id===t.user.id}})(ho),yo=n(750);function vo(e){return(vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function go(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _o(e,t){return!t||"object"!==vo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wo(e){return(wo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Eo(e,t){return(Eo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Oo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_o(this,wo(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eo(e,t)}(t,Pr),n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",{className:"col s12"},o.a.createElement(Cr,{user:this.props.user,title:"profile.timeline"}),o.a.createElement(yo.a,{type:"timeline",user:this.props.user}))}}])&&go(n.prototype,r),a&&go(n,a),t}();function jo(e){return(jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ko(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function So(e,t){return!t||"object"!==jo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xo(e){return(xo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Po(e,t){return(Po=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Oo,"tabname","timeline");var Co=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),So(this,xo(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Po(e,t)}(t,Pr),n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",{className:"col s12"},o.a.createElement(io,{user:this.props.user,type:Mr.c}))}}])&&ko(n.prototype,r),a&&ko(n,a),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Co,"tabname","favorites");var To=n(5);function Do(e){return(Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function No(){return(No=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Mo(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ro(e){return(Ro=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zo(e,t){return(zo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Io=n(684),Bo=n(636);function Uo(e){return(Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ho(e,t){return!t||"object"!==Uo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wo(e){return(Wo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vo(e,t){return(Vo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Go=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ho(this,Wo(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vo(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.user;return o.a.createElement(Bo.a,{title:e.displayname,imageUrl:e.avatar,lazyLoadImage:this.props.lazyLoadImage,href:e.profile,stayInTab:!0,className:"people-card ".concat(this.props.className?this.props.className:""),actionButton:o.a.createElement(Qt,{user:e,disableIfFollowing:!0})})}}])&&qo(n.prototype,r),a&&qo(n,a),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Go,"propTypes",{user:s.a.instanceOf(Ht.a).isRequired,lazyLoadImage:s.a.bool});var Xo=n(656),$o=n(677),Zo=n(673),Ko={value:"-follow_since",translation_key:"people_more.sort_by_follow_date"},Yo={sorting:{title:"order.order_by",options:[{value:"name",translation_key:"people_more.sort_by_name"},Ko]}};function Qo(e){return o.a.createElement(Zo.a,{sections:Yo,showSections:{sorting:!0},selected:{sorting:e.selected},onChange:e.onChange})}function Jo(e){return(Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ea(e){return(ea=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ta(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function na(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ra(e,t,n){return t&&na(e.prototype,t),n&&na(e,n),e}function oa(e,t){return(oa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function aa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Qo.propTypes={onChange:s.a.func.isRequired,selected:s.a.string};var ia="recommended",sa=[ia,"followers","following"],ca=Ko,la={recommended:$o.e,followers:$o.a,following:$o.b},ua=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ea(t).call(this,e))||"object"!==Jo(o)&&"function"!=typeof o?ta(r):o)._loadProm=n._loadProm.bind(ta(n)),n._filterChange=n._filterChange.bind(ta(n)),n.state={sorting:e.type!==ia?ca.value:void 0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oa(e,t)}(t,o.a.Component),ra(t,null,[{key:"loadData",value:function(e,t){var n=t.user_id,r=t.type,o=void 0===r?ia:r,a=t.offset,i=void 0===a?0:a,s=t.sorting,c=t.retryFunction;return s||(s=o!==ia?ca.value:void 0),la[o](e,n,i,s,Xo.a.BATCH_SIZE,c,e.getState().userState.user.lang_ui)}}]),ra(t,[{key:"render",value:function(){var e=this.props.type===ia,n=e?"people.recommended.description":void 0;return o.a.createElement("div",{className:"col s12"},o.a.createElement(Xo.b,{key:this.props.type,loadPromise:this._loadProm,optionElems:e?null:o.a.createElement(Qo,{key:"sorting",selected:this.state.sorting,onChange:this._filterChange}),title:this.props.title||"",titleValues:this.props.titleValues,description:n,alternateLangs:this.props.alternateLangs,data:this.props.data&&!this.props.data.error?t._getCards(Ht.b.createArrayFromPlainObjects(this.props.data),!0):void 0,slug:"people_more_".concat(this.state.sorting)}))}},{key:"_filterChange",value:function(e){var t=e.sorting;this.setState({sorting:t})}},{key:"_loadProm",value:function(e,n,r){var o=this.props.user?this.props.user.id:this.context.store.getState().userState.user.id;return t.loadData(this.context.store,{user_id:o,type:this.props.type,sorting:this.state.sorting,offset:e,retryFunction:r}).then(t._getCards)}}],[{key:"_getCards",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return e.map(function(e,n){return o.a.createElement(Go,{key:e.id,user:e,lazyLoadImage:t&&n>=12})})}}]),t}();function pa(e){return(pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ma(e){return(ma=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ha(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function da(e,t){return(da=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ba(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}aa(ua,"propTypes",{type:s.a.oneOf(sa).isRequired,user:s.a.instanceOf(Ht.a),title:s.a.string,titleValues:s.a.object,data:s.a.any,alternateLangs:s.a.array}),aa(ua,"contextTypes",{store:s.a.object,intl:s.a.object});var ya=["following","followers"],va={following:Wt.d,followers:Wt.c},ga=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,n=!(o=(e=ma(t)).call.apply(e,[this].concat(i)))||"object"!==pa(o)&&"function"!=typeof o?ha(r):o,ba(ha(n),"state",{}),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&da(e,t)}(t,o.a.Component),n=t,a=[{key:"loadData",value:function(e,t){var n=t.user_id,r=t.retryFunction,o=Na(n===e.getState().userState.user.id);return Promise.all(ya.map(function(t){return va[t](e,n,{limit:4,retryFunction:r})})).then(function(e){return e.map(function(e,t){return{title:o[ya[t]],more_link:ya[t],elements:e}})})}}],(r=[{key:"componentWillMount",value:function(){this._mounted=!0,this._loadData(this.props)}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){return this.state.swimlanes?this.state.hasPeople?o.a.createElement("div",null,this.state.swimlanes):o.a.createElement("h6",{className:"grey-text center"},o.a.createElement(_.b,{id:"profile.no_people"})):o.a.createElement("div",{style:{height:"250px"}},o.a.createElement(K.a,null))}},{key:"_getPeople",value:function(e){return e.map(function(e){return o.a.createElement(Go,{key:e.id,user:Ht.b.fromPlainObject(e)})})}},{key:"_loadData",value:function(e){var n=this;this.setState({hasPeople:!1,swimlanes:void 0}),t.loadData(this.context.store,{user_id:e.user.id,retryFunction:function(){return n._loadData(e)}}).then(this._mapData.bind(this)).catch(function(e){console.error("fetching people swimlanes failed",e),n.setState({hasPeople:!1,swimlanes:[]})})}},{key:"_mapData",value:function(e){var t=this;if(this._mounted){var n=0,r=e.map(function(e,r){return e.elements.length>0?(n+=e.elements.length,o.a.createElement(Io.b,{key:"peo_".concat(r),title:e.title,values:{$1:t.props.user.displayname},moreLink:"".concat(t.props.user.profile,"#people/").concat(e.more_link)},t._getPeople(e.elements))):null});this.setState({hasPeople:n>0,swimlanes:r})}}}])&&fa(n.prototype,r),a&&fa(n,a),t}();function _a(e){return(_a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ea(e,t,n){return t&&wa(e.prototype,t),n&&wa(e,n),e}function Oa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ja(e,t){return!t||"object"!==_a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ka(e){return(ka=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xa(e,t)}function xa(e,t){return(xa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}ba(ga,"propTypes",{user:s.a.instanceOf(Ht.a).isRequired}),ba(ga,"contextTypes",{store:s.a.object});var Pa=function(e){function t(){return Oa(this,t),ja(this,ka(t).apply(this,arguments))}return Sa(t,Pr),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Pa,"tabname","people");var Ca=function(e){function t(){return Oa(this,t),ja(this,ka(t).apply(this,arguments))}return Sa(t,Pa),Ea(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"col s12"},o.a.createElement(Cr,{user:this.props.user,title:"profile.people"}),o.a.createElement(ga,{user:this.props.user}))}}]),t}(),Ta=function(e){function t(){return Oa(this,t),ja(this,ka(t).apply(this,arguments))}return Sa(t,Pa),Ea(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"col s12"},o.a.createElement(Cr,{user:this.props.user,title:"profile.people"}),o.a.createElement(ua,{user:this.props.user,type:"following",title:Na(this.props.user.id===this.context.store.getState().userState.user.id).following,titleValues:{$1:this.props.user.displayname}}))}}]),t}(),Da=function(e){function t(){return Oa(this,t),ja(this,ka(t).apply(this,arguments))}return Sa(t,Pa),Ea(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"col s12"},o.a.createElement(Cr,{user:this.props.user,title:"profile.people"}),o.a.createElement(ua,{user:this.props.user,type:"followers",title:Na(this.props.user.id===this.context.store.getState().userState.user.id).followers,titleValues:{$1:this.props.user.displayname}}))}}]),t}();function Na(e){return{following:"swimlane.".concat(e?"you_are_following":"following"),followers:"swimlane.".concat(e?"your_followers":"followers")}}var Ma,Aa=n(671),Ra=n(617),La=n(99),za=n(635),Fa=n(648);function Ia(e){return(Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ba(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ua(e){return(Ua=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ha(e,t){return(Ha=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Va=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97 0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1 0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66z"}))};Va.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var Ga=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M16 17v-3H9v-4h7V7l5 5-5 5M14 2c1.1 0 2 .9 2 2v2h-2V4H5v16h9v-2h2v2c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h9z"}))};Ga.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var Xa=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"}))};Xa.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var $a=(Wa(Ma={},"leave",{messageKey:"groupcard.confirm.leave.message",option1Key:"groupcard.leave",success:"groupcard.leftthegroup.message",error:"groupcard.leave.error.message"}),Wa(Ma,"delete",{messageKey:"groupcard.confirm.delete.message",option1Key:"general.delete",success:"groupcard.deleted.message",error:"groupcard.delete.error.message"}),Ma),Za=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Ua(t).call(this,e))||"object"!==Ia(o)&&"function"!=typeof o?qa(r):o).state={showConfirmType:null,groupRights:null,type:e.type,user:e.user},n._hideDialog=n._hideDialog.bind(qa(n)),n._onMoreClick=n._onMoreClick.bind(qa(n)),n._leaveGroupClick=n._leaveGroupClick.bind(qa(n)),n._doLeaveGroup=n._doLeaveGroup.bind(qa(n)),n._doDeleteGroup=n._doDeleteGroup.bind(qa(n)),n._deleteClick=n._deleteClick.bind(qa(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ha(e,t)}(t,o.a.Component),n=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.type!==t.type||e.user.id!==t.user.id?(e.group.dropActions(),{type:e.type,user:e.user,groupRights:null}):null}}],(r=[{key:"render",value:function(){var e=this.state,t=e.showConfirmType,n=e.groupRights,r=this.props,a=r.skipLoadingIndicator,i=r.moreClass,s=r.group;return o.a.createElement("div",null,o.a.createElement(Ra.a,{onMoreClick:this._onMoreClick,loading:"in_progress"===n&&!a,moreClass:i},this._getPopdown()),t&&o.a.createElement(La.a,{messageKey:$a[t].messageKey,messageValues:{$1:s.title},option1Key:$a[t].option1Key,cancelKey:"general-dialog.cancel",onOption1:"leave"===t?this._doLeaveGroup:this._doDeleteGroup,onClose:this._hideDialog}))}},{key:"_doDeleteGroup",value:function(){var e=this;Object(za.a)(this.context.store,this.props.group.id).then(function(){Object(ie.c)(e.context.store,{id:$a.delete.success,values:{$1:e.props.group.title}})}).catch(function(t){Object(ie.c)(e.context.store,{id:$a.delete.error})}).finally(function(){"function"==typeof e.props.onRefresh&&e.props.onRefresh()})}},{key:"_deleteClick",value:function(){this.setState({showConfirmType:"delete"})}},{key:"_hideDialog",value:function(){this.setState({showConfirmType:null})}},{key:"_leaveGroupClick",value:function(){this.setState({showConfirmType:"leave"})}},{key:"_doLeaveGroup",value:function(){var e=this;Object(za.h)(this.context.store,this.props.group.id,this.props.user.id).then(function(){Object(ie.c)(e.context.store,{id:$a.leave.success,values:{$1:e.props.group.title}})}).catch(function(t){Object(ie.c)(e.context.store,{id:$a.leave.error})}).finally(function(){"function"==typeof e.props.onRefresh&&e.props.onRefresh()})}},{key:"_getPopdown",value:function(){var e=this,t=this.props.group,n=this.state.groupRights;if(null===n||"in_progress"===n)return null;var r=n.canConfigure,a=n.canLeave,i=n.canDelete;return o.a.createElement("ul",null,r&&o.a.createElement("li",null,o.a.createElement("a",{href:"/group/settings/id/".concat(t.id)},o.a.createElement(Va,{className:"icon left no-stretch"}),o.a.createElement(_.b,{id:"general.settings"}))),a&&o.a.createElement("li",null,o.a.createElement("a",{onClick:function(){return e._leaveGroupClick()}},o.a.createElement(Ga,{className:"icon left no-stretch"}),o.a.createElement(_.b,{id:"groupcard.leave"}))),i&&o.a.createElement(Fa.a,{dividerTop:!0},o.a.createElement("li",null,o.a.createElement("a",{onClick:this._deleteClick},o.a.createElement(Xa,{className:"icon left no-stretch"}),o.a.createElement(_.b,{id:"general.delete"})))))}},{key:"_onMoreClick",value:function(){var e=this;null!==this.state.groupRights||this.props.skipLoadingIndicator||this.setState({groupRights:"in_progress"}),this.props.group.actions.then(function(t){e.setState({groupRights:t})}).catch(function(){Object(ie.c)(e.context.store,{id:"groupcard.no_rights"}),e.setState({groupRights:"error"})})}}])&&Ba(n.prototype,r),a&&Ba(n,a),t}();Wa(Za,"contextTypes",{store:s.a.object}),Wa(Za,"propTypes",{group:s.a.instanceOf(Aa.a).isRequired,user:s.a.object.isRequired,moreClass:s.a.string,skipLoadingIndicator:s.a.bool,onRefresh:s.a.func});var Ka=Object(l.b)(function(e){return{user:e.userState.user}})(Za);function Ya(e){return(Ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ja(e,t){return!t||"object"!==Ya(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ei(e){return(ei=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ti(e,t){return(ti=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ni=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M15 12c-1.11 0-2 .89-2 2 0 1.1.9 2 2 2s2-.9 2-2a2 2 0 0 0-2-2m-3 8c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m0-18C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m2 7a2 2 0 0 0-2-2c-1.11 0-2 .89-2 2 0 1.1.9 2 2 2s2-.9 2-2m-5 3c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2a2 2 0 0 0-2-2z"}))};ni.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var ri=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ja(this,ei(t).call(this,e))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ti(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.group;return o.a.createElement(Bo.a,{title:e.title,imageUrl:e.thumbnail,iconComponent:e.thumbnail?void 0:ni,href:"/group/stream/id/".concat(e.id),stayInTab:!0,className:this.props.className,isExternal:!0,contextMenu:o.a.createElement(Ka,{group:e,onRefresh:this.props.onRefresh}),additionalInfo:o.a.createElement(_.b,{id:"group.members",values:{$1:e.member_quantity}})})}}])&&Qa(n.prototype,r),a&&Qa(n,a),t}();function oi(e){return(oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ii(e,t){return!t||"object"!==oi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function si(e){return(si=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ci(e,t){return(ci=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function li(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ri,"propTypes",{group:s.a.instanceOf(Aa.a).isRequired,onRefresh:s.a.func});var ui=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M15 12c-1.11 0-2 .89-2 2 0 1.1.9 2 2 2s2-.9 2-2a2 2 0 0 0-2-2m-3 8c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m0-18C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m2 7a2 2 0 0 0-2-2c-1.11 0-2 .89-2 2 0 1.1.9 2 2 2s2-.9 2-2m-5 3c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2a2 2 0 0 0-2-2z"}))};ui.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var pi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ii(this,si(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ci(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"render",value:function(){return o.a.createElement(Rr.a,{titleKey:"no-result.groups-title",subtitleKey:this.props.isOwn?"no-result.groups-subtitle-own":"no-result.groups-subtitle",subtitleVariable1:this.props.userDisplayName,Icon:ui},this.props.isOwn?o.a.createElement("div",null,o.a.createElement(Vr,{href:"/groups ",className:"d-ib"},o.a.createElement(_.b,{id:"no-result.groups-join-create-button"}))):null)}}])&&ai(n.prototype,r),a&&ai(n,a),t}();function fi(e){return(fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mi(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function hi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function di(e){return(di=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yi(e,t){return(yi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}li(pi,"propTypes",{isOwn:s.a.bool,userDisplayName:s.a.string}),li(pi,"defaultProps",{isOwn:!1});var gi=["owner","member"],_i={owner:za.e,member:za.d},wi=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,n=!(o=(e=di(t)).call.apply(e,[this].concat(i)))||"object"!==fi(o)&&"function"!=typeof o?bi(r):o,vi(bi(n),"state",{}),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yi(e,t)}(t,o.a.Component),n=t,a=[{key:"loadData",value:function(e,t){var n=t.user_id,r=mi(t,["user_id"]),o=Xi(Ht.a.isLoggedIn(e,n));return Promise.all(gi.map(function(t){return _i[t](e,n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){vi(e,t,n[t])})}return e}({limit:4},r))})).then(function(e){return e.map(function(e,t){return{title:o[gi[t]],more_link:gi[t],elements:e}})})}}],(r=[{key:"componentWillMount",value:function(){this._mounted=!0,this._loadData(this.props)}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){return this.state.swimlanes?this.state.hasGroups?o.a.createElement("div",null,this.state.swimlanes):o.a.createElement(pi,{isOwn:this.props.user.isLoggedIn(this.context.store),userDisplayName:this.props.user.displayname}):o.a.createElement("div",{style:{height:"250px"}},o.a.createElement(K.a,null))}},{key:"_getGroups",value:function(e){var t=this;return e.map(function(e){return o.a.createElement(ri,{key:e.id,onRefresh:function(){return t._loadData(t.props)},group:Aa.b.fromPlainObject(t.context.store,e)})})}},{key:"_loadData",value:function(e){var n=this;this.setState({hasGroups:!1,swimlanes:void 0}),t.loadData(this.context.store,{user_id:e.user.id,retryFunction:function(){return n._loadData(e)}}).then(this._mapData.bind(this)).catch(function(e){console.error("fetching group swimlanes failed",e),n._mounted&&n.setState({hasGroups:!1,swimlanes:[]})})}},{key:"_mapData",value:function(e){var t=this;if(this._mounted){var n=0,r=e.map(function(e,r){return e.elements.length>0?(n+=e.elements.length,o.a.createElement(Io.b,{key:"grp_".concat(r),title:"swimlane.".concat(e.title),values:{$1:t.props.user.displayname},moreLink:"".concat(t.props.user.profile,"#groups/").concat(e.more_link)},t._getGroups(e.elements))):null});this.setState({hasGroups:n>0,swimlanes:r})}}}])&&hi(n.prototype,r),a&&hi(n,a),t}();vi(wi,"propTypes",{user:s.a.instanceOf(Ht.a).isRequired}),vi(wi,"contextTypes",{store:s.a.object});var Ei={value:"-modified",translation_key:"sort.modified"},Oi={sorting:{title:"order.order_by",options:[{value:"-created",translation_key:"sort.created"},Ei,{value:"title",translation_key:"sort.title"}]}};function ji(e){return o.a.createElement(Zo.a,{sections:Oi,showSections:{sorting:!0},selected:{sorting:e.selected},onChange:e.onChange})}function ki(e){return(ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Si(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function xi(e){return(xi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ci(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ti(e,t,n){return t&&Ci(e.prototype,t),n&&Ci(e,n),e}function Di(e,t){return(Di=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ni(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ji.propTypes={onChange:s.a.func.isRequired,selected:s.a.string};var Mi=Ei,Ai=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=xi(t).call(this,e))||"object"!==ki(o)&&"function"!=typeof o?Pi(r):o)._loadProm=n._loadProm.bind(Pi(n)),n._filterChange=n._filterChange.bind(Pi(n)),n.state={sorting:Mi.value},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Di(e,t)}(t,o.a.Component),Ti(t,null,[{key:"loadData",value:function(e,t){var n=t.user_id,r=t.type,o=Si(t,["user_id","type"]),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;return Object(za.c)(e,n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ni(e,t,n[t])})}return e}({limit:Xo.a.BATCH_SIZE,role:r,offset:a,order:i},o))}}]),Ti(t,[{key:"render",value:function(){var e=Xi(this.props.user.id===this.context.store.getState().userState.user.id);return o.a.createElement(Xo.b,{loadPromise:this._loadProm,optionElems:o.a.createElement(ji,{key:"sorting",selected:this.state.sorting,onChange:this._filterChange}),title:"swimlane.".concat(e[this.props.type]),titleValues:{$1:this.props.user.displayname},data:t._getCards(this.props.data&&Aa.b.createArrayFromPlainObjects(this.context.store,this.props.data)),slug:"groups_more_".concat(this.state.sorting)})}},{key:"_filterChange",value:function(e){this.setState({sorting:e.sorting})}},{key:"_loadProm",value:function(e,n,r){return t.loadData(this.context.store,{user_id:this.props.user.id,type:this.props.type,retryFunction:r},e,this.state.sorting).then(t._getCards)}}],[{key:"_getCards",value:function(e){if(e)return e.map(function(e){return o.a.createElement(ri,{key:e.id,group:e})})}}]),t}();function Ri(e){return(Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Li(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zi(e,t,n){return t&&Li(e.prototype,t),n&&Li(e,n),e}function Fi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ii(e,t){return!t||"object"!==Ri(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bi(e){return(Bi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ui(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qi(e,t)}function qi(e,t){return(qi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ni(Ai,"propTypes",{user:s.a.instanceOf(Ht.a).isRequired,type:s.a.string.isRequired,data:s.a.array}),Ni(Ai,"contextTypes",{store:s.a.object});var Hi=function(e){function t(){return Fi(this,t),Ii(this,Bi(t).apply(this,arguments))}return Ui(t,Pr),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Hi,"tabname","groups");var Wi=function(e){function t(){return Fi(this,t),Ii(this,Bi(t).apply(this,arguments))}return Ui(t,Hi),zi(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"col s12"},o.a.createElement(Cr,{user:this.props.user,title:"profile.groups"}),o.a.createElement(wi,{user:this.props.user}))}}]),t}(),Vi=function(e){function t(){return Fi(this,t),Ii(this,Bi(t).apply(this,arguments))}return Ui(t,Hi),zi(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"col s12"},o.a.createElement(Cr,{user:this.props.user,title:"profile.groups"}),o.a.createElement(Ai,{user:this.props.user,type:"owner"}))}}]),t}(),Gi=function(e){function t(){return Fi(this,t),Ii(this,Bi(t).apply(this,arguments))}return Ui(t,Hi),zi(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"col s12"},o.a.createElement(Cr,{user:this.props.user,title:"profile.groups"}),o.a.createElement(Ai,{user:this.props.user,type:"member"}))}}]),t}();function Xi(e){return{owner:e?"groups_owned_by_you":"groups_owned_by",member:e?"groups_joined_by_you":"groups_joined_by"}}function $i(e){return($i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ki(e){return(Ki=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qi(e,t){return(Qi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ji(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var es=function(e){return o.a.createElement("svg",e,o.a.createElement("defs",null,o.a.createElement("style",null,".geometry_svg__cls-1","{","fill:#99f","}",".geometry_svg__cls-2","{","fill:#666","}")),o.a.createElement("title",null,"GeoGebra Geometry"),o.a.createElement("path",{className:"geometry_svg__cls-1",d:"M14 4.02L20.27 15H7.72L14 4.02z"}),o.a.createElement("circle",{className:"geometry_svg__cls-1",cx:"9",cy:"15",r:"6"}),o.a.createElement("path",{className:"geometry_svg__cls-2",d:"M14 2L6 16h16zm0 2l6.27 11H7.72z"}),o.a.createElement("path",{className:"geometry_svg__cls-2",d:"M9 8a7 7 0 1 0 7 7 7 7 0 0 0-7-7zm0 13a6 6 0 1 1 6-6 6 6 0 0 1-6 6z"}),o.a.createElement("path",{d:"M15 15H7.72L11 9.33A6 6 0 0 1 15 15z",fill:"#6161ff"}),o.a.createElement("path",{d:"M11.47 8.46a6.93 6.93 0 0 0-1-.3L6 16h9.92a6.92 6.92 0 0 0-4.46-7.54zM7.72 15L11 9.33A6 6 0 0 1 15 15z",fill:"#333"}))};es.defaultProps={id:"geometry_svg__Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};var ts=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Ki(t).call(this,e))||"object"!==$i(o)&&"function"!=typeof o?Yi(r):o)._trackDownload=n._trackDownload.bind(Yi(n)),n._trackStart=n._trackStart.bind(Yi(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qi(e,t)}(t,o.a.Component),n=t,(r=[{key:"_trackStart",value:function(){Object(je.b)(this.props.startUrl)}},{key:"_trackDownload",value:function(){Object(je.a)(this.props.startUrl)}},{key:"render",value:function(){return o.a.createElement("li",{className:"col s12 m6"+(this.props.className?" "+this.props.className:"")},o.a.createElement("div",{className:"card download-card"+(this.props.hideDownload?" hoverable":"")},this._renderLink(o.a.createElement("div",{className:"card-image"},o.a.createElement("div",{className:"col s3 m3"},o.a.createElement(this.props.icon,null)),o.a.createElement("div",{className:"col s9 m9"},o.a.createElement(_.b,{id:this.props.title,values:this.props.titleValues,tagName:"h3"}),o.a.createElement(_.b,{id:this.props.desc,tagName:"p"})))),o.a.createElement("div",{className:"card-content grey lighten-4",id:this.props.downloadBtnId},this.props.hideDownload&&o.a.createElement("span",null)||o.a.createElement("a",{onClick:this._trackDownload,className:"btn-flat dl-btn ggb-teal-text"},o.a.createElement(_.b,{id:"download.download"})),this.props.startUrl&&o.a.createElement(c.b,{onClick:this._trackStart,className:"btn-flat start-btn ggb-teal-text right",to:this.props.startUrl,target:"_blank"},o.a.createElement(_.b,{id:"download.start"})))))}},{key:"_renderLink",value:function(e){return this.props.hideDownload?o.a.createElement(c.b,{to:this.props.startUrl,onClick:this._trackStart,target:"_blank",className:"title"},e):e}}])&&Zi(n.prototype,r),a&&Zi(n,a),t}();function ns(e){return(ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function os(e){return(os=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function as(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function is(e,t){return(is=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ss(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ji(ts,"propTypes",{title:s.a.string.isRequired,titleValues:s.a.object,desc:s.a.string.isRequired,icon:s.a.func,startUrl:s.a.string,downloadUrl:s.a.string,downloadBtnId:s.a.string,className:s.a.string,hideDownload:s.a.bool}),Ji(ts,"defaultProps",{icon:es});var cs=function(e){return o.a.createElement("svg",e,o.a.createElement("defs",null,o.a.createElement("style",null,".graphing_calculator_svg__cls-2","{","fill:#99f","}",".graphing_calculator_svg__cls-3","{","fill:#333","}")),o.a.createElement("title",null,"GeoGebra Graphing"),o.a.createElement("path",{d:"M2.5 21.5C4.13 10.64 7.89.56 12 12s7.76 1.36 9.51-9.5",fill:"none",stroke:"#666",strokeMiterlimit:"10",strokeWidth:"1.3"}),o.a.createElement("circle",{className:"graphing_calculator_svg__cls-2",cx:"8.5",cy:"6.5",r:"2.5"}),o.a.createElement("circle",{className:"graphing_calculator_svg__cls-2",cx:"15.5",cy:"17.5",r:"2.5"}),o.a.createElement("path",{className:"graphing_calculator_svg__cls-3",d:"M15.5 15a2.5 2.5 0 1 0 2.5 2.5 2.5 2.5 0 0 0-2.5-2.5zm0 4.5a2 2 0 1 1 2-2 2 2 0 0 1-2 2zM8.5 4A2.5 2.5 0 1 0 11 6.5 2.5 2.5 0 0 0 8.5 4zm0 4.5a2 2 0 1 1 2-2 2 2 0 0 1-2 2z"}))};cs.defaultProps={id:"graphing_calculator_svg__Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};var ls=function(e){return o.a.createElement("svg",e,o.a.createElement("title",null,"GeoGebra 3D"),o.a.createElement("path",{fill:"#333",d:"M8.47 21L2 17.57 10.83 3 8.47 21z"}),o.a.createElement("path",{fill:"#666",d:"M22 18.38L8.47 21l2.36-18L22 18.38z"}),o.a.createElement("path",{fill:"#6161ff",d:"M7.64 19.37l-4.19-2.18 5.67-9.37-1.48 11.55z"}),o.a.createElement("path",{fill:"#99f",d:"M20.18 17.69L9.66 19.73l1.82-14.06 8.7 12.02z"}))};ls.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};var us=function(e){return o.a.createElement("svg",e,o.a.createElement("defs",null,o.a.createElement("style",null,".geometry_svg__cls-1","{","fill:#99f","}",".geometry_svg__cls-2","{","fill:#666","}")),o.a.createElement("title",null,"GeoGebra Geometry"),o.a.createElement("path",{className:"geometry_svg__cls-1",d:"M14 4.02L20.27 15H7.72L14 4.02z"}),o.a.createElement("circle",{className:"geometry_svg__cls-1",cx:"9",cy:"15",r:"6"}),o.a.createElement("path",{className:"geometry_svg__cls-2",d:"M14 2L6 16h16zm0 2l6.27 11H7.72z"}),o.a.createElement("path",{className:"geometry_svg__cls-2",d:"M9 8a7 7 0 1 0 7 7 7 7 0 0 0-7-7zm0 13a6 6 0 1 1 6-6 6 6 0 0 1-6 6z"}),o.a.createElement("path",{d:"M15 15H7.72L11 9.33A6 6 0 0 1 15 15z",fill:"#6161ff"}),o.a.createElement("path",{d:"M11.47 8.46a6.93 6.93 0 0 0-1-.3L6 16h9.92a6.92 6.92 0 0 0-4.46-7.54zM7.72 15L11 9.33A6 6 0 0 1 15 15z",fill:"#333"}))};us.defaultProps={id:"geometry_svg__Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};var ps=function(e){return o.a.createElement("svg",e,o.a.createElement("defs",null,o.a.createElement("style",null,".ar_svg__cls-1","{","fill:#333","}")),o.a.createElement("title",null,"GeoGebra AR"),o.a.createElement("path",{className:"ar_svg__cls-1",d:"M7.82 19.2l-6.47-3.33 8.83-14.14L7.82 19.2z"}),o.a.createElement("path",{fill:"#666",d:"M21.35 16.65L7.82 19.2l2.36-17.47 11.17 14.92z"}),o.a.createElement("path",{fill:"#6161ff",d:"M7 17.62L2.8 15.5l5.67-9.09L7 17.62z"}),o.a.createElement("path",{fill:"#99f",d:"M19.54 15.99L9.02 17.97l1.82-13.65 8.7 11.67z"}),o.a.createElement("path",{id:"ar_svg__AR_background",d:"M21.46 18.82a2.71 2.71 0 0 0 1-.9 2.88 2.88 0 0 0 .42-1.59 2.57 2.57 0 0 0-.91-2.1 3.84 3.84 0 0 0-2.49-.73h-3.41v6.66l-2.49-6.66h-2l-3.36 9h2.41l.59-1.76H14l.59 1.76h3.78v-3.09h1l1.6 3.12h2.29v-.33zm-8.15 0h-1.43l.72-2.15zm5-3.43h1.16a1.2 1.2 0 0 1 .87.27 1 1 0 0 1 .27.77 1 1 0 0 1-.28.75 1.22 1.22 0 0 1-.86.27h-1.14z",fill:"#fff"}),o.a.createElement("path",{id:"ar_svg__AR_foreground",className:"ar_svg__cls-1",d:"M21.12 18.71a2.58 2.58 0 0 0 1.15-.93 2.62 2.62 0 0 0 .38-1.46 2.33 2.33 0 0 0-.82-1.9 3.58 3.58 0 0 0-2.33-.67h-3.18v7.79l-2.92-7.79h-1.62L8.6 22.28h1.87l.59-1.76h3.08l.59 1.76h3.35v-3.12h1.4l1.6 3.12H23v-.08zm-9.59.39l1.06-3.19 1.07 3.19zm9-1.7a1.45 1.45 0 0 1-1 .34h-1.45v-2.57h1.41a1.42 1.42 0 0 1 1.05.35 1.29 1.29 0 0 1 .34.95 1.2 1.2 0 0 1-.35.93z"}))};ps.defaultProps={id:"ar_svg__AR_3D_Kopie_Kopie_2_Kopie",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};var fs=function(e){return o.a.createElement("svg",e,o.a.createElement("title",null,"GeoGebra Logo"),o.a.createElement("g",{strokeLinecap:"round",strokeLinejoin:"round"},o.a.createElement("path",{fill:"none",stroke:"#666",strokeWidth:"33.34",d:"M432.345 250.876c0 87.31-75.98 158.088-169.705 158.088-93.726 0-169.706-70.778-169.706-158.088 0-87.31 75.98-158.09 169.706-158.09 93.725 0 169.705 70.78 169.705 158.09z",transform:"matrix(1.0156 .01389 -.20152 .9924 42.924 8.75)"}),o.a.createElement("path",{fill:"#99f",stroke:"#000",strokeWidth:"15.55",d:"M644.286 145.571c0 26.431-20.787 47.858-46.429 47.858-25.642 0-46.428-21.427-46.428-47.858 0-26.43 20.786-47.857 46.428-47.857 25.642 0 46.429 21.427 46.429 47.857z",transform:"matrix(.96842 0 0 .91438 -225.59 242.796)"}),o.a.createElement("path",{fill:"#99f",stroke:"#000",strokeWidth:"15.55",d:"M644.286 145.571c0 26.431-20.787 47.858-46.429 47.858-25.642 0-46.428-21.427-46.428-47.858 0-26.43 20.786-47.857 46.428-47.857 25.642 0 46.429 21.427 46.429 47.857z",transform:"matrix(.96842 0 0 .91438 -151.12 72.004)"}),o.a.createElement("path",{fill:"#99f",stroke:"#000",strokeWidth:"15.55",d:"M644.286 145.571c0 26.431-20.787 47.858-46.429 47.858-25.642 0-46.428-21.427-46.428-47.858 0-26.43 20.786-47.857 46.428-47.857 25.642 0 46.429 21.427 46.429 47.857z",transform:"matrix(.96842 0 0 .91438 -421.29 266.574)"}),o.a.createElement("path",{fill:"#99f",stroke:"#000",strokeWidth:"15.55",d:"M644.286 145.571c0 26.431-20.787 47.858-46.429 47.858-25.642 0-46.428-21.427-46.428-47.858 0-26.43 20.786-47.857 46.428-47.857 25.642 0 46.429 21.427 46.429 47.857z",transform:"matrix(.96842 0 0 .91438 -483.632 100.362)"}),o.a.createElement("path",{fill:"#99f",stroke:"#000",strokeWidth:"15.55",d:"M644.286 145.571c0 26.431-20.787 47.858-46.429 47.858-25.642 0-46.428-21.427-46.428-47.858 0-26.43 20.786-47.857 46.428-47.857 25.642 0 46.429 21.427 46.429 47.857z",transform:"matrix(.96842 0 0 .91438 -329.052 -23.649)"})))};fs.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 512 512"};var ms=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,n=!(o=(e=os(t)).call.apply(e,[this].concat(i)))||"object"!==ns(o)&&"function"!=typeof o?as(r):o,ss(as(n),"initDownloader",function(){var e={dl_graphing:{Default:"https://download.geogebra.org/package/windows-graphing",MacOS:"https://itunes.apple.com/app/geogebra-graphing-calculator/id1294018688?utm_source=Download+page&utm_medium=Website&utm_campaign=GeoGebra+Graphing+Calculator+for+Mac",WinPhone:"https://www.microsoft.com/store/p/geogebra-graphing-calculator/9p10r1c4t6m0?utm_source=Download+page&utm_medium=Website&utm_campaign=GeoGebra+Graphing+Calculator+for+Windows",Android:"https://play.google.com/store/apps/details?id=org.geogebra.android&utm_source=Download+page&utm_medium=Website&utm_campaign=GeoGebra+Graphing+Calculator+for+Android",iOS:"https://itunes.apple.com/us/app/geogebra-graphing-calculator/id1146717204?utm_source=Download+page&utm_medium=Website&utm_campaign=GeoGebra+Graphing+Calculator+for+iOS",ChromeOS:"https://chrome.google.com/webstore/detail/geogebra-graphing-calcula/ajijpokmmljpgdacmnejdjkbjjpjjekj?utm_source=Download+page&utm_medium=Website&utm_campaign=GeoGebra+Graphing+Calculator+for+Chrome"},dl_threeD:{iOS:"https://itunes.apple.com/us/app/geogebra-3d-graphing-calc/id1445871976?utm_source=Download+page&utm_medium=Website&utm_campaign=3D+Calculator+for+iOS",Default:"https://play.google.com/store/apps/details?id=org.geogebra.android.g3d&utm_source=Download+page&utm_medium=Website&utm_campaign=3D+Calculator+for+Android"},dl_geometry:{Default:"https://download.geogebra.org/package/windows-geometry",MacOS:"https://itunes.apple.com/app/geogebra-geometry/id1294020062?utm_source=Download+page&utm_medium=Website&utm_campaign=GeoGebra+Geometry+for+Mac",WinPhone:"https://www.microsoft.com/store/p/geogebra-geometry/9pd1rdsvh6ql?utm_source=Download+page&utm_medium=Website&utm_campaign=GeoGebra+Geometry+for+Windows",Android:"https://play.google.com/store/apps/details?id=org.geogebra.android.geometry&utm_source=Download+page&utm_medium=Website&utm_campaign=GeoGebra+Geometry+for+Android",iOS:"https://itunes.apple.com/gb/app/geogebra-geometry/id1232591335?utm_source=Download+page&utm_medium=Website&utm_campaign=GeoGebra+Geometry+for+iOS",ChromeOS:"https://chrome.google.com/webstore/detail/geogebra-geometry/hokbjblijjdkihbodaabbgabhockefhj?utm_source=Download+page&utm_medium=Website&utm_campaign=GeoGebra+Geometry+for+Chrome"},dl_classic6:{Default:"https://download.geogebra.org/package/win-autoupdate",MacOS:"https://itunes.apple.com/us/app/geogebra-math-apps/id1182481622?utm_source=Download+page&utm_medium=Website&utm_campaign=GeoGebra+Classic+6+for+Mac",WinPhone:"https://www.microsoft.com/store/p/geogebra/9wzdncrfj48n?utm_source=Download+page&utm_medium=Website&utm_campaign=GeoGebra+Classic+6+for+Windows",Android:"https://play.google.com/store/apps/details?id=org.geogebra&utm_source=Download+page&utm_medium=Website&utm_campaign=GeoGebra+Classic+6+for+Android",iOS:"https://itunes.apple.com/us/app/geogebra/id687678494?mt=8utm_source=Download+page&utm_medium=Website&utm_campaign=GeoGebra+Classic+6+for+iOS",ChromeOS:"https://chrome.google.com/webstore/detail/geogebra/bnbaboaihhkjoaolfnfoablhllahjnee?utm_source=Download+page&utm_medium=Website&utm_campaign=GeoGebra+Classic+6+for+Chrome",Linux:"https://wiki.geogebra.org/en/Reference:GeoGebra_Installation#GeoGebra_Classic_6"},dl_ar:{Default:"https://itunes.apple.com/app/geogebra-augmented-reality/id1276964610?utm_source=Download+page&utm_medium=Website&utm_campaign=GeoGebra+Augmented+Reality+for+iOS",Android:"https://play.google.com/store/apps/details?id=org.geogebra.android.g3d&utm_source=Download+page&utm_medium=Website&utm_campaign=GeoGebra+Augmented+Reality+for+Android"},dl_classic5:{Windows:"https://download.geogebra.org/package/win",MacOS:"https://download.geogebra.org/package/mac",Default:"https://wiki.geogebra.org/en/Reference:GeoGebra_Installation#GeoGebra_Classic_5_for_Desktop"}};function t(){n("dl_graphing"),n("dl_threeD"),n("dl_geometry"),n("dl_classic6"),n("dl_ar"),n("dl_classic5")}function n(e){var t=document.getElementById(e);if(t)for(var n=0;n<t.childNodes.length;n++)-1!==t.childNodes[n].className.indexOf("dl-btn")&&t.childNodes[n].addEventListener("click",function(){window.GGB_downloader.onClick(e)})}function r(){var e=navigator.userAgent||navigator.vendor||window.opera,t=navigator.platform;return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?"MacOS":/windows phone/i.test(e)?"WinPhone":/android/i.test(e)?"Android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"iOS":/\bCrOS\b/.test(e)?"ChromeOS":/Linux/.test(t)?"Linux":"Windows"}return t(),{onClick:function(t){var n=r(),o=e[t][n]?e[t][n]:e[t].Default;window.open(o,"_blank")},initButtons:t,getOS:r}}),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&is(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.context.store.dispatch(Object(w.d)()),window.GGB_downloader&&window.GGB_downloader.initButtons()}},{key:"render",value:function(){var e=this.context.intl.formatMessage;return o.a.createElement("div",{className:"page page-content row",id:"download-page"},o.a.createElement("div",{className:"col s12"},o.a.createElement("div",{className:"row",id:"download-main"},o.a.createElement(at.c,{title:"side-nav.downloads",titleIntl:!0,description:e({id:"download.subtitle"}),alternateLangs:st.h,noIndex:!1}),o.a.createElement("div",{className:"col s12"},o.a.createElement(_.b,{id:"download.title",tagName:"h1"}),o.a.createElement(_.b,{id:"download.subtitle",tagName:"h2"}))),o.a.createElement("ul",{className:"row",id:"download-cards"},o.a.createElement(ts,{downloadBtnId:"dl_graphing",title:"apps.graphing",desc:"apps.graphing.description",icon:cs,startUrl:"/graphing"}),o.a.createElement(ts,{downloadBtnId:"dl_threeD",title:"apps.3d",desc:"apps.3d.description",icon:ls,startUrl:"/3d"}),o.a.createElement(ts,{downloadBtnId:"dl_geometry",title:"apps.geometry",desc:"apps.geometry.description",icon:us,startUrl:"/geometry"}),o.a.createElement(ts,{downloadBtnId:"dl_classic6",title:"apps.classic-v",titleValues:{$1:"6"},desc:"apps.classic6.description",icon:fs,startUrl:"/classic"}),o.a.createElement(ts,{downloadBtnId:"dl_ar",title:"apps.ar",desc:"apps.ar.description",icon:ps}),o.a.createElement(ts,{downloadBtnId:"dl_classic5",title:"apps.classic-v",titleValues:{$1:"5"},desc:"apps.classic5.description",icon:fs}),o.a.createElement("script",null,"window.GGB_downloader.initButtons();"),o.a.createElement(ot.Helmet,null,o.a.createElement("script",null,this._getInlineScriptForDownload()))),o.a.createElement("section",{className:"row interlinking"},o.a.createElement("div",{className:"col s12 m4"},o.a.createElement("h2",null,o.a.createElement(_.b,{id:"download.mobile_apps"})),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("a",{className:"ggb-teal-text",target:"_blank",href:"https://itunes.apple.com/us/app/geogebra-graphing-calculator/id1146717204"},o.a.createElement("span",null,"App Store"))),o.a.createElement("li",null,o.a.createElement("a",{className:"ggb-teal-text",target:"_blank",href:"https://play.google.com/store/apps/details?id=org.geogebra.android"},o.a.createElement("span",null,"Google Play"))),o.a.createElement("li",null,o.a.createElement("a",{className:"ggb-teal-text",target:"_blank",href:"https://www.microsoft.com/store/p/geogebra-graphing-calculator/9p10r1c4t6m0"},o.a.createElement("span",null,"Microsoft Store"))))),o.a.createElement("div",{className:"col s12 m4"},o.a.createElement("h2",null,o.a.createElement(_.b,{id:"download.more_info"})),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("a",{className:"ggb-teal-text",target:"_blank",href:"https://wiki.geogebra.org/en/Reference:GeoGebra_Installation"},o.a.createElement(_.b,{id:"general.more.downloads"}))),o.a.createElement("li",null,o.a.createElement("a",{className:"ggb-teal-text",target:"_blank",href:"https://wiki.geogebra.org/en/Reference:GeoGebra_Apps_Embedding"},o.a.createElement(_.b,{id:"general.apps_embedding"}))),o.a.createElement("li",null,o.a.createElement("a",{className:"ggb-teal-text",target:"_blank",href:"https://wiki.geogebra.org/en/Reference:GeoGebra_Apps_API"},o.a.createElement(_.b,{id:"general.apps_api"}))))))),o.a.createElement(ht.a,null))}},{key:"_getInlineScriptForDownload",value:function(){return"\n    if (typeof window.GGB_downloader === 'undefined') {\n      window.GGB_downloader = (".concat(this.initDownloader.toString(),")();\n    }")}}])&&rs(n.prototype,r),a&&rs(n,a),t}();ss(ms,"contextTypes",{store:s.a.object,intl:s.a.object});var hs=Object(Ye.a)(ms),ds=n(35),bs=n(628),ys=n(38);function vs(e){return(vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gs(e){return(gs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ws(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Es(e,t,n){return t&&ws(e.prototype,t),n&&ws(e,n),e}function Os(e,t){return(Os=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function js(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ks={order:""},Ss=function(e){function t(e,n){var r,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(r=!(a=gs(t).call(this,e))||"object"!==vs(a)&&"function"!=typeof a?_s(o):a)._loadProm=r._loadProm.bind(_s(r));var i=Object(bt.b)(n.store);if(i){var s=i.title,c=i.type,l=i.elements;r.state={title:"swimlane.".concat(s),alternateLangs:t._getAlternateLangs(c),data:t._getCards(ys.g.createArrayFromPlainObjects(n.store,l),!0)}}else r.state={title:"",alternateLangs:st.h,data:void 0};return r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Os(e,t)}(t,o.a.Component),Es(t,null,[{key:"loadData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.offset,o=void 0===r?0:r,a=n.order,i=void 0===a?"":a,s=n.limit,c=void 0===s?Xo.a.BATCH_SIZE:s,l=n.user_id,u=void 0===l?e.getState().userState.user.id:l,p=n.retryFunction;return Object($o.f)(e,t.sid,"materials",{offset:o,order:i,limit:c,user_id:u,retryFunction:p})}}]),Es(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col s12"},o.a.createElement(it.a,null),o.a.createElement(Xo.b,{loadPromise:this._loadProm,title:this.state.title,optionParams:ks,data:this.state.data,alternateLangs:this.state.alternateLangs})))}},{key:"_loadProm",value:function(e,n,r){var o=this,a=n.order;return t.loadData(this.context.store,this.props.match.params,{offset:e,order:a,limit:Xo.a.BATCH_SIZE,user_id:this.props.user?this.props.user.id:-1,retryFunction:r}).then(function(e){return e.title&&o.setState({title:"swimlane.".concat(e.title),alternateLangs:t._getAlternateLangs(e.type)}),t._getCards(e.elements)})}}],[{key:"_getAlternateLangs",value:function(e){return"featured"===e?st.e:st.h}},{key:"_getCards",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return e.map(function(e,n){return o.a.createElement(bs.a,{key:e.id,material:e,lazyLoadImage:t&&n>=12})})}}]),t}();js(Ss,"contextTypes",{store:s.a.object}),js(Ss,"propTypes",{match:s.a.shape({params:s.a.shape({sid:s.a.string}).isRequired}).isRequired});var xs=Object(l.b)(function(e){return{user:e.userState.user}})(Ss);function Ps(e){return(Ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cs(e,t){return!t||"object"!==Ps(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ts(e){return(Ts=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ns(e,t,n){return t&&Ds(e.prototype,t),n&&Ds(e,n),e}function Ms(e,t){return(Ms=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function As(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rs=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Cs(this,Ts(t).call(this,e))).state=t.getState(e.match.params.tab_name),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ms(e,t)}(t,o.a.Component),Ns(t,null,[{key:"loadData",value:function(e,t){var n=t.tab_name,r=e.getState().userState.user.id,o=n||ia,a=ua.loadData(e,{user_id:r,type:o});return To.b&&(a=a.catch(function(e){return e.tab_name=o,Promise.reject(e)}).then(function(e){return e||(e=[]),e.tab_name=o,e})),a}}]),Ns(t,[{key:"componentWillMount",value:function(){var e=Object(bt.b)(this.context.store);e&&this.setState({data:e}),t.updateTabs(this.context.store,this.props.match.params.tab_name,this.props.user)}},{key:"componentWillReceiveProps",value:function(e){var n=e.match.params.tab_name;if(this.props.match.params.tab_name!==n||this.props.user.id!==e.user.id){t.updateTabs(this.context.store,n,e.user);var r=t.getState(n),o=r.title,a=r.PeopleComp;this.setState({data:void 0,PeopleComp:a,title:o})}}},{key:"render",value:function(){var e=this.props.match.params.tab_name?this.props.match.params.tab_name:ia,t=this.state.PeopleComp;return o.a.createElement("div",{className:"row"},o.a.createElement(t,{type:e,data:this.state.data,title:this.state.title,alternateLangs:e===ia?st.h:void 0}))}}],[{key:"updateTabs",value:function(e,t){var n=[{translation_key:"people.recommended",route:"/people",active:"following"!==t&&"followers"!==t},{translation_key:"people.following",route:"/people/following",active:"following"===t},{translation_key:"people.followers",route:"/people/followers",active:"followers"===t}];e.dispatch(Object(A.b)(n))}},{key:"getState",value:function(e){var t,n;switch(e){case"following":case"followers":t=Na(!0)[e],n=Object(fr.b)(ua);break;default:t="people.recommended.title",n=ua}return{title:t,PeopleComp:n}}}]),t}();As(Rs,"contextTypes",{store:s.a.object}),As(Rs,"defaultProps",{match:{params:{}}});var Ls=Object(l.b)(function(e){return{user:e.userState.user}})(Object(Ye.a)(Rs)),zs=n(623),Fs=n(721),Is=n(246);function Bs(e){return(Bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Us(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qs(e){return(qs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ws(e,t){return(Ws=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gs=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,n=!(o=(e=qs(t)).call.apply(e,[this].concat(i)))||"object"!==Bs(o)&&"function"!=typeof o?Hs(r):o,Vs(Hs(n),"state",{post:void 0}),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ws(e,t)}(t,o.a.Component),n=t,a=[{key:"loadData",value:function(e,t){return Object(zs.f)(e,t.post_id)}}],(r=[{key:"componentWillMount",value:function(){this.context.store.dispatch(Object(w.d)());var e=Object(bt.b)(this.context.store);e?this._mapResult(e):this._load(this.props.match.params.post_id)}},{key:"componentWillReceiveProps",value:function(e){e.match.params.post_id!==this.props.match.params.post_id&&this._load(e.match.params.post_id)}},{key:"render",value:function(){return o.a.createElement("div",{className:"row"},o.a.createElement("ul",{className:"col s12"},this.state.post?o.a.createElement("div",null,o.a.createElement(at.c,{title:"general.post",titleIntl:!0,description:this.state.post.text,profile:{first_name:this.state.post.creator.displayname,username:this.state.post.creator.username,url:this.state.post.creator.profile},image:this.state.post.creator.avatar}),o.a.createElement(it.a,{noIndex:!0}),o.a.createElement(Fs.a,{post:this.state.post,onDelete:this._onDeletePost.bind(this)})):o.a.createElement("li",{className:"post"},o.a.createElement("div",{className:"post-card card"},o.a.createElement(K.a,{style:{height:"150px"}})))))}},{key:"_load",value:function(e){e&&(this.setState({post:void 0}),t.loadData(this.context.store,{post_id:e}).then(this._mapResult.bind(this)).catch(function(e){return console.error("fetching post failed",e)}))}},{key:"_mapResult",value:function(e){this.setState({post:e})}},{key:"_onDeletePost",value:function(e){this.props.history.push("/newsfeed")}}])&&Us(n.prototype,r),a&&Us(n,a),t}();Vs(Gs,"contextTypes",{store:s.a.object}),Vs(Gs,"propTypes",{match:s.a.shape({params:s.a.shape({post_id:s.a.oneOfType([s.a.string,s.a.number]).isRequired}).isRequired}).isRequired});var Xs=Object(Is.a)(Gs),$s=n(101),Zs=n(13),Ks=n(43);function Ys(e){return(Ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){oc(e,t,n[t])})}return e}function Js(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ec(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tc(e){return(tc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rc(e,t){return(rc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ac=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,o=(e=tc(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==Ys(o)&&"function"!=typeof o?nc(r):o,oc(nc(n),"state",{error:void 0}),oc(nc(n),"_mapError",function(e){var t=e.key,r=e.code,o=Js(e,["key","code"]);if(410===r){var a=Object.keys(o).filter(function(e){return/^p\d+$/.test(e)&&!!o[e]}).map(function(e){return o[e]});n.setState({error:{key:t,code:r,custom_params:a}})}}),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rc(e,t)}(t,o.a.Component),n=t,a=[{key:"loadData",value:function(e,t){var n=t.key,r=Js(t,["key"]);return isNaN(n)?Promise.resolve(Qs({},r,{code:410,key:n})):Object(yt.d)(e,n,{}).then(function(e){var t=e.id,n=e.code;return Qs({},r,{code:n||410,key:t})})}}],(r=[{key:"componentWillMount",value:function(){var e=Object(bt.b)(this.context.store);e?this._mapError(e):this._fetchMaterial(this.props.match.params)}},{key:"render",value:function(){if(this.state.error){var e=this.state.error,t=e.key,n=e.custom_params,r=n&&n.length>0,a=Zs.b.create410([{to:"/m/".concat(t)+(r?"/"+n.join("/"):""),anchor:r}]);return o.a.createElement(Ks.a,{error:a})}return o.a.createElement(K.a,{style:{height:"50vh"}})}},{key:"_fetchMaterial",value:function(e){t.loadData(this.context.store,e).then(this._mapError)}}])&&ec(n.prototype,r),a&&ec(n,a),t}();function ic(e){return(ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cc(e,t){return!t||"object"!==ic(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lc(e){return(lc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uc(e,t){return(uc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}oc(ac,"contextTypes",{store:s.a.object});var pc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),cc(this,lc(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uc(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.context.store.getState().userState,t=e.user.id>-1?e.user.profile:"/u",n=this.props.match.params.username,r=n?"/u/".concat(n):t;if(this.props.location&&n||"/u"!==t){var a=/\?p=(materials|followers|groups)/.exec(this.props.location.search);null!==a&&("followers"===a[1]?r+="/people":r+="/".concat(a[1]))}var i=Zs.b.create410([{to:r}]);return o.a.createElement(Ks.a,{error:i})}}])&&sc(n.prototype,r),a&&sc(n,a),t}();function fc(e){return(fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hc(e,t){return!t||"object"!==fc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dc(e){return(dc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bc(e,t){return(bc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(pc,"contextTypes",{store:s.a.object});var yc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hc(this,dc(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bc(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e;return e=this.props.match.params.key?{to:"/material/iframe/"+this.props.match.params.key}:{to:"/"},o.a.createElement(Ks.a,{error:Zs.b.create410([e])})}}])&&mc(n.prototype,r),a&&mc(n,a),t}();function vc(e){return function(t){return o.a.createElement(Ks.a,{error:Zs.b.create410(e(t.match.params))})}}function gc(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var _c=function(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(e.loadData=function(){return Promise.resolve({code:410})}),function(t){return{path:t,exact:!0,component:e}}},wc=[_c(vc(function(){return[{to:"/"}]}))("(/cms|/index.php|/index.html|/home)")],Ec=["/index.php(/m|/b)/:key","/b/:key","/material/simple/id/:key","/material/simple/id/:key/:p0(gi)/:p1","/material/simple/id/:key/:p0(pe)/:p1/:p2(ui)?/:p3?","/student(s)?(/m|/b|/c):key","/book(/title|/page)/id/:key"].map(_c(ac,!1)),Oc=["/user/profile","/:username(user[0-9]+)"].map(_c(pc)),jc=["/search/perform/search/:term"].map(_c(vc(function(e){return[{to:"/search/".concat(e.term)}]}))),kc=[{p:"/app.html",c:{to:"/classic",id:"geogebra.start",anchor:!0}},{p:"/user/login",c:{to:"/user/signin",id:"header.signin"}},{p:"(/material|/material/newest|/materiales|/m)",c:{to:"/materials",id:"side-nav.materials"}}].map(function(e){return _c(vc(function(){return[e.c]}))(e.p)}),Sc=[].concat(wc,gc(Ec),gc(Oc),gc(kc),gc(jc),[_c(yc)("/student/e:key"),_c(vc(function(e){return[{to:"/classic/".concat(e.key),anchor:!0}]}))("/o/:key")]);function xc(e){return(xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pc(e,t){return!t||"object"!==xc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cc(e){return(Cc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dc(e,t,n){return t&&Tc(e.prototype,t),n&&Tc(e,n),e}function Nc(e,t){return(Nc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mc=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Pc(this,Cc(t).call(this,e))).state={type:null,user:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nc(e,t)}(t,o.a.Component),Dc(t,null,[{key:"loadData",value:function(e,t){var n=t.username;return Object(Wt.e)(e,n).then(function(e){return{code:410,type:410,user:e}}).catch(function(e){return 404===e.code?{code:404,type:404,user:null}:{type:null,user:null}})}}]),Dc(t,[{key:"componentWillMount",value:function(){var e=Object(bt.b)(this.context.store);e?this.setState(e):this._loadUser(this.props.match.params)}},{key:"render",value:function(){return 404===this.state.type?o.a.createElement($s.a,null):this.state.user?o.a.createElement(pc,this.props):o.a.createElement(K.a,{className:"fullscreen"})}},{key:"_loadUser",value:function(e){var n=this,r=e.username;return this.setState({user:null,type:null}),t.loadData(this.context.store,{username:r}).then(function(e){return n.setState(e)})}}]),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Mc,"contextTypes",{store:s.a.object});var Ac=n(703);function Rc(e){return(Rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lc(e,t){return!t||"object"!==Rc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zc(e){return(zc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ic(e,t,n){return t&&Fc(e.prototype,t),n&&Fc(e,n),e}function Bc(e,t){return(Bc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Uc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qc=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Lc(this,zc(t).call(this,e))).state={data:e.data},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bc(e,t)}(t,o.a.Component),Ic(t,null,[{key:"loadData",value:function(e){var t=e.getState().userState.user.id;return Object(yt.h)(e,t,{type:Mr.c,offset:0,limit:so.a.BATCH_SIZE})}}]),Ic(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(bt.c)())}},{key:"render",value:function(){return o.a.createElement("div",{className:"page-content"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col s12"},o.a.createElement(io,{user:this.props.user,type:Mr.c,materials:this.state.data}))),o.a.createElement(ht.a,null))}}]),t}();Uc(qc,"propTypes",{match:s.a.shape({params:s.a.shape({tab_name:s.a.string,type:s.a.string}).isRequired}).isRequired,user:s.a.instanceOf(Ht.a).isRequired}),Uc(qc,"contextTypes",{store:s.a.object}),Uc(qc,"updateTabs",Ac.a);var Hc=Object(l.b)(function(e){return{user:Ht.b.fromPlainObject(e.userState.user),data:e.preloadDataState.data}})(Object(fr.b)(qc));var Wc,Vc,Gc=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(Vc=Sc)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(Vc)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}(),[{path:"/",exact:!0,strict:!0,component:kt,cacheControl:{maxAge:86400}},{path:"/newsfeed",exact:!0,strict:!0,component:ds.f,cacheControl:{maxAge:3600}},{path:"/materials",exact:!0,strict:!0,component:ds.e,cacheControl:{maxAge:86400}},{path:"/materials/:tab_name(favorites)",exact:!0,strict:!0,component:Hc,cacheControl:{maxAge:86400}},{path:"/materials/:tab_name(yours)",exact:!0,strict:!0,component:ds.j,cacheControl:{maxAge:86400}},{path:"/t/:topic",exact:!0,strict:!0,component:ds.i,cacheControl:{maxAge:86400}},{path:"/groups",exact:!0,strict:!0,component:Bt},{path:"/u",exact:!0,strict:!0,component:vr},{path:"/f/:folder_id",exact:!0,strict:!0,component:ds.c},{path:"/u/:username",component:(Wc=pr,function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,n=!(o=(e=Ro(t)).call.apply(e,[this].concat(i)))||"object"!==Do(o)&&"function"!=typeof o?Lo(r):o,Fo(Lo(n),"state",{firstRenderDone:!1}),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zo(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.setState({firstRenderDone:!0})}},{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Fo(e,t,n[t])})}return e}({},this.props.location);return To.a&&this.state.firstRenderDone&&(t.pathname=(t.pathname+t.hash).replace("#","/")),o.a.createElement(Wc,No({},this.props,{location:t,render:function(n){return o.a.createElement(c.f,{location:t},e.props.route.routes.map(function(t,r){var a=t.component,i=Mo(t,["component"]);return To.a&&e.state.firstRenderDone&&(i.path=i.path.replace("#","/")),o.a.createElement(c.e,No({key:t},i,{render:function(e){return o.a.createElement(a,No({},n,{match:e.match}))}}))}))}}))}}])&&Ao(n.prototype,r),a&&Ao(n,a),t}()),routes:[{path:"/u/:username#favorites",exact:!0,strict:!0,component:Co},{path:"/u/:username#timeline",exact:!0,strict:!0,component:Oo},{path:"/u/:username#people",exact:!0,strict:!0,component:Ca},{path:"/u/:username#people/following",exact:!0,strict:!0,component:Ta},{path:"/u/:username#people/followers",exact:!0,strict:!0,component:Da},{path:"/u/:username#groups",exact:!0,strict:!0,component:Wi},{path:"/u/:username#groups/owner",exact:!0,strict:!0,component:Vi},{path:"/u/:username#groups/member",exact:!0,strict:!0,component:Gi},{path:"/u/:username",exact:!0,strict:!0,component:bo,cacheControl:{maxAge:31557600}},{path:"/u/:username",component:function(e){return o.a.createElement(c.d,{to:e.match.url})}}]},{path:"/people/:tab_name(following|followers)?",exact:!0,strict:!0,component:Ls,cacheControl:{maxAge:86400}},{path:"/download",exact:!0,strict:!0,component:hs,cacheControl:{maxAge:31557600}},{path:"/about",exact:!0,strict:!0,component:ds.a,cacheControl:{maxAge:31557600}},{path:"/tos",exact:!0,strict:!0,component:ds.h,cacheControl:{maxAge:31557600}},{path:"/privacy",exact:!0,strict:!0,component:ds.g,cacheControl:{maxAge:31557600}},{path:"/license",exact:!0,strict:!0,component:ds.d,cacheControl:{maxAge:31557600}},{path:"/search/:term?",exact:!0,strict:!0,component:At},{path:"/p/:post_id",exact:!0,strict:!0,component:Xs},{path:"/a/:sid",exact:!0,strict:!0,component:xs,cacheControl:{maxAge:86400}},{path:"/:username",exact:!0,strict:!0,component:Mc},{component:$s.a}]),Xc=n(214),$c=n(240);function Zc(e){return(Zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yc(e,t){return!t||"object"!==Zc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qc(e){return(Qc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jc(e,t){return(Jc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"BaseLayout",function(){return el});var el=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Yc(this,Qc(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jc(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",{className:"side-nav-signal side-nav-".concat(this.props.sideNavClass," header-signal header-").concat(this.props.headerClass)},o.a.createElement(a.a,null),o.a.createElement(Ze,null),o.a.createElement("div",{className:"sidebar-bumper"},o.a.createElement("main",{className:"container"},o.a.createElement(Xc.a,null,Object($c.a)(t.routes)))),o.a.createElement(Ke.a,null))}}])&&Kc(n.prototype,r),i&&Kc(n,i),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(el,"routes",Gc);t.default=Object(l.b)(function(e){return{sideNavClass:e.sideNavState.state,headerClass:e.headerState.sub_header===w.a?"single":"double"}})(el)},,,function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"f",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"g",function(){return p});var r=n(11);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=null,i="NULL";function s(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return n?r.b(e,"/folders/".concat(n),o):!t||t<=0?Promise.reject({code:401}):r.b(e,"/users/".concat(t,"/folders"),o)}function c(e,t){var n=t.title,i=t.parent,s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}({title:n},i&&i!==a?{parent:i}:{});return r.e(e,"/folders",s)}function l(e,t){return r.a(e,"/folders/".concat(t))}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.d(e,"/folders/".concat(t),n)}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u(e,t,{parent:n===a?i:n})}},function(e,t,n){"use strict";n.d(t,"a",function(){return _});var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(613),c=n(56),l=n.n(c),u=n(71),p=n(96),f=n(170);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=b(t).call(this,e),n=!a||"object"!==m(a)&&"function"!=typeof a?y(r):a,g(y(n),"_popdown_ref",function(e){return function(t){n.popdown_button=t,e(t)}}),n._closePopDown=n._closePopDown.bind(y(n)),n.closePopDown=n.closePopDown.bind(y(n)),n._onButtonMeasure=n._onButtonMeasure.bind(y(n)),n._onMeasure=n._onMeasure.bind(y(n)),n.contentRef=o.a.createRef(),n.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){g(e,t,n[t])})}return e}({},t._newState(e),{active:!1,up:!1}),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,o.a.PureComponent),n=t,a=[{key:"_newState",value:function(e){return{right_edge:null!==/right-edge/.exec(e.className)}}}],(r=[{key:"componentWillReceiveProps",value:function(e){this.setState(t._newState(e))}},{key:"componentWillUnmount",value:function(){this._closePopDown(!0)}},{key:"render",value:function(){var e=this,t=this.props.children&&this.props.children.length>0&&this.props.children[0],n=this.props.children&&this.props.children.length>0&&this.props.children[1],r=this.state.right_edge,a=r?void 0:this.props.gutter,i=r?this.props.gutter:void 0,c=this.props.noMobileView?" no-mobile":"";return o.a.createElement("div",{className:"popdown-button-container ".concat(this.props.className).concat(this.state.up?" up":""),id:this.props.id||void 0,ref:function(t){return e.popdown_root=t}},t&&o.a.createElement(s.a,{onResize:this._onButtonMeasure},function(n){var r=n.measureRef;return o.a.createElement("div",h({ref:e._popdown_ref(r)},t.props,{onClick:function(n){return e._onButtonClick(n,t.props.onClick)},className:"".concat(t.props.className||"").concat(e.state.active?" active":""," popdown-button")}))}),void 0!==this.props.loading&&o.a.createElement(p.TransitionGroup,null,this.props.loading&&o.a.createElement(f.a,null,o.a.createElement(u.a,{key:"spinner",className:this.props.spinnerClassName||"grey-circle small grey lighten-5"}))),o.a.createElement(p.TransitionGroup,null,this.state.active&&n&&o.a.createElement(f.a,null,o.a.createElement(s.a,{key:n,bounds:!0,onResize:this._onMeasure},function(t){var r=t.measureRef;return o.a.createElement("div",{title:"",ref:r,className:"popdown-content z-depth-2 black-text ".concat(n.props.className||"").concat(c),style:{maxWidth:e.props.contentMaxWidth||"300px",width:e.props.contentWidth,left:e.props.rtl?i:a,right:e.props.rtl?a:i},onClick:e._closePopDown},o.a.createElement("div",{className:"bottom-sheet-container",ref:e.contentRef},n))})),n&&!this.props.noMobileView&&o.a.createElement(l.a,null,this.state.active&&o.a.createElement("style",null,"@media only screen and (max-width: 601px){ body, html {overflow: hidden}}"))))}},{key:"_closePopDown",value:function(e){if(!this.props.loading&&this.state.active&&!(this.props.noAutoClose&&this.contentRef.current&&this.contentRef.current.contains(e.target))){var t=!0===e||this.popdown_button.contains(e.target);!t&&this.props.stayOpen&&this.popdown_root.contains(e.target)||(this.setState({active:!1}),document.removeEventListener("click",this._closePopDown),window.removeEventListener("popstate",this._closePopDown),t&&e.preventDefault&&e.preventDefault())}}},{key:"_onButtonClick",value:function(e,t){this.state.active?this._closePopDown(e):("function"==typeof t&&t(e),this._openPopDown(e))}},{key:"_onButtonMeasure",value:function(e){this.props.noVisibilityCheck||this.state.button_height!==e.entry.height&&this.setState({button_height:e.entry.height})}},{key:"_onMeasure",value:function(e){if(!this.props.noVisibilityCheck){var t=document.documentElement.clientHeight,n=(this.state.up?e.bounds.bottom+this.state.button_height+e.bounds.height:e.bounds.bottom)>t;n!==this.state.up&&this.setState({up:n})}}},{key:"_openPopDown",value:function(e){this.setState({active:!0}),window.addEventListener("popstate",this._closePopDown),document.addEventListener("click",this._closePopDown)}},{key:"closePopDown",value:function(){this._closePopDown(!0)}}])&&d(n.prototype,r),a&&d(n,a),t}();g(_,"propTypes",{children:function(e,t,n){if(!e||!Array.isArray(e[t])||2!==e[t].length)throw new Error("Invalid prop '".concat(t,"' supplied for '").concat(n,"'. Needs two children!"))},className:i.a.string,contentWidth:i.a.string,contentMaxWidth:i.a.string,gutter:i.a.string,stayOpen:i.a.bool,noAutoClose:i.a.bool,noVisibilityCheck:i.a.bool,rtl:i.a.bool,loading:i.a.bool,noMobileView:i.a.bool,spinnerClassName:i.a.string}),g(_,"defaultProps",{className:""})},function(e,t,n){"use strict";var r=n(57),o=n(74),a=n(100),i=n(0),s=n(1),c=n.n(s),l=n(631),u=["client","offset","scroll","bounds","margin"];function p(e){var t=[];return u.forEach(function(n){e[n]&&t.push(n)}),t}var f=function(e){return function(t){var n,s;return s=n=function(n){function s(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=n.call.apply(n,[this].concat(o))||this).state={contentRect:{entry:{},client:{},offset:{},scroll:{},bounds:{},margin:{}}},t._animationFrameID=null,t._resizeObserver=null,t._node=null,t.measure=function(n){var r=function(e,t){var n={};if(t.indexOf("client")>-1&&(n.client={top:e.clientTop,left:e.clientLeft,width:e.clientWidth,height:e.clientHeight}),t.indexOf("offset")>-1&&(n.offset={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}),t.indexOf("scroll")>-1&&(n.scroll={top:e.scrollTop,left:e.scrollLeft,width:e.scrollWidth,height:e.scrollHeight}),t.indexOf("bounds")>-1){var r=e.getBoundingClientRect();n.bounds={top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.width,height:r.height}}if(t.indexOf("margin")>-1){var o=getComputedStyle(e);n.margin={top:o?parseInt(o.marginTop):0,right:o?parseInt(o.marginRight):0,bottom:o?parseInt(o.marginBottom):0,left:o?parseInt(o.marginLeft):0}}return n}(t._node,e||p(t.props));n&&(r.entry=n[0].contentRect),t._animationFrameID=window.requestAnimationFrame(function(){null!==t._resizeObserver&&t.setState({contentRect:r})}),"function"==typeof t.props.onResize&&t.props.onResize(r)},t._handleRef=function(e){null!==t._resizeObserver&&null!==t._node&&t._resizeObserver.unobserve(t._node),t._node=e,null!==t._resizeObserver&&null!==t._node&&t._resizeObserver.observe(t._node);var n=t.props.innerRef;n&&("function"==typeof n?n(t._node):n.current=t._node)},t}Object(a.a)(s,n);var c=s.prototype;return c.componentDidMount=function(){this._resizeObserver=new l.a(this.measure),null!==this._node&&this._resizeObserver.observe(this._node)},c.componentWillUnmount=function(){null!==this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null),window.cancelAnimationFrame(this._animationFrameID)},c.render=function(){var e=this.props,n=(e.innerRef,e.onResize,Object(o.a)(e,["innerRef","onResize"]));return Object(i.createElement)(t,Object(r.a)({},n,{measureRef:this._handleRef,measure:this.measure,contentRect:this.state.contentRect}))},s}(i.Component),n.propTypes={client:c.a.bool,offset:c.a.bool,scroll:c.a.bool,bounds:c.a.bool,margin:c.a.bool,innerRef:c.a.oneOfType([c.a.object,c.a.func]),onResize:c.a.func},s}}()(function(e){var t=e.measure,n=e.measureRef,r=e.contentRect;return(0,e.children)({measure:t,measureRef:n,contentRect:r})});f.displayName="Measure",f.propTypes.children=c.a.func,t.a=f},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(22),i=n(4),s=n(73),c=n(615);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,f(t).apply(this,arguments))}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",{className:"row extra-footer"},o.a.createElement("div",{className:"col s12 content"},o.a.createElement("ul",{className:"col s12 m4"},o.a.createElement("li",null,o.a.createElement(c.a,null))),o.a.createElement("ul",{className:"col s12 m4"},o.a.createElement("li",null,o.a.createElement("a",{href:"/tos"},o.a.createElement(i.b,{id:"side-nav.terms"}))," ",o.a.createElement(a.b,{to:"/privacy"},o.a.createElement(i.b,{id:"side-nav.privacy"}))," ",o.a.createElement(a.b,{to:"/license"},o.a.createElement(i.b,{id:"side-nav.license"})))),o.a.createElement("ul",{className:"col s12 m4"},o.a.createElement("li",null,o.a.createElement("a",{target:"_blank",href:"https://www.facebook.com/geogebra"},"Facebook")," ",o.a.createElement("a",{target:"_blank",href:"https://www.twitter.com/geogebra"},"Twitter")," ",o.a.createElement("a",{target:"_blank",href:"https://www.youtube.com/user/GeoGebraChannel"},"YouTube"))),o.a.createElement("div",{className:"container-extender grey darken-2"})))}}])&&u(n.prototype,r),s&&u(n,s),t}();function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return _});var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,v(t).apply(this,arguments))}var n,r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"render",value:function(){return o.a.createElement("footer",{className:"row content-footer"},o.a.createElement("div",{className:"col s12 m4"},o.a.createElement("h3",null,"GeoGebra"),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(a.b,{to:"/about"},o.a.createElement(i.b,{id:"footer.about"}))),o.a.createElement("li",null,o.a.createElement("a",{href:"/team"},o.a.createElement(i.b,{id:"general.team"}))),o.a.createElement("li",null,o.a.createElement(a.b,{to:"/newsfeed"},o.a.createElement(i.b,{id:"side-nav.newsfeed"}))),o.a.createElement("li",null,o.a.createElement(a.b,{to:"/partners"},o.a.createElement(i.b,{id:"general.partners"}))))),o.a.createElement("div",{className:"col s12 m4"},o.a.createElement(i.b,{id:"footer.apps",tagName:"h3"}),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(a.b,{to:"/graphing",onClick:function(){return Object(s.b)("/graphing")},target:"_blank"},o.a.createElement(i.b,{id:"apps.graphing"}))),o.a.createElement("li",null,o.a.createElement(a.b,{to:"/geometry",onClick:function(){return Object(s.b)("/geometry")},target:"_blank"},o.a.createElement(i.b,{id:"apps.geometry"}))),o.a.createElement("li",null,o.a.createElement(a.b,{to:"/3d",onClick:function(){return Object(s.b)("/3d")},target:"_blank"},o.a.createElement(i.b,{id:"apps.3d"}))),o.a.createElement("li",null,o.a.createElement(a.b,{to:"/download"},o.a.createElement(i.b,{id:"side-nav.downloads"}))))),o.a.createElement("div",{className:"col s12 m4"},o.a.createElement(i.b,{id:"side-nav.materials",tagName:"h3"}),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(a.b,{to:"/materials"},o.a.createElement(i.b,{id:"swimlane.classroom_resources"}))),o.a.createElement("li",null,o.a.createElement(a.b,{to:"/groups",target:"_blank"},o.a.createElement(i.b,{id:"side-nav.groups"}))),o.a.createElement("li",null,o.a.createElement(a.b,{to:"/a/14"},o.a.createElement(i.b,{id:"side-nav.tutorials"}))),o.a.createElement("li",null,o.a.createElement("a",{href:"https://help.geogebra.org",target:"_blank"},o.a.createElement(i.b,{id:"general.help"}))))),o.a.createElement(h,null),o.a.createElement("div",{className:"container-extender grey lighten-2"}))}}])&&b(n.prototype,r),c&&b(n,c),t}()},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(25),c=n(22),l=n(10),u=n(98),p=n(4),f=n(94),m=n(23),h=n(31);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2m-5.15 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56M14.34 14H9.66c-.1-.66-.16-1.32-.16-2 0-.68.06-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2M12 19.96c-.83-1.2-1.5-2.53-1.91-3.96h3.82c-.41 1.43-1.08 2.76-1.91 3.96M8 8H5.08A7.923 7.923 0 0 1 9.4 4.44C8.8 5.55 8.35 6.75 8 8m-2.92 8H8c.35 1.25.8 2.45 1.4 3.56A8.008 8.008 0 0 1 5.08 16m-.82-2C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2M12 4.03c.83 1.2 1.5 2.54 1.91 3.97h-3.82c.41-1.43 1.08-2.77 1.91-3.97M18.92 8h-2.95a15.65 15.65 0 0 0-1.38-3.56c1.84.63 3.37 1.9 4.33 3.56M12 2C6.47 2 2 6.5 2 12c0 5.52 4.48 10 10 10s10-4.48 10-10S17.52 2 12 2z"}))};w.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var E=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(o=y(t).call(this,e))||"object"!==d(o)&&"function"!=typeof o?v(r):o,_(v(n),"state",{languageSwitcherOpened:!1,chosenLanguage:null}),n.saving=!1,n._switcherClick=n._switcherClick.bind(v(n)),n._modalClose=n._modalClose.bind(v(n)),n._saveLanguage=n._saveLanguage.bind(v(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this,t=this.state.chosenLanguage||Object(s.d)(this.context.store,this.context.cookies).code,n=s.h.find(function(t){return t.value===e.props.user.lang_ui});return o.a.createElement("span",null,o.a.createElement("a",{className:"language-switcher-button text-nowrap",onClick:this._switcherClick},o.a.createElement(w,{className:"icon no-stretch left"}),o.a.createElement(p.b,{id:"language-switcher.choose"},function(e){return o.a.createElement("span",null,e,": ",n?n.language:"English")})),this.state.languageSwitcherOpened&&o.a.createElement(f.a,{className:"modal-fixed-footer language-switcher-modal",onClose:this._modalClose},o.a.createElement("div",{className:"modal-content"},o.a.createElement("h4",null,o.a.createElement(p.b,{id:"language-switcher.title"})),o.a.createElement("p",null,o.a.createElement(p.b,{id:"language-switcher.description"})),this._getLanguages(t)),o.a.createElement("div",{className:"modal-footer"},o.a.createElement("a",{className:"modal-action modal-close btn-flat"},o.a.createElement(p.b,{id:"general.cancel"})),o.a.createElement("a",{className:"modal-action modal-close btn",onClick:this._saveLanguage},o.a.createElement(p.b,{id:"general.save"})))))}},{key:"_getLanguages",value:function(e){var t=this;return o.a.createElement("div",{className:"row"},s.h.map(function(n){var r=e===n.value?"ggb-purple-text":"ggb-teal-text";return o.a.createElement("a",{className:r+" text-darken-2 col s12",onClick:function(){return t._languageSwitched(n.value)},key:n.value},n.text)}))}},{key:"_languageSwitched",value:function(e){this.setState({chosenLanguage:e!==this.props.user.lang_ui?e:null})}},{key:"_modalClose",value:function(){this.saving||this.setState({chosenLanguage:null,languageSwitcherOpened:!1})}},{key:"_saveLanguage",value:function(){if(null!==this.state.chosenLanguage){this.saving=!0;var e=Object(s.f)(this.state.chosenLanguage)?Object(s.b)(this.state.chosenLanguage):Object(s.d)(this.context.store,this.context.cookies);Object(s.g)(this.context.cookies,e),this.context.store.dispatch(Object(l.g)(e));var t=Object(u.parse)(this.props.location.search);t.lang&&t.lang!==this.state.chosenLanguage&&(delete t.lang,this.props.history.replace(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){_(e,t,n[t])})}return e}({},this.props.location,{search:Object(u.stringify)(t)}))),-1!==this.props.user.id&&Object(h.l)(this.context.store,this.props.user.id,{"ui-language":e.code},!1).catch(function(e){return console.error("Change language error: ",e)})}}},{key:"_switcherClick",value:function(){this.setState({languageSwitcherOpened:!0})}}])&&b(n.prototype,r),a&&b(n,a),t}();_(E,"contextTypes",{store:i.a.object,cookies:i.a.object});t.a=Object(m.b)(function(e){return{user:e.userState.user}})(Object(c.g)(E))},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(611),o=n(27);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this.title=t.title,this.parent=t.parent,this.children=t.children||[],this.parents=t.parents||[]}var t,n,i;return t=e,(n=[{key:"equals",value:function(t){return t instanceof e&&t.id===this.id}},{key:"moveTo",value:function(e,t,n,a,i){var s=this;Object(r.g)(t,this.id,e.id).then(function(){var r=n.formatMessage({id:"profile.materials"}),c=i.title||r,l=e.title||r;Object(o.c)(t,{id:"move-dialog.success",values:{$1:s.title,$2:c,$3:l}}),"function"==typeof a&&a()}).catch(function(){Object(o.c)(t,{id:"move-dialog.folder-error"})})}}])&&a(t.prototype,n),i&&a(t,i),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(612);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M12 16c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z"}))};m.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var h,d,b,y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,p(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement(s.a,{className:"more-menu-button right-edge",stayOpen:this.props.stayOpen,loading:this.props.loading,spinnerClassName:this.props.spinnerClassName},o.a.createElement("buttontag",{className:"dropdown-button icon-container ".concat(this.props.moreClass||""),onClick:this.props.onMoreClick},o.a.createElement(m,{className:"icon ".concat(this.props.iconClass||"")})),this.props.children)}}])&&l(n.prototype,r),a&&l(n,a),t}();h=y,d="propTypes",b={loading:i.a.bool.isRequired,onMoreClick:i.a.func,stayOpen:i.a.bool,moreClass:i.a.string,iconClass:i.a.string,spinnerClassName:i.a.string},d in h?Object.defineProperty(h,d,{value:b,enumerable:!0,configurable:!0,writable:!0}):h[d]=b},function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"h",function(){return p}),n.d(t,"a",function(){return f}),n.d(t,"i",function(){return m}),n.d(t,"g",function(){return h});var r=n(11),o=n(46),a=n(133);function i(e,t,n){return!t||t<=0?Promise.reject({code:401}):r.b(e,"/users/".concat(t,"/followers"),n)}function s(e,t,n){return!t||t<=0?Promise.reject({code:401}):r.b(e,"/users/".concat(t,"/follow"),n)}function c(e,t){return r.b(e,"/users/recommended",t)}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"public";return r.b(e,"/users/"+t,{idtype:"username",scope:n})}function u(e,t,n){return Object(o.g)(e).then(function(o){var a=o.id;return r.e(e,"/users/".concat(a,"/follow/").concat(t),{retryFunction:n})})}function p(e,t,n){return Object(o.g)(e).then(function(o){var a=o.id;return r.a(e,"/users/".concat(a,"/follow/").concat(t),{retryFunction:n})})}function f(e,t,n){return r.e(e,"/users/".concat(t,"/ban"),{idtype:"username",retryFunction:n})}function m(e,t,n){return r.a(e,"/users/".concat(t,"/ban"),{idtype:"username",retryFunction:n})}function h(e){return Array.isArray(e)&&e.length?e.map(function(e){return a.b.fromPlainObject(e)}):!(!e||!e.id)&&a.b.fromPlainObject(e)}},,function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(99),c=n(20);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,f(t).call(this,e,t))}var r,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,c["a"]),r=t,a=[{key:"importer",value:function(){return n.e(84).then(n.bind(null,936)).then(function(e){var n=e.default;return t.Component=n})}}],(o=null)&&u(r.prototype,o),a&&u(r,a),t}();function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,v(t).call(this,e,t))}var r,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,c["a"]),r=t,a=[{key:"importer",value:function(){return n.e(84).then(n.bind(null,939)).then(function(e){var n=e.default;return t.Component=n})}}],(o=null)&&b(r.prototype,o),a&&b(r,a),t}(),w=n(38),E=n(646);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return D}),n.d(t,"f",function(){return N}),n.d(t,"b",function(){return M}),n.d(t,"d",function(){return A}),n.d(t,"e",function(){return R}),n.d(t,"c",function(){return L}),n.d(t,"g",function(){return z});var P,C,T,D="CONFIRM_DELETE",N="SHARE",M="EDIT_OR_COPY",A="OTHER_BOOKS",R="PUBLISH",L="MOVE",z=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),k(this,S(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){switch(this.props.openDialog){case D:return o.a.createElement(s.a,{messageKey:"material.confirm.delete.message",option1Key:"general.delete",cancelKey:"general-dialog.cancel",onOption1:this._goToLocation("/material/delete/id/".concat(this.props.material.id)),onClose:this._hideDialog(D)});case N:return o.a.createElement(h,{material:this.props.book_worksheet?this.props.book_worksheet:this.props.material,onClose:this._hideDialog(N)});case M:return this._extraEditQuestion("material-context-menu.edit_or_copy");case A:return this._extraEditQuestion("material-context-menu.in_other_books");case R:return o.a.createElement(_,{material:this.props.book_worksheet?this.props.book_worksheet:this.props.material,onClose:this._hideDialog(R),onRefresh:this.props.onRefresh});case L:return o.a.createElement(E.a,{movable:this.props.book_worksheet?this.props.book_worksheet:this.props.material,onClose:this._hideDialog(L),onRefresh:this.props.onRefresh});default:return null}}},{key:"_extraEditQuestion",value:function(e){return o.a.createElement(s.a,{messageKey:e,messageValues:{$1:this.props.book_worksheet.creator.displayname},option1Key:"general.copy",onOption1:this._goToLocation(this.props.worksheet_rights.replacewithcopyURL),option2Key:"general.edit",onOption2:this._goToLocation("/material/edit/id/".concat(this.props.book_worksheet.id)),onClose:this._hideDialog(this.props.openDialog)})}},{key:"_goToLocation",value:function(e){return function(){return window.location=e}}},{key:"_hideDialog",value:function(e){var t=this;return function(){return t.props.onClose(e)}}}])&&j(n.prototype,r),a&&j(n,a),t}();P=z,C="propTypes",T={openDialog:i.a.oneOf([D,N,M,A,R,L]).isRequired,material:i.a.instanceOf(w.b).isRequired,book_worksheet:i.a.instanceOf(w.b),worksheet_rights:i.a.object,onClose:i.a.func.isRequired,onRefresh:i.a.func},C in P?Object.defineProperty(P,C,{value:T,enumerable:!0,configurable:!0,writable:!0}):P[C]=T},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return c});var r=n(5),o=null,a=600;function i(){return!!r.a&&(null===o&&(e=navigator.userAgent||navigator.vendor||window.opera,o=!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br[ev]w|bumb|bw-[nu]|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do[cp]o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly[-_]|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-[mpt]|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c[- _agpst]|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac[ -\/]|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja[tv]a|jbro|jemu|jigs|kddi|keji|kgt[ \/]|klon|kpt |kwc-|kyo[ck]|le(no|xi)|lg( g|\/[klu]|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t[- ov]|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30[02]|n50[025]|n7(0[01]|10)|ne([cm]-|on|tf|wf|wg|wt)|nok[6i]|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan[adt]|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c[-01]|47|mc|nd|ri)|sgh-|shar|sie[-m]|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel[im]|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c[- ]|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))),o);var e}function s(){return!!window.MSInputMethodContext&&!!document.documentMode}function c(e){try{window.sessionStorage.setItem("backurl",e)}catch(e){console.log("sessionStorage not supported"+e.message)}return!0}},function(e,t,n){"use strict";function r(e){var t=function(t,n,r){if(null===n[r])return null;for(var o=t?e.isRequired:e,a=arguments.length,i=new Array(a>3?a-3:0),s=3;s<a;s++)i[s-3]=arguments[s];return o.apply(void 0,[n,r].concat(i))},n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"f",function(){return s}),n.d(t,"g",function(){return c}),n.d(t,"j",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return p}),n.d(t,"l",function(){return f}),n.d(t,"c",function(){return m}),n.d(t,"k",function(){return h}),n.d(t,"h",function(){return d}),n.d(t,"i",function(){return b});var r=n(11),o=n(666),a="err_empty_post",i="err_not_authorized";function s(e,t){return Object(r.b)(e,"/posts/".concat(t))}function c(e,t){var n=t.type,o=void 0===n?"timeline":n,a=t.offset,i=void 0===a?0:a,s=t.limit,c=void 0===s?10:s,l=t.user_id,u=t.retryFunction,p=t.language,f=void 0===p?"en":p;return Object(r.b)(e,"/posts",{type:o,user_id:l,limit:c,offset:i,retryFunction:u,language:f})}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return Promise.reject({response:{code:"invalid_id"}});var o="/posts/".concat(t,"/likes");return n?Object(r.a)(e,o,{skipErrors:!0}).catch(function(e){return 404===e.code&&(e={response:{code:"err_not_found"}}),Promise.reject(e)}):Object(r.e)(e,o,{skipErrors:!0})}function u(e,t){return t?Object(r.e)(e,"/posts",t):Promise.reject({response:{code:"post.empty_post"}})}function p(e,t){return Object(r.a)(e,"/posts/".concat(t),{skipErrors:!0})}function f(e,t,n,a){return Object(o.b)(function(o){var i=o(e,"posts",{skipErrors:!0});return i?i.update(t,{text:n.text,attachments:n.attachments}):(n.skipErrors=!0,Object(r.f)(e,"/posts/".concat(t),n).then(a))})}function m(e,t){Object(o.a)(function(n){void 0!==n(e)&&n(e).io.on("posts updated",t)})}function h(e,t){Object(o.a)(function(n){void 0!==n(e)&&n(e).io.removeListener("posts updated",t)})}function d(e,t){Object(o.b)(function(n){var r=n(e,"channelmanager");r&&r.create({post_id:t})})}function b(e,t){Object(o.b)(function(n){var r=n(e,"channelmanager");r&&r.remove(t)})}},function(e,t,n){"use strict";var r,o,a,i,s,c=n(0),l=n.n(c),u=n(687),p=n.n(u),f=n(173),m=n(5),h=m.a?(r="https://".concat("www.geogebra.org","/libraries/jlatexmath/jlatexmath.nocache.js"),o="jLatexMath",a=function(e){window.jlmOnInit=function(t){j.jlmlib=t,e.dispatch(Object(f.a)("jLatexMath"))}},i=n(26),s=!1,function(e){s||(s=!0,e.dispatch(Object(f.b)(o)),a&&"function"==typeof a&&a(e),i.ajax({url:r,dataType:"script",crossDomain:!0}).done(function(t,n){"function"!=typeof a&&e.dispatch(Object(f.a)(o))}).fail(function(e,t,n){console.error(o+" failed to load:",n)}))}):function(){},d=n(23),b=n(1),y=n.n(b);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_(this,w(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,l.a.Component),n=t,(r=[{key:"componentWillMount",value:function(){h(this.context.store)}},{key:"componentDidMount",value:function(){!0===this.props.jLatexMath&&!m.b&&t.jlmlib&&this.drawLatexOnCanvas(this.canvas)}},{key:"componentDidUpdate",value:function(){!0===this.props.jLatexMath&&!m.b&&t.jlmlib&&this.drawLatexOnCanvas(this.canvas)}},{key:"render",value:function(){var e=this;return l.a.createElement("canvas",{height:"1",width:"1",ref:function(t){return e.canvas=t},"data-content":this.props.children})}},{key:"drawLatexOnCanvas",value:function(e){var n,r=e.getAttribute("data-content"),o=e.getContext("2d"),a={context:o,latex:r,size:17,x:0,y:0,type:0,foregroundColor:"#000000",insets:{top:0,right:0,bottom:0,left:0}};r?(n=t.jlmlib.drawLatex(a))?(e.width=n.width,e.height=n.height,e.style.lineHeight=n.height+"px",e.style.verticalAlign=-100+Math.round(100*n.baseline)+"%",this.initializeCanvas(e,n.pixelRatio||1),t.jlmlib.drawLatex(a)):(e.width=70,e.height=30,o.strokeText("LaTeX error",0,25)):console.log("empty latex added.....")}},{key:"initializeCanvas",value:function(e,t){e.style.width=e.width+"px",e.style.height=e.height+"px",e.width*=t,e.height*=t}}])&&g(n.prototype,r),o&&g(n,o),t}();O(j,"contextTypes",{store:y.a.object}),O(j,"jlmlib",null);var k=Object(d.b)(function(e){return{jLatexMath:e.resourceState.jLatexMath}})(j),S=n(699),x=n.n(S),P=n(4);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return A});var A=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),D(this,N(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,c["Component"]),n=t,o=[{key:"escapeHTML",value:function(e){var t=e;return t=(t=(t=(t=(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")).replace(/'/g,"&#39;")).replace(/\$/g,"&#36;")}},{key:"getHTMLFromBBCode",value:function(e){var n=this;try{if(null===e||""===e||void 0===e)return"";"string"!=typeof e&&(e=e.toString()),e=e.replace(/\[br\]/g,"\r\n"),e=t.escapeHTML(e);var r={math:{transform:{"<JLatexMath>{SELTEXT}</JLatexMath>":"[math]{SELTEXT}[/math]"}},bold:{transform:{"<b>{SELTEXT}</b>":"[b]{SELTEXT}[/b]","<strong>{SELTEXT}</strong>":"[b]{SELTEXT}[/b]"}},italic:{transform:{"<i>{SELTEXT}</i>":"[i]{SELTEXT}[/i]","<em>{SELTEXT}</em>":"[i]{SELTEXT}[/i]"}},underline:{transform:{"<u>{SELTEXT}</u>":"[u]{SELTEXT}[/u]"}},strike:{transform:{"<strike>{SELTEXT}</strike>":"[s]{SELTEXT}[/s]","<s>{SELTEXT}</s>":"[s]{SELTEXT}[/s]"}},sup:{transform:{"<sup>{SELTEXT}</sup>":"[sup]{SELTEXT}[/sup]"}},sub:{transform:{"<sub>{SELTEXT}</sub>":"[sub]{SELTEXT}[/sub]"}},link:{transform:{'<a href="{URL}" target="_blank">{SELTEXT}</a>':"[url={URL}]{SELTEXT}[/url]",'<a href="{URL}" target="_blank">{URL}</a>':"[url]{URL}[/url]"}},img:{transform:{'<img src="{SRC}" />':"[img]{SRC}[/img]",'<img src="{SRC}" width="{WIDTH}" height="{HEIGHT}"/>':"[img width={WIDTH},height={HEIGHT}]{SRC}[/img]"}},bullist:{transform:{'<ul class="bbcode-list">{SELTEXT}</ul>':"[list]{SELTEXT}[/list]","<li>{SELTEXT}</li>":"[*]{SELTEXT}[/*]"}},numlist:{transform:{'<ol class="bbcode-list">{SELTEXT}</ol>':"[list=1]{SELTEXT}[/list]","<li>{SELTEXT}</li>":"[*]{SELTEXT}[/*]"}},letterlist:{buttonHTML:'<span class="fonticon ve-tlb-numlist1"></span>',excmd:"insertOrderedList",transform:{'<ol class="bbcode-list type-a" type="a">{SELTEXT}</ol>':"[list=a]{SELTEXT}[/list]","<li>{SELTEXT}</li>":"[*]{SELTEXT}[/*]"}},quote:{transform:{"<blockquote>{SELTEXT}</blockquote>":"[quote]{SELTEXT}[/quote]"}},code:{transform:{"<code>{SELTEXT}</code>":"[code]{SELTEXT}[/code]"}},offtop:{transform:{'<span style="font-size:10px;color:#ccc">{SELTEXT}</span>':"[offtop]{SELTEXT}[/offtop]"}},fontcolor:{transform:{'<font color="{COLOR}">{SELTEXT}</font>':"[color={COLOR}]{SELTEXT}[/color]"}},table:{transform:{"<td nowrap>{SELTEXT}</td>":"[td nowrap]{SELTEXT}[/td]","<td>{SELTEXT}</td>":"[td]{SELTEXT}[/td]","<tr>{SELTEXT}</tr>":"[tr]{SELTEXT}[/tr]",'<tr class="{ID}">{SELTEXT}</tr>':"[tr id={ID}]{SELTEXT}[/tr]",'<table class="wbb-table"><tbody>{SELTEXT}</tbody></table>':"[table]{SELTEXT}[/table]"},skipRules:!0},fontsize:{type:"select",options:"fs_verysmall,fs_small,fs_normal,fs_big,fs_verybig"},fontfamily:{transform:{'<font face="{FONT}">{SELTEXT}</font>':"[font={FONT}]{SELTEXT}[/font]"}},justify:{transform:{'<p style="text-align:justify;">{SELTEXT}</p>':"[justify]{SELTEXT}[/justify]"}},justifyleft:{transform:{'<p style="text-align:left;">{SELTEXT}</p>':"[left]{SELTEXT}[/left]"}},justifyright:{transform:{'<p style="text-align:right">{SELTEXT}</p>':"[right]{SELTEXT}[/right]"}},justifycenter:{transform:{'<p style="text-align:center;">{SELTEXT}</p>':"[center]{SELTEXT}[/center]"}},video:{transform:{'<iframe src="https://www.youtube.com/embed/{SRC}" width="640" height="480" frameborder="0"></iframe>':"[video]{SRC}[/video]"}},fs_verysmall:{transform:{'<span class="font-size-1">{SELTEXT}</span>':"[size=50]{SELTEXT}[/size]"}},fs_small:{transform:{'<span class="font-size-2">{SELTEXT}</span>':"[size=85]{SELTEXT}[/size]"}},fs_normal:{transform:{'<span class="font-size-3">{SELTEXT}</span>':"[size=100]{SELTEXT}[/size]"}},fs_big:{transform:{'<span class="font-size-4">{SELTEXT}</span>':"[size=150]{SELTEXT}[/size]"}},fs_verybig:{transform:{'<span class="font-size-5">{SELTEXT}</span>':"[size=200]{SELTEXT}[/size]"}},icon:{transform:{'<img class="toolbar-img" src="{SRC}" alt="Toolbar Image"/>':"[icon]{SRC}[/icon]"}},button:{transform:{'<a class="button">{SELTEXT}</a>':"[button]{SELTEXT}[/button]"}},button_small:{transform:{'<a class="button tiny">{SELTEXT}</a>':"[button_small]{SELTEXT}[/button_small]"}},hl_button:{transform:{'<a class="button highlight">{SELTEXT}</a>':"[hl_button]{SELTEXT}[/hl_button]"}},hl_button_small:{transform:{'<a class="button tiny highlight">{SELTEXT}</a>':"[hl_button_small]{SELTEXT}[/hl_button_small]"}}},o={"<br />":"[br]","<li>":"[*]",'<span class="wbbtab">{SELTEXT}</span>':"   {SELTEXT}"};return e=this._changeIn(e,"code",function(e){return e.replace(/\[/g,"&#91;").replace(/\]/g,"&#93;")}),e=this._changeIn(e,"math",function(e){return e.replace(/\[br\]/g," ")}),["bold","italic","underline","strike","sup","sub","img","video","link","bullist","numlist","letterlist","fontcolor","fontsize","fontfamily","justify","justifyleft","justifycenter","justifyright","quote","code","table","math","fs_verysmall","fs_small","fs_normal","fs_big","fs_verybig","icon","button","button_small","hl_button","hl_button_small"].forEach(function(t){if(!r[t]||!r[t].transform)return!0;Object.keys(r[t].transform).forEach(function(o){var a,i=r[t].transform[o],s=o,c=[];for(i=(i=i.replace(/(\(|\)|\[|\]|\.|\*|\?|\:|\\|\\)/g,"\\$1")).replace(/\{(.*?)(\\\[.*?\\\])*\}/gi,function(e,t,n){return c.push(t),n?"("+(n=n.replace(/\\/g,""))+"*?)":"([\\s\\S]*?)"});null!==(a=new RegExp(i,"mgi").exec(e));)a&&function(){var t={};c.forEach(function(e,n){t[e]=a[n+1]});var r=s;r=r.replace(/\{(.*?)(\[.*?\])\}/g,"{$1}"),r=n._strf(r,t),e=e.replace(a[0],r)}()})}),Object.keys(o).forEach(function(t){var n=o[t].replace(/(\(|\)|\[|\]|\.|\*|\?|\:|\\|\\)/g,"\\$1").replace(" ","\\s");e=e.replace(new RegExp(n,"g"),t)}),e}catch(t){return console.log(t),"<bbcodeerror></bbcodeerror>"+e}}},{key:"_keysToLower",value:function(e){return Object.keys(e).forEach(function(t){var n=e[t];t!==t.toLowerCase()&&(delete e[t],e[t.toLowerCase()]=n)}),e}},{key:"_strf",value:function(e,t){return t=this._keysToLower(Object.assign({},t)),e.replace(/\{([\w\.]*)\}/g,function(e,n){var r=(n=n.toLowerCase()).split("."),o=t[r.shift().toLowerCase()];return r.forEach(function(e){o=o[e]}),null==o?"":o})}},{key:"_changeIn",value:function(e,t,n){return e.replace(new RegExp("\\["+t+"\\]([\\s\\S]*?)\\[/"+t+"\\]","g"),function(e){return e=n(e.substr(t.length+2,e.length-2*t.length-2-3)),"["+t+"]"+e+"[/"+t+"]"})}}],(r=[{key:"render",value:function(){return l.a.Children.count(this.props.children)?l.a.createElement("span",null,l.a.Children.map(this.props.children,function(e){return l.a.isValidElement(e)?e:l.a.createElement(x.a,{properties:{target:"_blank"},className:"Linkify bbcode-adjustments"},p()(t.getHTMLFromBBCode(e),{replace:function(e){return"jlatexmath"===e.name?l.a.createElement(k,null,(e.children[0]||{data:""}).data):"bbcodeerror"===e.name?l.a.createElement("div",{className:"materialize-red"},l.a.createElement(P.b,{id:"bbcode-tags.error"})):void 0}}))})):null}}])&&T(n.prototype,r),o&&T(n,o),t}()},function(e,t,n){var r=n(755),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();e.exports=a},function(e,t,n){var r=n(0),o=/-([a-z])/g,a=/^--[a-zA-Z0-9-]+$|^[^-]+$/;var i=r.version.split(".")[0]>=16;e.exports={PRESERVE_CUSTOM_ATTRIBUTES:i,camelCase:function(e){if("string"!=typeof e)throw new TypeError("First argument must be a string");return a.test(e)?e:e.toLowerCase().replace(o,function(e,t){return t.toUpperCase()})},invertObject:function(e,t){if(!e||"object"!=typeof e)throw new TypeError("First argument must be an object");var n,r,o="function"==typeof t,a={},i={};for(n in e)r=e[n],o&&(a=t(n,r))&&2===a.length?i[a[0]]=a[1]:"string"==typeof r&&(i[r]=n);return i},isCustomComponent:function(e,t){if(-1===e.indexOf("-"))return t&&"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}}},function(e,t,n){e.exports=n(649)},function(e,t,n){"use strict";n.d(t,"a",function(){return O});var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(4),c=n(636),l=n(38),u=n(648);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M17.9 17.39c-.26-.8-1.01-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41a7.984 7.984 0 0 1 2.9 12.8M11 19.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.22.21-1.79L9 15v1c0 1.1.9 2 2 2m1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"}))};y.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var v=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8v2m9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.71-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"}))};v.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var g=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M12 17a2 2 0 1 0 .001-4.001A2 2 0 0 0 12 17m6-9c1.1 0 2 .9 2 2v10c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2V10a2 2 0 0 1 2-2h1V6c0-2.76 2.24-5 5-5s5 2.24 5 5v2h1m-6-5c-1.66 0-3 1.34-3 3v2h6V6c0-1.66-1.34-3-3-3z"}))};g.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var _=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M12 1C9.24 1 7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2h-1V6c0-2.76-2.24-5-5-5m0 1.9c1.71 0 3.1 1.39 3.1 3.1v2H8.9V6c0-1.71 1.39-3.1 3.1-3.1m.19 7.6c.94 0 1.69.21 2.23.62.54.42.81.98.81 1.68 0 .44-.15.83-.44 1.2-.29.36-.67.64-1.13.85-.26.15-.43.3-.52.47-.09.18-.14.4-.14.68h-2c0-.5.1-.84.29-1.08.21-.24.55-.52 1.07-.84.26-.14.47-.32.64-.54.14-.21.22-.46.22-.74 0-.3-.09-.52-.27-.69-.18-.18-.45-.26-.76-.26-.27 0-.49.07-.69.21-.16.14-.26.35-.26.63H9.27c-.05-.69.23-1.29.78-1.65.54-.36 1.25-.54 2.14-.54M11 17h2v2h-2v-2z"}))};_.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var w=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M16 13c-.29 0-.62 0-.97.05C16.19 13.89 17 15 17 16.5V19h6v-2.5c0-2.33-4.67-3.5-7-3.5m-8 0c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m0-2c1.66 0 3-1.34 3-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m8 0c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3z"}))};w.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var E={O:y,S:v,P:g,U:_},O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,h(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,o.a.Component),n=t,a=[{key:"_getBadges",value:function(e){return e.displayReason===l.a?[w]:null}}],(r=[{key:"render",value:function(){var e,n=this.props.material;if(this.props.showVisibility){var r=[l.e,l.f,l.d].includes(this.props.material.visibility)?this.props.material.visibility:"U",a=E[r];e=o.a.createElement(o.a.Fragment,null,o.a.createElement(a,{className:"icon no-stretch left"}),o.a.createElement(s.b,{id:"general.visibility_".concat(r)}))}else e=n.creator.displayname;var i="".concat(this.props.className||""," material-card")+(this.props.isDragging?" dragging":"");return o.a.createElement(c.a,{title:n.title,imageUrl:n.thumbnail||"/assets/images/default/".concat(n.type,".png"),lazyLoadImage:this.props.lazyLoadImage,href:"/m/".concat(n.id),typeDescriptor:{text:"material.type_".concat(n.type),isTranslationKey:!0},stayInTab:!0,className:i,contextMenu:o.a.createElement(u.b,{material:n,onRefresh:this.props.onRefresh}),additionalInfo:e,innerRef:this.props.forwardedRef,badges:t._getBadges(n)})}}])&&f(n.prototype,r),a&&f(n,a),t}();b(O,"propTypes",{material:i.a.instanceOf(l.b).isRequired,lazyLoadImage:i.a.bool,onRefresh:i.a.func,showVisibility:i.a.bool,forwardedRef:i.a.object,isDragging:i.a.bool}),b(O,"contextTypes",{store:i.a.object})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(11);function o(e,t){return r.b(e,"/meta",{url:t,skipErrors:!0})}},,function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},i=2;var s=20,c=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,u=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function s(){n&&(n=!1,e()),r&&l()}function c(){a(s)}function l(){var e=Date.now();if(n){if(e-o<i)return;r=!0}else n=!0,r=!1,setTimeout(c,t);o=e}return l}(this.refresh.bind(this),s)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;c.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),p=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},f=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},m=g(0,0,0,0);function h(e){return parseFloat(e)||0}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+h(e["border-"+n+"-width"])},0)}function b(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return m;var r=f(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],a=e["padding-"+o];t[o]=h(a)}return t}(r),a=o.left+o.right,i=o.top+o.bottom,s=h(r.width),c=h(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==t&&(s-=d(r,"left","right")+a),Math.round(c+i)!==n&&(c-=d(r,"top","bottom")+i)),!function(e){return e===f(e).document.documentElement}(e)){var l=Math.round(s+a)-t,u=Math.round(c+i)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(u)&&(c-=u)}return g(o.left,o.top,s,c)}var y="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof f(e).SVGGraphicsElement}:function(e){return e instanceof f(e).SVGElement&&"function"==typeof e.getBBox};function v(e){return r?y(e)?function(e){var t=e.getBBox();return g(0,0,t.width,t.height)}(e):b(e):m}function g(e,t,n,r){return{x:e,y:t,width:n,height:r}}var _=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=g(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),w=function(){return function(e,t){var n,r,o,a,i,s,c,l=(r=(n=t).x,o=n.y,a=n.width,i=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(s.prototype),p(c,{x:r,y:o,width:a,height:i,top:o,right:r+a,bottom:i+o,left:r}),c);p(this,{target:e,contentRect:l})}}(),E=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new _(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new w(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),O="undefined"!=typeof WeakMap?new WeakMap:new n,j=function(){return function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=u.getInstance(),r=new E(t,n,this);O.set(this,r)}}();["observe","unobserve","disconnect"].forEach(function(e){j.prototype[e]=function(){var t;return(t=O.get(this))[e].apply(t,arguments)}});var k=void 0!==o.ResizeObserver?o.ResizeObserver:j;t.a=k}).call(this,n(87))},function(e,t,n){"use strict";n.d(t,"b",function(){return g}),n.d(t,"a",function(){return w});var r=n(0),o=n.n(r),a=n(4),i=n(611),s=n(1),c=n.n(s),l=n(622),u=n(94),p=n(638);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,b(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement(p.a,{labels:t.labels,onClose:this.props.onClose,onSubmit:this._createFolder.bind(this),defaultValue:this.props.intl.formatMessage({id:"folder-create-modal.untitled"})})}},{key:"_createFolder",value:function(){var e,n=(e=regeneratorRuntime.mark(function e(n,r){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i.d)(n,{title:r,parent:this.props.folder_id});case 3:o=e.sent,this.props.onFolderCreated(o),e.next=11;break;case 7:if(e.prev=7,e.t0=e.catch(0),!e.t0.response||!e.t0.response.code){e.next=11;break}throw{message:t.errCodes.err_invalid_title};case 11:case"end":return e.stop()}},e,this,[[0,7]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){m(a,r,o,i,s,"next",e)}function s(e){m(a,r,o,i,s,"throw",e)}i(void 0)})});return function(e,t){return n.apply(this,arguments)}}()}])&&h(n.prototype,r),a&&h(n,a),t}();v(g,"propTypes",{onClose:c.a.func.isRequired,folder_id:Object(l.a)(c.a.string).isRequired,onFolderCreated:c.a.func.isRequired}),v(g,"errCodes",{err_invalid_title:"folder-create-modal.err_invalid_title",err_invalid_description:"folder-create-modal.err_invalid_description",err_invalid_parent:"folder-create-modal.err_invalid_parent"}),v(g,"labels",{title:"folder-create-modal.title",fieldName:"folder-create-modal.name",cancel:"folder-create-modal.cancel",submit:"folder-create-modal.create"});var _=Object(a.h)(g);t.c=_;var w=Object(u.b)(_,{className:"folder-create-modal"})},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";function r(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){t&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}function o(e){return Object.prototype.toString.call(e)}function a(e){return"[object Function]"===o(e)}function i(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var c={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]?0:t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},l="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",u="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function p(e){var t=e.re=n(658)(e.__opts__),r=e.__tlds__.slice();function s(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||r.push(l),r.push(t.src_xn),t.src_tlds=r.join("|"),t.email_fuzzy=RegExp(s(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(s(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(s(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(s(t.tpl_host_fuzzy_test),"i");var c=[];function u(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach(function(t){var n=e.__schemas__[t];if(null!==n){var r,i={validate:null,link:null};if(e.__compiled__[t]=i,"[object Object]"===o(n))return!function(e){return"[object RegExp]"===o(e)}(n.validate)?a(n.validate)?i.validate=n.validate:u(t,n):i.validate=(r=n.validate,function(e,t){var n=e.slice(t);return r.test(n)?n.match(r)[0].length:0}),void(a(n.normalize)?i.normalize=n.normalize:n.normalize?u(t,n):i.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===o(e)}(n)?u(t,n):c.push(t)}}),c.forEach(function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)}),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var p=Object.keys(e.__compiled__).filter(function(t){return t.length>0&&e.__compiled__[t]}).map(i).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+p+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+p+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function f(e,t){var n=e.__index__,r=e.__last_index__,o=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=o,this.text=o,this.url=o}function m(e,t){var n=new f(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function h(e,t){if(!(this instanceof h))return new h(e,t);var n;t||(n=e,Object.keys(n||{}).reduce(function(e,t){return e||s.hasOwnProperty(t)},!1)&&(t=e,e={})),this.__opts__=r({},s,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},c,e),this.__compiled__={},this.__tlds__=u,this.__tlds_replaced__=!1,this.re={},p(this)}h.prototype.add=function(e,t){return this.__schemas__[e]=t,p(this),this},h.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},h.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,o,a,i,s,c;if(this.re.schema_test.test(e))for((s=this.re.schema_search).lastIndex=0;null!==(t=s.exec(e));)if(o=this.testSchemaAt(e,t[2],s.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+o;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||c<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(a=n.index+n[1].length,(this.__index__<0||a<this.__index__)&&(this.__schema__="",this.__index__=a,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(a=r.index+r[1].length,i=r.index+r[0].length,(this.__index__<0||a<this.__index__||a===this.__index__&&i>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=a,this.__last_index__=i)),this.__index__>=0},h.prototype.pretest=function(e){return this.re.pretest.test(e)},h.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},h.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(m(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(m(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},h.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(e,t,n){return e!==n[t-1]}).reverse(),p(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,p(this),this)},h.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},h.prototype.onCompile=function(){},e.exports=h},function(e,t,n){"use strict";n.d(t,"c",function(){return p}),n.d(t,"e",function(){return f}),n.d(t,"d",function(){return m}),n.d(t,"f",function(){return h}),n.d(t,"b",function(){return d}),n.d(t,"h",function(){return b}),n.d(t,"a",function(){return y}),n.d(t,"g",function(){return v});var r=n(11),o=n(671),a=n(24),i=n(46);function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){c(e,t,n[t])})}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={value:"-modified",translation_key:"sort.modified"};function u(e,t,n){return r.b(e,"/users/".concat(t,"/groups"),s({embed:"creator"},n))}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return u(e,t,n).then(function(t){return o.b.createArrayFromPlainObjects(e,t)})}function f(e,t,n){return!t||t<=0?Promise.reject({code:401}):u(e,t,s({role:"owner"},n))}function m(e,t,n){return!t||t<=0?Promise.reject({code:401}):u(e,t,s({role:"member"},n))}function h(e,t){return r.b(e,"/groups",{embed:void 0,type:"canpost",order:l.value,limit:250})}function d(e,t){return r.b(e,"/groups/".concat(t,"/actions"),{})}function b(e,t,n){return!n||n<=0?Promise.reject({code:401}):r.b(e,"/group/deletemember/group_id/".concat(t,"/user_id/").concat(n),{oldAPI:!0,lt:e.getState().userState.accessToken}).then(g)}function y(e,t){return r.b(e,"/group/delete",{oldAPI:!0,lt:e.getState().userState.accessToken,group_id:t}).then(g)}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(i.g)(e).then(function(){var o,i={oldAPI:!0,group_id:n,lt:e.getState().userState.accessToken};return t.type===a.a?(o="/group/importbook",i.id=t.id):(o="/group/importworksheet",i.material_id=t.id),r.b(e,o,i).then(g)})}function g(e){return e&&"success"===e.type?e:Promise.reject({code:401})}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(4),c=n(22),l=n(613);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y,v,g,_=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=h(t).call(this,e))||"object"!==u(o)&&"function"!=typeof o?d(r):o)._calcBounds=n._calcBounds.bind(d(n)),n.state={showPlaceholder:e.lazyLoad},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"componentDidMount",value:function(){this.state.showPlaceholder&&this._setupLazyLoading()}},{key:"componentWillUnmount",value:function(){"function"==typeof this._removeScrollListener&&this._removeScrollListener()}},{key:"render",value:function(){var e=this,t=this.props,n=t.imageUrl,r=(t.lazyLoad,f(t,["imageUrl","lazyLoad"]));return this.state.showPlaceholder?o.a.createElement(l.a,{bounds:!0,onResize:this._calcBounds},function(t){var n=t.measureRef,a=t.measure;return e._measure=a,o.a.createElement("img",p({},r,{src:"data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=",ref:n}))}):o.a.createElement("img",p({},r,{src:n}))}},{key:"_calcBounds",value:function(e){var t=e.bounds;this._aboveFold=t.top-50<window.innerHeight}},{key:"_setupLazyLoading",value:function(){var e=this,t=function(){return e._measure(),!!e._aboveFold&&(e.setState({showPlaceholder:!1}),!0)};if(!t()){var n=!1,r=function(){n||(requestAnimationFrame(function(){t()&&e._removeScrollListener(),n=!1}),n=!0)};window.addEventListener("scroll",r),this._removeScrollListener=function(){delete e._removeScrollListener,window.removeEventListener("scroll",r)}}}}])&&m(n.prototype,r),a&&m(n,a),t}();function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}y=_,v="propTypes",g={imageUrl:i.a.string.isRequired,lazyLoad:i.a.bool},v in y?Object.defineProperty(y,v,{value:g,enumerable:!0,configurable:!0,writable:!0}):y[v]=g,n.d(t,"a",function(){return S});var S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),O(this,j(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.stayInTab?void 0:"_blank",t=this.props.iconComponent;return o.a.createElement("li",{ref:this.props.innerRef,className:"col s6 m3"},o.a.createElement("div",{className:"card hoverable ".concat(this.props.className||"")},o.a.createElement("div",{className:"card-image"},this.props.imageUrl&&o.a.createElement(_,{imageUrl:this.props.imageUrl,lazyLoad:this.props.lazyLoadImage,style:this.props.fixedImageHeight?{height:this.props.fixedImageHeight,margin:"auto"}:void 0,alt:this.props.altText||""}),t&&!this.props.imageUrl&&o.a.createElement(t,{className:"icon"}),this.props.badges&&o.a.createElement("div",{className:"card-badges"},this.props.badges.map(function(e,t){return o.a.createElement("div",{className:"card-badge",key:t},o.a.createElement(e,null))}))),o.a.createElement("div",{className:"card-content grey lighten-5".concat(this.props.actionButton?" action-button-padding":"")},o.a.createElement("h3",{className:"card-title"},o.a.createElement(x,{href:this.props.href,target:e,isExternal:this.props.isExternal,title:this.props.titleHoverText||this.props.title,className:"card-link".concat(this.props.title?" primary-text":" secondary-text")},this.props.title||o.a.createElement("em",null,o.a.createElement(s.b,{id:"card.no_title"})))),this.props.typeDescriptor&&o.a.createElement("div",{className:"card-type-descriptor"},this.props.typeDescriptor.isTranslationKey?o.a.createElement(s.b,{id:this.props.typeDescriptor.text}):this.props.typeDescriptor.text),this.props.additionalInfo&&o.a.createElement("p",{className:"secondary-text truncate additional-info".concat(this.props.contextMenu?" pad-right":"")},this.props.additionalInfo),this.props.children),this.props.contextMenu,this.props.actionButton&&o.a.createElement("div",{className:"action-button-section"},this.props.actionButton)))}}])&&E(n.prototype,r),a&&E(n,a),t}();function x(e){return e.isExternal?o.a.createElement("a",{href:e.href,className:e.className,target:e.target,title:e.title},e.children):o.a.createElement(c.b,{to:e.href,className:e.className,target:e.target,title:e.title},e.children)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(S,"propTypes",{title:i.a.string.isRequired,href:i.a.string.isRequired,isExternal:i.a.bool,stayInTab:i.a.bool,titleHoverText:i.a.string,contextMenu:i.a.object,actionButton:i.a.object,imageUrl:i.a.string,lazyLoadImage:i.a.bool,iconComponent:function(e,t,n){if(!e||!e[t]&&!e.imageUrl)throw new Error("Invalid props supplied for '".concat(n,"': Needs 'imageURL' or '").concat(t,"'!"))},fixedImageHeight:i.a.string,typeDescriptor:i.a.shape({text:i.a.string.isRequired,isTranslationKey:i.a.bool}),additionalInfo:i.a.oneOfType([i.a.object,i.a.string]),altText:i.a.string,innerRef:i.a.object,badges:i.a.array})},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r=n(95),o="TABS";function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return Object(r.b)(o,e,t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(0),o=n.n(r),a=n(4),i=n(1),s=n.n(i),c=n(639),l=n.n(c),u=n(71);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){f(a,r,o,i,s,"next",e)}function s(e){f(a,r,o,i,s,"throw",e)}i(void 0)})}}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(a=d(t).call(this,e))||"object"!==p(a)&&"function"!=typeof a?b(r):a).state={value:e.defaultValue||"",error:!1,inProgress:!1},n._onSubmit=n._onSubmit.bind(b(n)),n._onKeyDown=n._onKeyDown.bind(b(n)),n.inputRef=o.a.createRef(),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.inputRef.current;l()(e),e.setSelectionRange(0,e.value.length)}},{key:"render",value:function(){return o.a.createElement("div",{className:"single-value-form"},o.a.createElement("div",{className:"modal-head"},o.a.createElement(a.b,{id:this.props.labels.title})),o.a.createElement("div",{className:"modal-content"},this.state.error&&o.a.createElement("p",{className:"materialize-red-text"},o.a.createElement(a.b,{id:this.state.error})),o.a.createElement("div",{className:"input-field"},o.a.createElement("input",{ref:this.inputRef,id:"single_value_form_input",value:this.state.value,className:this.state.error?"invalid":"",onChange:this._setValue.bind(this),onKeyDown:this._onKeyDown}),o.a.createElement("label",{htmlFor:"single_value_form_input",className:"active"},o.a.createElement(a.b,{id:this.props.labels.fieldName})))),o.a.createElement("div",{className:"modal-footer"},this.state.inProgress&&o.a.createElement(u.a,{className:"small"}),o.a.createElement("a",{className:"modal-action modal-close btn-flat"+(this.state.inProgress?" disabled":"")},o.a.createElement(a.b,{id:this.props.labels.cancel})),o.a.createElement("a",{onClick:this._onSubmit,className:"modal-action btn "+(this.state.value&&!this.state.inProgress?"":"disabled")},o.a.createElement(a.b,{id:this.props.labels.submit}))))}},{key:"_onSubmit",value:function(){var e=m(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({inProgress:!0}),e.next=4,this.props.onSubmit(this.context.store,this.state.value);case 4:this.props.onClose(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({error:e.t0.message,inProgress:!1});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"_setValue",value:function(e){this.setState({value:e.target.value,error:null})}},{key:"_onKeyDown",value:function(){var e=m(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(13!==t.which){e.next=3;break}return e.next=3,this._onSubmit();case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}])&&h(n.prototype,r),i&&h(n,i),t}();v(g,"propTypes",{labels:s.a.shape({title:s.a.string.isRequired,fieldName:s.a.string.isRequired,cancel:s.a.string.isRequired,submit:s.a.string.isRequired}).isRequired,defaultValue:s.a.string,onClose:s.a.func.isRequired,onSubmit:s.a.func.isRequired}),v(g,"contextTypes",{store:s.a.object})},function(e,t,n){var r=n(650);e.exports=function(e,t){if("undefined"==typeof window)return e;if("object"!=typeof e||!e||!e.focus)throw new TypeError("dom-autofocus: el should be a DOM element");return t||(t=""),r(e,function(){e.focus()},function(){},"dom-autofocus"+t)}},function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"d",function(){return p}),n.d(t,"e",function(){return m});var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(673),c={value:"-modified",translation_key:"sort.modified"},l={value:"",translation_key:"filter.type_any"},u={value:"books",translation_key:"filter.type_book"},p={value:"ws",translation_key:"filter.type_ws"},f={sorting:{title:"sort.sort_by",options:[{value:"-created",translation_key:"sort.created"},c,{value:"title",translation_key:"sort.title"}]},filter:{title:"filter.filter_by",options:[l,p,u]}};function m(e){return o.a.createElement(s.a,{sections:f,showSections:e.showSections,selected:e.selected,onChange:e.onChange})}m.propTypes={onChange:i.a.func.isRequired,showSections:i.a.object.isRequired,selected:i.a.object}},function(e,t){e.exports={fetchPreviewImages:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new Set,o=e.filter(function(e){return/^image\/.*/i.exec(e.type)}).map(function(e){return{preview:null,nativeFileObject:e}});return o&&o.length?(n||o.splice(1),o.forEach(function(e){r.add(new Promise(function(t){var n=new FileReader;n.onload=function(n){e.preview=n.target.result,t()},n.readAsDataURL(e.nativeFileObject)}))}),Promise.all(Array.from(r)).then(function(){return t(o)}),new Promise(function(e){t=e})):Promise.reject()},getDataTransferFiles:function(e){var t=[];if(e.dataTransfer){var n=e.dataTransfer;n.files&&n.files.length?t=n.files:n.items&&n.items.length&&(t=n.items)}else e.target&&e.target.files&&(t=e.target.files);return Array.prototype.slice.call(t)}}},function(e,t,n){"use strict";var r=n(690);n(691);function o(e,t){return(e&t)===t}var a={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=a,n=e.Properties||{},i=e.DOMAttributeNamespaces||{},c=e.DOMAttributeNames||{},l=e.DOMPropertyNames||{},u=e.DOMMutationMethods||{};for(var p in e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute),n){s.properties.hasOwnProperty(p)&&r("48",p);var f=p.toLowerCase(),m=n[p],h={attributeName:f,attributeNamespace:null,propertyName:p,mutationMethod:null,mustUseProperty:o(m,t.MUST_USE_PROPERTY),hasBooleanValue:o(m,t.HAS_BOOLEAN_VALUE),hasNumericValue:o(m,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:o(m,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:o(m,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(h.hasBooleanValue+h.hasNumericValue+h.hasOverloadedBooleanValue<=1||r("50",p),c.hasOwnProperty(p)){var d=c[p];h.attributeName=d}i.hasOwnProperty(p)&&(h.attributeNamespace=i[p]),l.hasOwnProperty(p)&&(h.propertyName=l[p]),u.hasOwnProperty(p)&&(h.mutationMethod=u[p]),s.properties[p]=h}}},i=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:i,ATTRIBUTE_NAME_CHAR:i+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){if((0,s._isCustomAttributeFunctions[t])(e))return!0}return!1},injection:a};e.exports=s},function(e,t,n){"use strict";function r(e){for(var t,n={},r=0,o=e.length;r<o;r++)n[(t=e[r]).name]=t.value;return n}e.exports={formatAttributes:r,formatDOM:function e(t,n,o){n=n||null;for(var a,i,s,c=[],l=0,u=t.length;l<u;l++){switch(a=t[l],s={next:null,prev:c[l-1]||null,parent:n},(i=c[l-1])&&(i.next=s),0!==a.nodeName.indexOf("#")&&(s.name=a.nodeName.toLowerCase(),s.attribs={},a.attributes&&a.attributes.length&&(s.attribs=r(a.attributes))),a.nodeType){case 1:"script"===s.name||"style"===s.name?s.type=s.name:s.type="tag",s.children=e(a.childNodes,s);break;case 3:s.type="text",s.data=a.nodeValue;break;case 8:s.type="comment",s.data=a.nodeValue}c.push(s)}return o&&(c.unshift({name:o.substring(0,o.indexOf(" ")).toLowerCase(),data:o,type:"directive",next:c[0]?c[0]:null,prev:null,parent:n}),c[1]&&(c[1].prev=c[0])),c},isIE:function(e){return e?document.documentMode===e:/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(627),c=n.n(s),l=n(96),u=n(170),p=n(71);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=h(t).call(this,e))||"object"!==f(o)&&"function"!=typeof o?d(r):o)._onMore=n._onMore.bind(d(n)),n.page=Math.round(e.children.length/t.BATCH_SIZE),n.state={hasMore:e.children.length%t.BATCH_SIZE==0},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this._isMounted=!0,0===this.page&&this.state.hasMore&&this._onMore()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return o.a.createElement(c.a,{className:this.props.className,loadMore:this.state.hasMore?this._onMore:function(){},hasMore:this.state.hasMore,loader:o.a.createElement("div",{key:0,className:"row col s12 loader",style:{height:"250px"}}," ",o.a.createElement(p.a,null)),initialLoad:!1},o.a.createElement("ul",{className:"row"},o.a.createElement(l.TransitionGroup,{component:null},this.props.children.map(function(e,t){return e&&o.a.createElement(u.c,{key:"item_".concat(t)},e)}))))}},{key:"_onMore",value:function(){var e=this,n=this.page++*t.BATCH_SIZE;this.props.loadMore(n,function(){e.setState({hasMore:!0}),e._onMore()}).then(function(n){e._isMounted&&(n&&0!==n.length&&n.length%t.BATCH_SIZE==0||e.setState({hasMore:!1}))}).catch(function(t){e._isMounted&&(e.setState({hasMore:!1}),console.error("Infinite loading error",t))})}}])&&m(n.prototype,r),a&&m(n,a),t}();y(v,"BATCH_SIZE",24),y(v,"propTypes",{loadMore:i.a.func.isRequired,className:i.a.string})},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(22);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3m-2 16H5V5h7V3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7z"}))};h.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var d,b,y,v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,f(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.thumbUrl?this.props.thumbUrl.replace("$1",""):"/assets/images/default/web-element.png",t=this.props.postAttachmentStyle,n={onClick:this.props.onClick,target:this.props.openInNewTab?"_blank":t?void 0:"_self"},r=o.a.createElement("div",{className:"popup-preview ".concat(t?"":"card-panel ","row grey-text text-darken-3 valign-wrapper")},o.a.createElement("div",{className:"col ".concat(t?"s5 m4 post-link-thumb":"s5 m4 l3")},o.a.createElement("img",{className:"thumbnail",alt:this.props.title||"Popup Preview",src:e})),o.a.createElement("div",{className:"col ".concat(t?"s7 m8":"s7 m8 l9")},o.a.createElement("h3",{className:"truncate"},this.props.title," ",this.props.openInNewTab&&o.a.createElement(h,{className:"left icon-container icon small no-stretch"})),this.props.provider&&o.a.createElement("div",{className:"truncate"},this.props.provider),this.props.description&&o.a.createElement("div",{className:"truncate"},this.props.description),this.props.url&&!this.props.hideUrl&&o.a.createElement("div",{className:"truncate light-blue-text text-darken-1",style:{fontSize:"95%"}},this.props.url)));return this.props.external?o.a.createElement("a",l({href:this.props.url},n),r):o.a.createElement(s.b,l({to:this.props.url},n),r)}}])&&u(n.prototype,r),a&&u(n,a),t}();d=v,b="propTypes",y={title:i.a.string.isRequired,url:i.a.string.isRequired,thumbUrl:i.a.string,description:i.a.string,hostName:i.a.string,provider:i.a.string,openInNewTab:i.a.bool,hideUrl:i.a.bool,postAttachmentStyle:i.a.bool,external:i.a.bool},b in d?Object.defineProperty(d,b,{value:y,enumerable:!0,configurable:!0,writable:!0}):d[b]=y},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(94),i=n(1),s=n.n(i),c=n(611),l=n(55),u=n(620),p=n(4);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M7 10l5 5 5-5H7z"}))};y.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var v=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M10 17l5-5-5-5v10z"}))};v.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var g,_,w,E=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=h(t).call(this,e))||"object"!==f(o)&&"function"!=typeof o?d(r):o)._open=n._open.bind(d(n)),n._onSelect=n._onSelect.bind(d(n)),n._isEnabled=n._isEnabled.bind(d(n)),n._isExpansionEnabled=n._isExpansionEnabled.bind(d(n)),n.state={opened:e.opened||e.openedIds.has(e.folder.id)||!1},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this,n=this.props.selectedId===this.props.folder.id;return o.a.createElement("div",{className:"folder-tree"},o.a.createElement("div",{className:"folder-tree-header".concat(n?" selected":"")},o.a.createElement("div",{onClick:this._open},this.state.opened?o.a.createElement(y,null):o.a.createElement(v,null)),o.a.createElement("div",{onClick:this._onSelect,className:"folder-title".concat(this._isEnabled()?"":" secondary-text")},this.props.folder.id!==c.a?this.props.folder.title:o.a.createElement(p.b,{id:"profile.materials"}))),this.state.opened&&this.props.folder.children&&this.props.folder.children.length>0?o.a.createElement("ul",{className:"folder-tree-children"},this.props.folder.children.map(function(n){return o.a.createElement("li",{key:n.id},o.a.createElement(t,{folder:n,selectedId:e.props.selectedId,onSelect:e.props.onSelect,openedIds:e.props.openedIds,disableIds:e.props.disableIds,disableExpansionIds:e.props.disableExpansionIds}))})):null)}},{key:"_isEnabled",value:function(){var e=this;return void 0===this.props.disableIds.find(function(t){return t===e.props.folder.id})}},{key:"_isExpansionEnabled",value:function(){var e=this;return void 0===this.props.disableExpansionIds.find(function(t){return t===e.props.folder.id})}},{key:"_onSelect",value:function(e){e.preventDefault(),this.props.onSelect&&this.props.onSelect(this.props.folder)}},{key:"_open",value:function(e){e.preventDefault(),this._isExpansionEnabled()&&this.setState({opened:!this.state.opened})}}])&&m(n.prototype,r),a&&m(n,a),t}();function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}g=E,_="propTypes",w={folder:s.a.object.isRequired,openedIds:s.a.instanceOf(Set).isRequired,selectedId:s.a.string,onSelect:s.a.func,opened:s.a.bool,disableIds:s.a.array.isRequired,disableExpansionIds:s.a.array.isRequired},_ in g?Object.defineProperty(g,_,{value:w,enumerable:!0,configurable:!0,writable:!0}):g[_]=w;var P=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=k(t).call(this,e))||"object"!==O(o)&&"function"!=typeof o?S(r):o)._setSelectedFolder=n._setSelectedFolder.bind(S(n)),n._isDisabled=n._isDisabled.bind(S(n)),n.state={selectedFolder:{id:e.sourceId,title:void 0}},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"move-dialog-form"},o.a.createElement("div",{className:"modal-head"},o.a.createElement(p.b,{id:"move-dialog.title"})),o.a.createElement("div",{className:"modal-content".concat(null!==this.props.tree?" loaded":"")},o.a.createElement("div",{className:"folder-tree-wrapper"},o.a.createElement(E,{folder:this.props.tree,onSelect:this._setSelectedFolder,selectedId:this.state.selectedFolder.id,opened:!0,openedIds:this.props.openedIds,disableIds:this.props.disableIds,disableExpansionIds:this.props.disableExpansionIds}))),o.a.createElement("div",{className:"modal-footer"},o.a.createElement("a",{className:"modal-action modal-close btn-flat"},o.a.createElement(p.b,{id:"move-dialog.cancel"})),o.a.createElement("a",{className:"modal-action btn".concat(this._isDisabled()?" disabled":""),onClick:function(){return e.props.onMove(e.state.selectedFolder)}},o.a.createElement(p.b,{id:"move-dialog.move"}))))}},{key:"_isDisabled",value:function(){var e=this;return void 0!==this.props.disableIds.find(function(t){return t===e.state.selectedFolder.id})}},{key:"_setSelectedFolder",value:function(e){this.setState({selectedFolder:e})}}])&&j(n.prototype,r),a&&j(n,a),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(P,"propTypes",{tree:s.a.object.isRequired,openedIds:s.a.instanceOf(Set).isRequired,onMove:s.a.func.isRequired,sourceId:s.a.string,disableIds:s.a.array.isRequired,disableExpansionIds:s.a.array.isRequired});var C=n(71),T=n(632),D=n(616),N=n(38),M=n(622),A=void 0;function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=F(t).call(this,e))||"object"!==R(o)&&"function"!=typeof o?I(r):o)._onMove=n._onMove.bind(I(n)),n._onCloseAndRefresh=n._onCloseAndRefresh.bind(I(n)),n._onFolderCreated=n._onFolderCreated.bind(I(n)),n._isFolderMove=n._isFolderMove.bind(I(n)),n._isMounted=!1,n.state={tree:null,source:n.props.source,openedIds:new Set,hasFolders:null},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this._isMounted=!0,this._fetchData()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return o.a.createElement(a.a,{endingTop:"4%",onClose:this.props.onClose,className:this.state.hasFolders?"move-dialog":"folder-create-modal"},null!==this.state.hasFolders?this.state.hasFolders?o.a.createElement(P,{tree:this.state.tree,sourceId:this.state.source.id,openedIds:this.state.openedIds,onMove:this._onMove,disableIds:this._isFolderMove()?[this.props.movable.id,this.state.source.id]:[this.state.source.id],disableExpansionIds:this._isFolderMove()?[this.props.movable.id]:[]}):o.a.createElement(T.c,{folder_id:null,onFolderCreated:this._onFolderCreated,onClose:this.props.onClose}):o.a.createElement(C.a,null))}},{key:"_calculateOpenedIds",value:function(e){for(var t=[e.tree],n={},r=e.source.id,o=function(){var e=t.shift();if(e.id===r)return"break";e.children&&e.children.forEach(function(r){t.push(r),n[r.id]=e.id})};t.length>0;){if("break"===o())break}for(var a=new Set,i=r;i;)i=n[i],a.add(i);this._isMounted&&this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){U(e,t,n[t])})}return e}({},e,{openedIds:a}))}},{key:"_fetchData",value:function(){var e=this,t=[Object(c.f)(this.context.store,this.context.store.getState().userState.user.id,null,{depth:-1})],n=this.props.movable instanceof N.b&&void 0===this.props.source;n&&t.push(Object(l.f)(this.context.store,this.props.movable.id)),Promise.all(t).then(function(t){var r=L(t,2),o=r[0],a=r[1];if(o.children&&o.children.length>0){var i={tree:o,hasFolders:!0,source:n?a:e.props.source};e._calculateOpenedIds(i)}else e.setState({hasFolders:!1})})}},{key:"_isFolderMove",value:function(){return this.props.movable instanceof D.a}},{key:"_onCloseAndRefresh",value:function(){this.props.onClose&&this.props.onClose(),this.props.onRefresh&&this.props.onRefresh(u.c,!this.state.hasFolders)}},{key:"_onFolderCreated",value:function(e){this._onMove(e)}},{key:"_onMove",value:function(e){this.props.movable.moveTo(e,this.context.store,this.props.intl,this._onCloseAndRefresh,this.state.source)}}])&&z(n.prototype,r),i&&z(n,i),t}();U(q,"propTypes",{movable:s.a.shape({moveTo:s.a.func.isRequired,title:s.a.string}).isRequired,source:function(e,t){for(var n=s.a.shape({id:Object(M.a)(s.a.string).isRequired,title:Object(M.a)(s.a.string).isRequired}),r=e.movable instanceof D.a?n.isRequired:n,o=arguments.length,a=new Array(o>2?o-2:0),i=2;i<o;i++)a[i-2]=arguments[i];return r.call.apply(r,[A,e,t].concat(a))},onClose:s.a.func,onRefresh:s.a.func}),U(q,"contextTypes",{store:s.a.object});t.a=Object(p.h)(q)},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(4);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M15 5h2V3h-2m0 18h2v-2h-2M11 5h2V3h-2m8 2h2V3h-2m0 6h2V7h-2m0 14h2v-2h-2m0-6h2v-2h-2m0 6h2v-2h-2M3 5h2V3H3m0 6h2V7H3m0 6h2v-2H3m0 6h2v-2H3m0 6h2v-2H3m8 2h2v-2h-2m-4 2h2v-2H7M7 5h2V3H7v2z"}))};h.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,p(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",{className:"flash"},o.a.createElement("div",{className:"x-d-x x-center mb-3 pt-6 w-100"},o.a.createElement("div",{className:"bg-gray-light brad-circle p-3_5 d-ib"},o.a.createElement(this.props.Icon,{className:"icon-l fc-black-disabled"}))),o.a.createElement("div",{className:"ta-c mb-1"},o.a.createElement("div",{className:"fw-600"},this.props.title)),o.a.createElement("div",{className:"ta-c mb-3"},o.a.createElement("div",{className:"tc-black-medium h5"},this.props.subtitle)),o.a.createElement("div",{className:"w-100 ta-c"},this.props.children))}}])&&l(n.prototype,r),a&&l(n,a),t}();function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}m(d,"propTypes",{title:i.a.string.isRequired,subtitle:i.a.string.isRequired,Icon:i.a.func}),m(d,"defaultProps",{Icon:h}),n.d(t,"a",function(){return j});var w,E,O,j=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),v(this,g(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"render",value:function(){var e=this;return o.a.createElement(s.b,{id:this.props.titleKey},function(t){return o.a.createElement(s.b,{id:e.props.subtitleKey,values:{$1:e.props.subtitleVariable1}},function(n){return o.a.createElement(d,{title:t,subtitle:n,Icon:e.props.Icon},e.props.children)})})}}])&&y(n.prototype,r),a&&y(n,a),t}();w=j,E="propTypes",O={titleKey:i.a.string.isRequired,subtitleKey:i.a.string.isRequired,subtitleVariable1:i.a.string,Icon:i.a.func},E in w?Object.defineProperty(w,E,{value:O,enumerable:!0,configurable:!0,writable:!0}):w[E]=O},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(4),c=n(617),l=n(38),u=n(27),p=n(621),f=n(23),m=n(24),h=n(46),d=n(55);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M12.1 18.55l-.1.1-.11-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04 1 3.57 2.36h1.86C13.46 6 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05M16.5 3c-1.74 0-3.41.81-4.5 2.08C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.41 2 8.5c0 3.77 3.4 6.86 8.55 11.53L12 21.35l1.45-1.32C18.6 15.36 22 12.27 22 8.5 22 5.41 19.58 3 16.5 3z"}))};E.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var O=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.27 2 8.5 2 5.41 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.08C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53L12 21.35z"}))};O.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var j=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),v(this,g(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return this.props.materialRights.isFavorite&&-1!==this.context.store.getState().userState.user.id?o.a.createElement("li",null,o.a.createElement("a",{onClick:this._onClick(!1)},o.a.createElement(O,{className:"icon left no-stretch"}),o.a.createElement(s.b,{id:"materialcard.unfavorite"}))):o.a.createElement("li",null,o.a.createElement("a",{onClick:this._onClick(!0)},o.a.createElement(E,{className:"icon left no-stretch"}),o.a.createElement(s.b,{id:"materialcard.favorite"})))}},{key:"_onClick",value:function(e){var t=this;return function(){if(t.context.store.getState().userState.user.id>-1){var n=t.props.material;Object(d.m)(t.context.store,n.id,e).then(function(){t.props.onChange(),Object(u.c)(t.context.store,{id:"materialcard.message.".concat(e?"favorited":"unfavorited"),values:{$1:n.title}})}).catch(function(r){console.error("favorite action failed",r),Object(u.c)(t.context.store,{id:"materialcard.error.".concat(e?"favorite":"unfavorite"),values:{$1:n.title}})})}else Object(h.g)(t.context.store).then(t._onClick(e))}}}])&&y(n.prototype,r),a&&y(n,a),t}();w(j,"contextTypes",{store:i.a.object}),w(j,"propTypes",{material:i.a.instanceOf(l.b).isRequired,materialRights:i.a.object.isRequired,onChange:i.a.func.isRequired});var k=n(620);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){M(e,t,n[t])})}return e}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return G});var A=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91s-1.31-2.92-2.92-2.92z"}))};A.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var R=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M22 9.5c0-1.3-1.1-2.4-2.3-2.4h-.3c-1.3-1.8-3.4-2.8-5.7-2.9-.4-.8-1.2-1.4-2.1-1.4-1.3 0-2.3 1-2.3 2.3-.5.2-.9.4-1.3.7-1.2.7-2.2 1.7-3 2.8-.2-.1-.4-.1-.7-.1C3 8.5 2 9.5 2 10.8c0 1 .6 1.8 1.4 2.1-.1 1.3.2 2.7.9 3.8.3.4.6.8.9 1.1-.1.2-.1.5-.1.8 0 1.3 1.1 2.3 2.4 2.3.8 0 1.5-.4 2-1.1 1.7.3 3.6 0 5.4-.8.4.4 1 .7 1.6.7 1.3 0 2.3-1.1 2.3-2.4 0-.4-.1-.8-.3-1.1 1.2-1.4 1.9-3.1 2-4.7.9-.2 1.5-1 1.5-2zm-12.2 9c-.1-1.2-1.1-2.1-2.3-2.1-.4 0-.8.1-1.2.3-.3-.2-.5-.4-.6-.7-.5-.9-.7-1.9-.7-2.9 1-.3 1.7-1.2 1.7-2.3 0-.5-.2-1-.5-1.4.6-.9 1.5-1.7 2.6-2.4.3-.2.6-.3.8-.4.4.6 1.1 1 1.9 1 1.1 0 2-.7 2.3-1.7 1.7.1 3.1.8 4.1 2.1-.4.4-.6.9-.6 1.5 0 1 .6 1.9 1.6 2.2-.1 1.3-.7 2.5-1.6 3.6-.3-.1-.5-.2-.8-.2-1.3 0-2.3 1.1-2.3 2.3v.2c-1.5.8-3.1 1.1-4.4.9z"}))};R.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var L=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"}))};L.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var z=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M19 21H8V7h11m0-2H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m-3-4H4c-1.1 0-2 .9-2 2v14h2V3h12V1z"}))};z.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var F=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M13 9h-2V7h2m0 10h-2v-6h2m-1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"}))};F.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var I=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"}))};I.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var B=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M20 6h-8l-2-2H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm-5.5 12v-3h-4v-4h4V8l5 5z"}))};B.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var U=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M14 20.94V23h2.06l6.06-6.07-2.05-2.05L14 20.94zM23.7 14.58l-1.28-1.28a.53.53 0 0 0-.38-.17.56.56 0 0 0-.39.17l-1 1 2.05 2.05 1-1a.53.53 0 0 0 0-.77zM12 2a10 10 0 0 0 0 20v-2.62l9.71-9.72A10 10 0 0 0 12 2zm1 15h-2v-6h2zm0-8h-2V7h2z"}))};U.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var q=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M17.9 17.39c-.26-.8-1.01-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41a7.984 7.984 0 0 1 2.9 12.8M11 19.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.22.21-1.79L9 15v1c0 1.1.9 2 2 2m1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"}))};q.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var H=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=T(t).call(this,e))||"object"!==S(o)&&"function"!=typeof o?D(r):o)._onCloseDialog=n._onCloseDialog.bind(D(n)),n._onMoreClick=n._onMoreClick.bind(D(n)),n._onCopyResource=n._onCopyResource.bind(D(n)),n.state=P({},t._getEmptyStateData(),{openDialog:void 0,bookWorksheet:e.bookWorksheet,user_id:e.user_id}),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,o.a.Component),n=t,a=[{key:"_dropActions",value:function(e){e.material.dropActions(),e.bookWorksheet&&e.bookWorksheet.dropActions()}},{key:"_getEmptyStateData",value:function(){return{materialActions:void 0,worksheetActions:void 0,loadingState:0}}},{key:"getDerivedStateFromProps",value:function(e,n){return n.user_id!==e.user_id||n.bookWorksheet!==e.bookWorksheet||n.bookWorksheet&&n.bookWorksheet.id!==e.bookWorksheet.id?(t._dropActions(e),P({},t._getEmptyStateData(),{user_id:e.user_id,bookWorksheet:e.bookWorksheet})):{user_id:e.user_id,bookWorksheet:e.bookWorksheet}}}],(r=[{key:"componentDidMount",value:function(){this._mounted=!0}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(c.a,{onMoreClick:this._onMoreClick,loading:1===this.state.loadingState,moreClass:this.props.moreClass,iconClass:this.props.iconClass,spinnerClassName:this.props.spinnerClassName},this._getPopdown()),this.state.openDialog&&o.a.createElement(k.g,{openDialog:this.state.openDialog,onClose:this._onCloseDialog,material:this.props.material,book_worksheet:this.props.bookWorksheet,worksheet_rights:this.state.worksheetActions,onRefresh:this.props.onRefresh}))}},{key:"_getPopdown",value:function(){var e=this.state.materialActions;if(2===this.state.loadingState&&e.canView){var t=this.props.material,n=t.type===m.b,r=t.type===m.a,a=this.state.worksheetActions;return o.a.createElement("ul",null,this._itemFavorite(e,a),this._itemShare(e,a),this._itemPublishOrEditDetails(e),this._itemMove(e),o.a.createElement(G,{dividerTop:!0},this._itemOpenApp(t,e,a),this._itemEdit(t,n,r),this._itemCopy(t,e,n,r),this._itemBookWs(e,a),this._itemDetails(t,e,a)),o.a.createElement(G,{dividerTop:!0},this._itemDelete(e)))}}},{key:"_itemBookWs",value:function(e,t){var n=this.props.bookWorksheet;if(n)return o.a.createElement(G,{dividerTop:!0},this._itemBookWsEdit(e,t,n),this._itemBookWsCopy(n.id,t))}},{key:"_itemBookWsCopy",value:function(e,t){if(t&&t.canCopy)return o.a.createElement("li",{key:"book_ws_copy"},o.a.createElement("a",{onClick:this._onCopyResource("/material/copy/id/".concat(e))},o.a.createElement(z,{className:"icon left no-stretch"}),o.a.createElement(s.b,{id:"worksheet.copy"})))}},{key:"_itemBookWsEdit",value:function(e,t,n){var r=n&&n.creator_id!==this.props.user_id&&n.creator_id!==this.props.material.creator_id;return t.canEdit?r&&e.canEdit?o.a.createElement(V,{key:"book_ws_edit",onClick:this._onOpenDialog(k.b)}):t.isInOtherBook&&e.canEdit?o.a.createElement(V,{key:"book_ws_edit",onClick:this._onOpenDialog(k.d)}):o.a.createElement(V,{key:"book_ws_edit",onClick:W,href:"/material/edit/id/".concat(n.id)}):e.canEdit&&t.canCopy?o.a.createElement(V,{key:"book_ws_edit",onClick:W,href:t.replacewithcopyURL}):void 0}},{key:"_itemCopy",value:function(e,t,n,r){if(t.canCopy){var a=r?"/book/create/copy_id/".concat(e.id):"/material/copy/id/".concat(e.id);return o.a.createElement("li",null,o.a.createElement("a",{onClick:this._onCopyResource(a)},o.a.createElement(z,{className:"icon left no-stretch"}),o.a.createElement(s.b,{id:n?"worksheet.copy":r?"book.copy":"general.copy"})))}}},{key:"_itemDelete",value:function(e){if(e.canDelete&&!this.props.bookWorksheet)return o.a.createElement("li",{key:"mat_delete"},o.a.createElement("a",{onClick:this._onOpenDialog(k.a)},o.a.createElement(I,{className:"icon left no-stretch"}),o.a.createElement(s.b,{id:"general.delete"})))}},{key:"_itemDetails",value:function(e,t,n){var r=n&&n.canViewDetails;if(r||t.canViewDetails)return o.a.createElement("li",null,o.a.createElement("a",{href:"/material/show/id/".concat(r?this.props.bookWorksheet.id:e.id),onClick:W},o.a.createElement(F,{className:"icon left no-stretch"}),o.a.createElement(s.b,{id:"materialcard.details"})))}},{key:"_itemEdit",value:function(e,t,n){if(this.state.materialActions.canEdit)return o.a.createElement("li",null,o.a.createElement("a",{href:"/material/edit/id/".concat(e.id),onClick:W},o.a.createElement(L,{className:"icon left no-stretch"}),o.a.createElement(s.b,{id:t?"worksheet.edit":n?"book.edit":"general.edit"})))}},{key:"_itemFavorite",value:function(e,t){if(t&&t.canMakeFavorite||e.canMakeFavorite)return o.a.createElement(j,{material:this.props.bookWorksheet?this.props.bookWorksheet:this.props.material,materialRights:t||e,onChange:this._onMakeFavorite.bind(this)})}},{key:"_itemMove",value:function(e){if(e.canMove)return o.a.createElement("li",null,o.a.createElement("a",{onClick:this._onOpenDialog(k.c)},o.a.createElement(B,{className:"icon left no-stretch"}),o.a.createElement(s.b,{id:"materialcard.move_to"})))}},{key:"_itemOpenApp",value:function(e,t,n){var r=t.canOpenInWebApp?t:n;if(r&&r.canOpenInWebApp){var a=t.canOpenInWebApp?e:this.props.bookWorksheet;return o.a.createElement("li",null,o.a.createElement("a",{href:"/".concat(r.webApp,"/").concat(a.id),target:"_blank"},o.a.createElement(R,{className:"icon left no-stretch"}),o.a.createElement(s.b,{id:"materialcard.openinwebapp"})))}}},{key:"_itemPublishOrEditDetails",value:function(e){return e.canPublish?o.a.createElement("li",null,o.a.createElement("a",{onClick:this._onOpenDialog(k.e)},o.a.createElement(q,{className:"icon left no-stretch"}),o.a.createElement(s.b,{id:"materialcard.publish"}))):e.canEditMetaData?o.a.createElement("li",null,o.a.createElement("a",{onClick:this._onOpenDialog(k.e)},o.a.createElement(U,{className:"icon left no-stretch"}),o.a.createElement(s.b,{id:"materialcard.edit_details"}))):void 0}},{key:"_itemShare",value:function(e,t){if(t?t.canShare:e.canShare)return o.a.createElement("li",null,o.a.createElement("a",{onClick:this._onOpenDialog(k.f)},o.a.createElement(A,{className:"icon left no-stretch"}),o.a.createElement(s.b,{id:"materialcard.share"})))}},{key:"_onCloseDialog",value:function(){this._mounted&&this.setState({openDialog:void 0})}},{key:"_onCopyResource",value:function(e){var t=this;return function(){var n;t.props.user_id>-1?(n=e,W(),window.location=n):Object(h.g)(t.context.store).then(t._onCopyResource(e))}}},{key:"_onMakeFavorite",value:function(){t._dropActions(this.props),this.setState(t._getEmptyStateData()),this.props.onRefresh&&this.props.onRefresh()}},{key:"_onMoreClick",value:function(){var e=this;this.state.loadingState||this.setState({loadingState:1}),Promise.all([this.props.material.actions,this.props.bookWorksheet&&this.props.bookWorksheet.getBookWorksheetActions(this.props.material.id)]).then(function(t){var n=x(t,2),r=n[0],o=n[1];e.setState({materialActions:r,worksheetActions:o,loadingState:2})}).catch(function(t){console.error("more action failed",t),Object(u.c)(e.context.store,{id:"materialcard.no_rights"}),e.setState({loadingState:3})})}},{key:"_onOpenDialog",value:function(e){var t=this;return function(){return t.setState({openDialog:e})}}}])&&C(n.prototype,r),a&&C(n,a),t}();M(H,"contextTypes",{store:i.a.object}),M(H,"propTypes",{material:i.a.instanceOf(l.b).isRequired,bookWorksheet:i.a.instanceOf(l.b),user_id:i.a.number.isRequired,moreClass:i.a.string,iconClass:i.a.string,onRefresh:i.a.func,spinnerClassName:i.a.string});t.b=Object(f.b)(function(e){return{user_id:e.userState.user.id}})(H);function W(){Object(p.d)(window.location)}function V(e){return o.a.createElement("li",null,o.a.createElement("a",e,o.a.createElement(L,{className:"icon left no-stretch"}),o.a.createElement(s.b,{id:"worksheet.edit"})))}function G(e){var t=!1;return t=Array.isArray(e.children)?e.children.filter(function(e){return e}).length>0:!!e.children,o.a.createElement(o.a.Fragment,null,e.dividerTop&&t&&o.a.createElement("li",{className:"divider"}),e.children,e.dividerBottom&&t&&o.a.createElement("li",{className:"divider"}))}G.propTypes={dividerTop:i.a.bool,dividerBottom:i.a.bool}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=s(o),i=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.scrollListener=n.scrollListener.bind(n),n.eventListenerOptions=n.eventListenerOptions.bind(n),n.mousewheelListener=n.mousewheelListener.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}},{key:"componentDidUpdate",value:function(){if(this.props.isReverse&&this.loadMore){var e=this.getParentElement(this.scrollComponent);e.scrollTop=e.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener(),this.detachMousewheelListener()}},{key:"isPassiveSupported",value:function(){var e=!1,t={get passive(){e=!0}};try{document.addEventListener("test",null,t),document.removeEventListener("test",null,t)}catch(e){}return e}},{key:"eventListenerOptions",value:function(){var e=this.props.useCapture;return this.isPassiveSupported()&&(e={useCapture:this.props.useCapture,passive:!0}),e}},{key:"setDefaultLoader",value:function(e){this.defaultLoader=e}},{key:"detachMousewheelListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}},{key:"detachScrollListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.getParentElement(this.scrollComponent)),e.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}},{key:"getParentElement",value:function(e){var t=this.props.getScrollParent&&this.props.getScrollParent();return null!=t?t:e&&e.parentNode}},{key:"filterProps",value:function(e){return e}},{key:"attachScrollListener",value:function(){var e=this.getParentElement(this.scrollComponent);if(this.props.hasMore&&e){var t=window;!1===this.props.useWindow&&(t=e),t.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),t.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),t.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}}},{key:"mousewheelListener",value:function(e){1!==e.deltaY||this.isPassiveSupported()||e.preventDefault()}},{key:"scrollListener",value:function(){var e=this.scrollComponent,t=window,n=this.getParentElement(e),r=void 0;if(this.props.useWindow){var o=document.documentElement||document.body.parentNode||document.body,a=void 0!==t.pageYOffset?t.pageYOffset:o.scrollTop;r=this.props.isReverse?a:this.calculateOffset(e,a)}else r=this.props.isReverse?n.scrollTop:e.scrollHeight-n.scrollTop-n.clientHeight;r<Number(this.props.threshold)&&e&&null!==e.offsetParent&&(this.detachScrollListener(),this.beforeScrollHeight=n.scrollHeight,this.beforeScrollTop=n.scrollTop,"function"==typeof this.props.loadMore&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}},{key:"calculateOffset",value:function(e,t){return e?this.calculateTopPosition(e)+(e.offsetHeight-t-window.innerHeight):0}},{key:"calculateTopPosition",value:function(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}},{key:"render",value:function(){var e=this,t=this.filterProps(this.props),n=t.children,r=t.element,o=t.hasMore,i=(t.initialLoad,t.isReverse),s=t.loader,c=(t.loadMore,t.pageStart,t.ref),l=(t.threshold,t.useCapture,t.useWindow,t.getScrollParent,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["children","element","hasMore","initialLoad","isReverse","loader","loadMore","pageStart","ref","threshold","useCapture","useWindow","getScrollParent"]));l.ref=function(t){e.scrollComponent=t,c&&c(t)};var u=[n];return o&&(s?i?u.unshift(s):u.push(s):this.defaultLoader&&(i?u.unshift(this.defaultLoader):u.push(this.defaultLoader))),a.default.createElement(r,l,u)}}]),t}();c.propTypes={children:i.default.node.isRequired,element:i.default.node,hasMore:i.default.bool,initialLoad:i.default.bool,isReverse:i.default.bool,loader:i.default.node,loadMore:i.default.func.isRequired,pageStart:i.default.number,ref:i.default.func,getScrollParent:i.default.func,threshold:i.default.number,useCapture:i.default.bool,useWindow:i.default.bool},c.defaultProps={element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null},t.default=c,e.exports=t.default},function(e,t,n){var r=n(651),o=n(653),a=n(654),i=Object.create(null),s="onloadid"+(new Date%9e6).toString(36),c="data-"+s,l=0;if(o&&o.MutationObserver){var u=new MutationObserver(function(e){if(!(Object.keys(i).length<1))for(var t=0;t<e.length;t++)e[t].attributeName!==c?(d(e[t].removedNodes,m),d(e[t].addedNodes,f)):h(e[t],f,m)});r.body?p(u):r.addEventListener("DOMContentLoaded",function(e){p(u)})}function p(e){e.observe(r.documentElement,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[c]})}function f(e,t){i[e][0]&&0===i[e][2]&&(i[e][0](t),i[e][2]=1)}function m(e,t){i[e][1]&&1===i[e][2]&&(i[e][1](t),i[e][2]=0)}function h(e,t,n){var r=e.target.getAttribute(c);!function(e,t){return!(!e||!t)&&i[e][3]===i[t][3]}(e.oldValue,r)?(i[e.oldValue]&&n(e.oldValue,e.target),i[r]&&t(r,e.target)):i[r]=i[e.oldValue]}function d(e,t){for(var n=Object.keys(i),r=0;r<e.length;r++){if(e[r]&&e[r].getAttribute&&e[r].getAttribute(c)){var o=e[r].getAttribute(c);n.forEach(function(n){o===n&&t(n,e[r])})}e[r].childNodes.length>0&&d(e[r].childNodes,t)}}e.exports=function e(t,n,o,s){return a(r.body,"on-load: will not work prior to DOMContentLoaded"),n=n||function(){},o=o||function(){},t.setAttribute(c,"o"+l),i["o"+l]=[n,o,0,s||e.caller],l+=1,t},e.exports.KEY_ATTR=c,e.exports.KEY_ID=s},function(e,t,n){(function(t){var r,o=void 0!==t?t:"undefined"!=typeof window?window:{},a=n(652);"undefined"!=typeof document?r=document:(r=o["__GLOBAL_DOCUMENT_CACHE@4"])||(r=o["__GLOBAL_DOCUMENT_CACHE@4"]=a),e.exports=r}).call(this,n(87))},function(e,t){},function(e,t,n){(function(t){var n;n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=n}).call(this,n(87))},function(e,t){function n(e,t){if(!e)throw new Error(t||"AssertionError")}n.notEqual=function(e,t,r){n(e!=t,r)},n.notOk=function(e,t){n(!e,t)},n.equal=function(e,t,r){n(e==t,r)},n.ok=n,e.exports=n},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"g",function(){return f}),n.d(t,"f",function(){return m}),n.d(t,"d",function(){return h});var r=n(11),o=n(678);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i="err_no_topic",s="err_empty_topic",c="math";function l(e){return r.b(e,"/topics",{language:e.getState().userState.user.lang_ui,embed:"map,languages",skipErrors:[s]}).then(function(e){return{tree:p(e.map[c]),languages:e.languages}})}function u(e){return Object(o.a)(e,{type:"topic"})}function p(e){var t=new Map;return e.map(function(e){var n=e.source,r=e.target,o=t.get(n)||{id:n},a=t.get(r)||{id:r};return t.set(n,o),t.set(r,a),{source:o,target:a}})}function f(e){var t=new Map;return e.map(function(e){var n=e.source,r=e.target,o=t.get(n.id)||n,a=t.get(r.id)||r;return t.set(o.id,o),t.set(a.id,a),{source:o,target:a}})}function m(e,t,n){var o=e.getState().userState.user.lang_ui;return r.b(e,"/topics/".concat(t),{language:o,embed:"interlinking,languages".concat(n?",map":""),skipErrors:[i,s]}).then(function(e){return n?{tree:p(e.map[c]),languages:e.languages,parents:e.parents,topic:e.topic,interlinking:e.interlinking}:e})}function h(e,t,n){var o=e.getState().userState.user.lang_ui;return r.b(e,"/topics/".concat(t,"/materials"),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}({language:o},n,{embed:"creator",skipErrors:[s]}))}},function(e,t,n){"use strict";n.d(t,"a",function(){return O});var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(627),c=n.n(s),l=n(71),u=n(4),p=n(5),f=n(96),m=n(170),h=n(97),d=n(25);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=g(t).call(this,e))||"object"!==b(o)&&"function"!=typeof o?_(r):o)._loadFunc=n._loadFunc.bind(_(n)),n.state={data:e.data||[],hasMore:!e.data||e.data.length===t.BATCH_SIZE,description:t._createDescription(e),optionParams:e.optionParams,slug:e.slug},n.page=0,n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,o.a.Component),n=t,a=[{key:"_createDescription",value:function(e){return e.description||Object(d.c)(e.intl,e.title)}},{key:"getDerivedStateFromProps",value:function(e,n){return n.optionParams!==e.optionParams||n.slug!==e.slug?{description:t._createDescription(e),data:null,hasMore:!0,optionParams:e.optionParams,slug:e.slug}:{description:t._createDescription(e)}}}],(r=[{key:"componentDidMount",value:function(){this._mounted=!0,!this.props.data&&p.a&&this._loadFunc()}},{key:"componentDidUpdate",value:function(){null===this.state.data&&(this.page=0,this._loadFunc(this.page))}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){var e=this.props.intl.formatMessage,t=this.props.title?e({id:this.props.title},this.props.titleValues):void 0,n=this.state.description?e({id:this.state.description}):void 0,r=this.state.data||[],a=[t,n,this.props.optionElems].some(function(e){return e});return o.a.createElement("div",{className:"row more"},!this.props.skipMeta&&o.a.createElement(h.c,{title:t,description:n,alternateLangs:this.props.alternateLangs}),a&&o.a.createElement("div",{className:"col s12 more-header"},o.a.createElement("div",{className:"title left col"},t&&o.a.createElement("h1",null,t),n&&o.a.createElement("h2",{className:"secondary-text"},n)),this.props.optionElems),this.state.hasMore||r.length?o.a.createElement(c.a,{className:"col s12",loadMore:this._loadFunc,hasMore:this.state.hasMore,threshold:500,initialLoad:!1,loader:o.a.createElement("div",{key:0,className:"row col s12 loader",style:{height:"250px"}}," ",o.a.createElement(l.a,null))},o.a.createElement(f.TransitionGroup,{component:"ul"},r.map(function(e,t){return e&&o.a.createElement(m.c,{key:"card_".concat(t)},e)}))):this.props.emptyElems)}},{key:"_addData",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.state.data?y(this.state.data):[];e.map(function(e,t){r[n+t]=e}),this.setState({data:r,hasMore:e.length===t.BATCH_SIZE})}},{key:"_loadFunc",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props,o=this.page++*t.BATCH_SIZE;r.loadPromise(o,r.optionParams||{},o>0?function(){return n._loadFunc()}:void 0).then(function(e){n._mounted&&(e?n._addData(e,o):n.setState({hasMore:!1}))}).catch(function(e){return n._mounted&&(n.page--,n.setState({hasMore:!1}),console.error("Infinite loading error",e)),e})}}])&&v(n.prototype,r),a&&v(n,a),t}();E(O,"propTypes",{loadPromise:i.a.func.isRequired,title:i.a.string,titleValues:i.a.object,description:i.a.string,data:i.a.array,optionElems:i.a.node,optionParams:i.a.object,alternateLangs:i.a.array,skipMeta:i.a.bool,emptyElems:i.a.node,slug:i.a.string}),E(O,"BATCH_SIZE",24),t.b=Object(u.h)(O)},function(e,t,n){var r=n(796),o=n(801);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},function(e,t,n){"use strict";e.exports=function(e){var t={};t.src_Any=n(659).source,t.src_Cc=n(660).source,t.src_Z=n(661).source,t.src_P=n(662).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><｜]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><｜]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|[><｜]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|[><｜]|\\(|"+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},function(e,t){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},function(e,t){e.exports=/[\0-\x1F\x7F-\x9F]/},function(e,t){e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},function(e,t){e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(22),c=n(664),l=n(665),u=n(4);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b,y,v,g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,h(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.creator,t=this.props.postedTo;return o.a.createElement("div",{className:"post-title-bar"},o.a.createElement(s.b,{to:e.profile,className:"post-author-img left",title:e.displayname},o.a.createElement("img",{className:"circle",alt:e.displayname,src:e.avatar})),o.a.createElement("div",{className:"post-title-bar-content"},o.a.createElement("div",{className:"post-author",dir:"auto"},o.a.createElement(s.b,{to:e.profile,className:"title left truncate"},e.displayname),t?o.a.createElement("div",{className:"post-location truncate"},o.a.createElement("div",{className:"post-arrow"},o.a.createElement("svg",{viewBox:"0 0 48 48",height:"100%",width:"100%"},o.a.createElement("path",{d:"M20 14l10 10-10 10z"}))),t.url?o.a.createElement("a",{href:t.url,className:"ggb-teal-text truncate"},t.translation_key?o.a.createElement(u.b,{id:t.translation_key}):t.title):o.a.createElement("span",{className:"grey-text truncate"},t.translation_key?o.a.createElement(u.b,{id:t.translation_key}):t.title)):null),this.props.date_publish?o.a.createElement("div",{className:"post-date"},o.a.createElement(l.a,{date_time:this.props.date_publish,link_url:this.props.post_link})):null),o.a.createElement(c.a,{actions:this.props.actions,onEdit:this.props.onEdit,onDelete:this.props.onDelete}))}}])&&f(n.prototype,r),a&&f(n,a),t}();b=g,y="propTypes",v={creator:i.a.object.isRequired,date_publish:i.a.oneOfType([i.a.string,i.a.number]),post_link:i.a.string,postedTo:i.a.shape({translation_key:i.a.string,title:i.a.string,url:i.a.string}),actions:i.a.object,onEdit:i.a.func,onDelete:i.a.func},y in b?Object.defineProperty(b,y,{value:v,enumerable:!0,configurable:!0,writable:!0}):b[y]=v},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(617),c=n(4);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h,d,b,y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,f(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return this.props.actions&&(this.props.actions.canEdit||this.props.actions.canDelete)?o.a.createElement(s.a,{loading:!1,moreClass:"small"},o.a.createElement("ul",null,this.props.actions.canEdit&&o.a.createElement("li",null,o.a.createElement("a",{onClick:this.props.onEdit,className:"post-edit"},o.a.createElement(c.b,{id:"general.edit"}))),this.props.actions.canDelete&&o.a.createElement("li",null,o.a.createElement("a",{onClick:this.props.onDelete,className:"post-delete"},o.a.createElement(c.b,{id:"general.delete"}))))):null}}])&&u(n.prototype,r),a&&u(n,a),t}();h=y,d="propTypes",b={actions:i.a.shape({canEdit:i.a.bool,canDelete:i.a.bool}),onEdit:i.a.func,onDelete:i.a.func},d in h?Object.defineProperty(h,d,{value:b,enumerable:!0,configurable:!0,writable:!0}):h[d]=b},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(22),c=n(4),l=n(5);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d,b,y,v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,m(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"render",value:function(){var e=this,t=new Date(1e3*this.props.date_time),n=this.props.intl,r=n.formatDate,a=n.formatTime,i=l.a&&(new Date-t)/1e3/60/60/24<7?c.c:c.a,u=this.props.link_url?s.b:"span";return o.a.createElement(i,{value:t},function(n){return o.a.createElement(u,{className:"grey-text darken-1",to:e.props.link_url,title:r(t)+", "+a(t)},n)})}}])&&p(n.prototype,r),a&&p(n,a),t}();d=v,b="propTypes",y={date_time:i.a.oneOfType([i.a.string,i.a.number]).isRequired,link_url:i.a.string},b in d?Object.defineProperty(d,b,{value:y,enumerable:!0,configurable:!0,writable:!0}):d[b]=y,t.a=Object(c.h)(v)},function(e,t,n){"use strict";function r(){return n.e(80).then(n.bind(null,738))}function o(e){var t=!0;return r().then(function(n){var r=n.getService;return t=!1,e(r)}).catch(function(e){return t?a(e):Promise.reject(e)})}n.d(t,"b",function(){return o});var a=function(e){return console.warn("Live system ran into following problem: ",e),function(){}};t.a=function(e){var t=!0;r().then(function(n){var r=n.default;return t=!1,e(r)}).catch(function(e){return t?a(e):Promise.reject(e)})}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(4),c=n(663),l=n(23),u=n(668),p=n(669),f=n(670),m=n(674),h=n(94),d=n(71);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=Object(s.g)({public:{id:"post.public"}}),O=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=v(t).call(this))||"object"!==b(o)&&"function"!=typeof o?g(r):o)._addAttachment=n._addAttachment.bind(g(n)),n._removeAttachment=n._removeAttachment.bind(g(n)),n._setAttachmentPending=n._setAttachmentPending.bind(g(n)),n._changeText=n._changeText.bind(g(n)),n._onDropFiles=n._onDropFiles.bind(g(n)),n._onSave=n._onSave.bind(g(n)),n.state={postText:e.text||"",attachments:e.attachments&&e.attachments.length>0?e.attachments:[!1],err_empty_post:!1,inProgress:!1,focused:!1,showModal:!0},n._invalidUrls="",n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,m["a"]),n=t,(r=[{key:"componentDidMount",value:function(){this.setState({focused:!0})}},{key:"render",value:function(){var e=this.props.intl.formatMessage,t=this.state.attachments[0];return this.state.showModal&&o.a.createElement(h.a,{id:"post_modal",className:"medium",onClose:this.props.onClose},o.a.createElement(u.a,{dropMessageKey:"general.drag_message",onFilesDrop:this._onDropFiles,onTextDrop:this._addAttachment,active:!1===t&&!this.state.inProgress},o.a.createElement("div",null,o.a.createElement("div",{className:"post"},o.a.createElement("div",{className:"post-card"},o.a.createElement(c.a,{creator:this.props.creator,postedTo:{title:e(E.public)}}),o.a.createElement(p.a,{text:this.state.postText||"",placeholder:this.props.placeholder||{id:"post.placeholder"},attachmentEnabled:!1===t,onAddAttachment:this._addAttachment,onChangeText:this._changeText,disabled:this.state.inProgress,emptyPostError:this.state.err_empty_post,focused:this.state.focused,setAttachmentPending:this._setAttachmentPending}))),o.a.createElement(f.a,{attachment:t,onRemoveAttachment:this._removeAttachment}),o.a.createElement("div",{className:"divider"}),o.a.createElement("div",{className:"modal-footer"},this.state.inProgress&&o.a.createElement(d.a,{className:"small",style:{display:"inline-block",width:"auto",height:"auto"}}),o.a.createElement("a",{className:"modal-action modal-close btn-flat"},o.a.createElement(s.b,{id:"general-dialog.cancel"})),o.a.createElement("a",{onClick:this._onSave,className:"modal-action btn",disabled:this.state.inProgress},o.a.createElement(s.b,{id:this.props.editing?"general.save":"post-dialog.post"}))))))||null}},{key:"_onSave",value:function(){var e=this;if(!0!==this.state.attachments[0]){var t=0===this.state.postText.length&&!1===this.state.attachments[0];if(this.setState({err_empty_post:t,inProgress:!t}),!t){var n=this.state.attachments[0];this.props.onReady({text:this.state.postText,attachments:!0!==n&&!1!==n?[{id:n.id,type:n.id?void 0:n.type,value:n.id?void 0:n.value.url||n.value.id}]:void 0}).then(function(){e.setState({showModal:!1})}).catch(function(t){e.setState({inProgress:!1})})}}}},{key:"_changeText",value:function(e){this.setState({postText:e})}}])&&y(n.prototype,r),a&&y(n,a),t}();w(O,"contextTypes",{store:i.a.object}),w(O,"propTypes",{onReady:i.a.func.isRequired,onClose:i.a.func,text:i.a.string,attachments:i.a.array,editing:i.a.bool,placeholder:i.a.object});t.a=Object(s.h)(Object(l.b)(function(e){return{creator:e.userState.user}})(O))},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(641),c=n(4),l=n(96),u=n(170);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=m(t).call(this,e),n=!o||"object"!==p(o)&&"function"!=typeof o?h(r):o,b(h(n),"_node",function(e){return n.node=e}),n.state={active:!1},n.dragTargets=[],n.onDrop=n.onDrop.bind(h(n)),n.onDragEnter=n.onDragEnter.bind(h(n)),n.onDragLeave=n.onDragLeave.bind(h(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,o.a.PureComponent),n=t,a=[{key:"onDragOver",value:function(e){e.preventDefault(),e.stopPropagation();try{e.dataTransfer.dropEffect="copy"}catch(e){}return!1}}],(r=[{key:"render",value:function(){return o.a.createElement("div",{ref:this._node,onDragOver:t.onDragOver,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragEnd:this.onDragLeave,onDrop:this.onDrop,className:"drop-target"},o.a.createElement(l.TransitionGroup,null,this.state.active&&this.props.active&&o.a.createElement(u.a,null,o.a.createElement("div",{className:"drop-target-overlay"},o.a.createElement("div",{className:"back ggb-purple"}),o.a.createElement("div",{className:"front white-text"},o.a.createElement(c.b,{id:this.props.dropMessageKey}))))),this.props.children)}},{key:"onDrop",value:function(e){var t=this;if(e.preventDefault(),e.stopPropagation(),this.props.active){this.dragTargets=[],this.setState({active:!1});var n=e.dataTransfer;if(n.types.indexOf&&-1!==n.types.indexOf("Files")||n.types.contains&&n.types.contains("Files"))Object(s.fetchPreviewImages)(Object(s.getDataTransferFiles)(e),!1).then(function(e){t.props.onFilesDrop&&t.props.onFilesDrop(e)}).catch(function(){});else{var r=n.getData("text/uri-list")||n.getData("text/plain");this.props.onTextDrop&&this.props.onTextDrop(r)}}}},{key:"onDragEnter",value:function(e){e.preventDefault(),this.props.active&&(-1===this.dragTargets.indexOf(e.target)&&this.dragTargets.push(e.target),this.setState({active:!0}))}},{key:"onDragLeave",value:function(e){var t=this;if(e.preventDefault(),this.props.active){if(this.dragTargets=this.dragTargets.filter(function(n){return n!==e.target&&t.node.contains(n)}),this.dragTargets.length>0)return;this.setState({active:!1})}}}])&&f(n.prototype,r),a&&f(n,a),t}();b(y,"propTypes",{dropMessageKey:i.a.string.isRequired,onFilesDrop:i.a.func,onTextDrop:i.a.func,active:i.a.bool,multipleFiles:i.a.bool}),b(y,"defaultProps",{multipleFiles:!1,active:!0})},function(e,t,n){"use strict";(function(e){var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(4),c=n(680),l=n(702);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d,b,y,v=function(t){function n(e){var t,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,(t=!(o=f(n).call(this,e))||"object"!==u(o)&&"function"!=typeof o?m(r):o)._handleTextChange=t._handleTextChange.bind(m(t)),t._handleKeyDown=t._handleKeyDown.bind(m(t)),t._handlePaste=t._handlePaste.bind(m(t)),t._onAddFile=t._onAddFile.bind(m(t)),t.state={text:t.props.text},t}var r,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(n,o.a.PureComponent),r=n,i=[{key:"_resizeImage",value:function(e,t){"image/gif"!==e.nativeFileObject.type?Object(l.b)([e.nativeFileObject],{max_size:l.a},t):t(e.preview)}}],(a=[{key:"componentDidMount",value:function(){this._focus()}},{key:"componentWillReceiveProps",value:function(e){this.state.text!==e.text&&this.setState({text:e.text})}},{key:"componentDidUpdate",value:function(){this._focus()}},{key:"render",value:function(){var e=this,t=this.props.intl.formatMessage;return o.a.createElement("div",{className:"post-card-form"},o.a.createElement("form",{role:"form"},o.a.createElement("div",{className:"input-field"},o.a.createElement("textarea",{className:"materialize-textarea",value:this.state.text,onChange:this._handleTextChange,onKeyDown:this._handleKeyDown,onPaste:this._handlePaste,disabled:this.props.disabled,"data-original-height":"0",placeholder:t(this.props.placeholder),ref:function(t){e.textArea=t}}),this.props.emptyPostError&&o.a.createElement("p",{className:"materialize-red-text"},o.a.createElement(s.b,{id:"post.empty_post"}))),this.props.attachmentEnabled&&o.a.createElement(c.a,{className:"med",setAttachmentPending:this.props.setAttachmentPending,onChange:this._onAddFile,disabled:this.props.disabled,showCameraIcon:!0})))}},{key:"_focus",value:function(){this.props.focused&&(this.textArea.focus(),e(this.textArea).trigger("autoresize"))}},{key:"_handleKeyDown",value:function(e){!this.props.attachmentEnabled||13!==e.keyCode&&32!==e.keyCode||this.props.onAddAttachment(e.target.value),this.props.onSave&&13===e.keyCode&&!1===e.shiftKey&&this.props.onSave()}},{key:"_handlePaste",value:function(e){if(this.props.attachmentEnabled){var t=(e.clipboardData||window.clipboardData).getData("Text");this.props.onAddAttachment(t)}}},{key:"_handleTextChange",value:function(e){this.setState({text:e.target.value}),this.props.onChangeText(e.target.value)}},{key:"_onAddFile",value:function(e){var t=this;n._resizeImage(e,function(n){t.props.onAddAttachment({type:"image",title:e.nativeFileObject.name,value:{url:n}})})}}])&&p(r.prototype,a),i&&p(r,i),n}();d=v,b="propTypes",y={text:i.a.string.isRequired,attachmentEnabled:i.a.bool.isRequired,setAttachmentPending:i.a.func,onChangeText:i.a.func.isRequired,onAddAttachment:i.a.func.isRequired,onSave:i.a.func,disabled:i.a.bool,emptyPostError:i.a.bool,placeholder:i.a.object},b in d?Object.defineProperty(d,b,{value:y,enumerable:!0,configurable:!0,writable:!0}):d[b]=y,t.a=Object(s.h)(v)}).call(this,n(26))},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(675);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){h(e,t,n[t])})}return e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}))};d.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,f(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"render",value:function(){var e=this.props.attachment;switch(e){case!0:return o.a.createElement("div",{className:"progress",style:{marginBottom:0}},o.a.createElement("div",{className:"indeterminate"}));case!1:return null;default:return o.a.createElement("div",null,o.a.createElement("div",{className:"divider"}),o.a.createElement("a",{className:"right icon-container",onClick:this.props.onRemoveAttachment},o.a.createElement(d,{className:"icon"})),o.a.createElement(s.a,{attachment:l({},e,{hideUrl:!0}),meta:e.meta,disableFullScreen:!0}))}}}])&&u(n.prototype,r),a&&u(n,a),t}();h(b,"propTypes",{attachment:i.a.oneOfType([i.a.bool,i.a.object]).isRequired,onRemoveAttachment:i.a.func.isRequired})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(635);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this.title=t.title,this.date_created=t.date_created,this.visibility=t.visibility,this.member_quantity=t.member_quantity,this.creator=t.creator,this.store=t.store}var t,n,o;return t=e,(n=[{key:"dropActions",value:function(){this._actions=void 0}},{key:"actions",get:function(){var e=this;return new Promise(function(t,n){e._actions?t(e._actions):Object(r.b)(e.store,e.id).then(function(n){e._actions=n,t(e._actions)}).catch(n)})}}])&&a(t.prototype,n),o&&a(t,o),e}(),s={fromPlainObject:function(e,t){return new i(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}({},t,{store:e}))},createArrayFromPlainObjects:function(e,t){return t.map(function(t){return s.fromPlainObject(e,t)})}};t.b=s},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(175),c=n(628),l=n(38);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y,v,g,_=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=h(this,d(t).call(this,e))).card=o.a.createRef(),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.connectDragSource,n=f(e,["connectDragSource"]);return t(this.card.current),o.a.createElement(c.a,p({},n,{forwardedRef:this.card}))}}])&&m(n.prototype,r),a&&m(n,a),t}();y=_,v="contextTypes",g={store:i.a.object,intl:i.a.object},v in y?Object.defineProperty(y,v,{value:g,enumerable:!0,configurable:!0,writable:!0}):y[v]=g;var w=Object(s.DragSource)(l.b.name,{beginDrag:function(e){return{material:e.material}},endDrag:function(e,t,n){var r=t.getItem(),o=t.getDropResult();o&&r.material.moveTo(o.folder,n.context.store,n.context.intl,e.onRefresh)}},function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}})(_),E=n(644);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=k(t).call(this,e))||"object"!==O(o)&&"function"!=typeof o?S(r):o)._onMore=n._onMore.bind(S(n)),n.data=e.initialData||[],n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement(E.a,{loadMore:this._onMore,className:"col s12"},this.props.children)}},{key:"_onMore",value:function(e,t){var n=this;return this.props.loadPromise(e,t).then(function(t){return t.map(function(t,r){n.data[e+r]=t}),n.props.onNewData(n.data),t})}}])&&j(n.prototype,r),a&&j(n,a),t}();function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(P,"propTypes",{loadPromise:i.a.func.isRequired,onNewData:i.a.func.isRequired,initialData:i.a.array});var R=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=D(t).call(this,e))||"object"!==C(o)&&"function"!=typeof o?N(r):o)._onNewData=n._onNewData.bind(N(n)),n._onRefresh=n._onRefresh.bind(N(n)),n.state={data:e.data||[],updateCount:0,updateFolders:!1},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this;return o.a.createElement(P,{key:this.state.updateCount,loadPromise:this.props.loadPromise,onNewData:this._onNewData,initialData:this.state.data},this.state.data.map(function(t){return o.a.createElement(w,{key:"material_".concat(t.id),material:t,showVisibility:e.props.showVisibility,onRefresh:e._onRefresh})}))}},{key:"_onNewData",value:function(e){var t=e?e.length:0,n=this.state.updateFolders;t&&this.setState({data:e,updateFolders:!1}),this.props.onUpdate(t,n)}},{key:"_onRefresh",value:function(e,t){this.setState({data:[],updateCount:this.state.updateCount+1,updateFolders:!0===t})}}])&&T(n.prototype,r),a&&T(n,a),t}();A(R,"propTypes",{loadPromise:i.a.func.isRequired,onUpdate:i.a.func,showVisibility:i.a.bool,data:i.a.array}),A(R,"contextTypes",{store:i.a.object}),A(R,"defaultProps",{onUpdate:function(){}});var L=n(55),z=n(611);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return W}),n.d(t,"b",function(){return V}),n.d(t,"c",function(){return G}),n.d(t,"d",function(){return X});var W="created_by",V="created_by,shared_with",G="favorites",X=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=B(t).call(this,e))||"object"!==F(o)&&"function"!=typeof o?U(r):o)._loadData=n._loadData.bind(U(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.data?l.g.createArrayFromPlainObjects(this.context.store,this.props.data):void 0;return o.a.createElement(R,{key:"".concat(this.props.folder_id,"_").concat(this.props.sortingOrder,"_").concat(this.props.filter),loadPromise:this._loadData,showVisibility:this.props.showVisibility,data:e,onUpdate:this.props.onUpdate})}},{key:"_loadData",value:function(e,t){return Object(L.h)(this.context.store,this.props.user_id,{type:this.props.type,swimlaneSettings:this.props.swimlaneSettings,folder_id:null===this.props.folder_id?z.b:this.props.folder_id,offset:e,order:this.props.sortingOrder,filter:this.props.filter,limit:E.a.BATCH_SIZE,retryFunction:t})}}])&&I(n.prototype,r),a&&I(n,a),t}();H(X,"propTypes",{user_id:i.a.number.isRequired,sortingOrder:i.a.string.isRequired,type:i.a.string.isRequired,filter:i.a.string,folder_id:i.a.string,onUpdate:i.a.func,data:i.a.array}),H(X,"contextTypes",{store:i.a.object})},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(4),c=n(612);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M7 10l5 5 5-5H7z"}))};h.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var d,b,y,v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,f(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"render",value:function(){var e=this,t=this._getSelected();return o.a.createElement(c.a,{className:"right-edge flat-select-wrapper"},o.a.createElement("div",{className:"flat-select-button"},o.a.createElement(s.b,{id:t.translation_key}),o.a.createElement(h,null)),o.a.createElement("ul",{className:"flat-select-list"},this.props.options.map(function(n){return o.a.createElement("li",{key:n.value},o.a.createElement("a",{href:"#",onClick:function(t){return e._onSelect(t,n.value)},className:t.value===n.value?"selected":""},o.a.createElement(s.b,{id:n.translation_key})))})))}},{key:"_getSelected",value:function(){for(var e in this.props.options)if(this.props.options[e].value===this.props.selected)return this.props.options[e];return this.props.options[0]}},{key:"_onSelect",value:function(e,t){e.preventDefault(),t!==this.props.selected&&this.props.onSelect(t)}}])&&u(n.prototype,r),a&&u(n,a),t}();function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){w(e,t,n[t])})}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}d=v,b="propTypes",y={options:i.a.array.isRequired,selected:i.a.string,onSelect:i.a.func},b in d?Object.defineProperty(d,b,{value:y,enumerable:!0,configurable:!0,writable:!0}):d[b]=y;var S=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M6 13h12v-2H6M3 6v2h18V6M10 18h4v-2h-4v2z"}))};S.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var x=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M21 7L9 19l-5.5-5.5 1.41-1.41L9 16.17 19.59 5.59 21 7z"}))};function P(e){return o.a.createElement(c.a,{className:"combined-select-wrapper",noAutoClose:!0},o.a.createElement("div",{className:"combined-select-button"},o.a.createElement(S,null)),o.a.createElement(C,e))}x.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},P.propTypes={sections:i.a.object.isRequired,selected:i.a.object,onClose:i.a.func};var C=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=O(t).call(this,e))||"object"!==g(o)&&"function"!=typeof o?j(r):o)._onSelect=n._onSelect.bind(j(n)),n.state={selected:e.selected||{}},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillUnmount",value:function(){this.props.onClose&&this.props.onClose(this.state.selected)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"bottom-sheet-content"},o.a.createElement("div",{className:"combined-select-list"},Object.keys(this.props.sections).map(function(t){var n=e.props.sections[t];return o.a.createElement(T,{key:t,id:t,title:n.title,options:n.options,selected:e.state.selected[t],onSelect:e._onSelect})})))}},{key:"_onSelect",value:function(e,t){this.setState({selected:_({},this.state.selected,w({},e,t))})}}])&&E(n.prototype,r),a&&E(n,a),t}();function T(e){return o.a.createElement("div",null,o.a.createElement("div",{className:"combined-select-title"},o.a.createElement(s.b,{id:e.title})),o.a.createElement("ul",{className:"combined-select-section"},e.options.map(function(t){return o.a.createElement("li",{key:t.value,onClick:(n=e.id,r=t.value,function(t){t.stopPropagation(),e.onSelect(n,r)})},o.a.createElement("div",{className:"check-wrapper"},e.selected===t.value&&o.a.createElement(x,null)),o.a.createElement(s.b,{id:t.translation_key}));var n,r})))}var D=n(621);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return F});var F=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=A(t).call(this,e))||"object"!==N(o)&&"function"!=typeof o?R(r):o)._setIsMobile=n._setIsMobile.bind(R(n)),n.state={isMobile:t._isMobile(),sections:null},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,o.a.PureComponent),n=t,a=[{key:"_isMobile",value:function(){return"undefined"!=typeof document?document.body.clientWidth<=D.a:null}},{key:"getDerivedStateFromProps",value:function(e){var t={};return Object.keys(e.sections).map(function(n){t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){z(e,t,n[t])})}return e}({},t,e.showSections[n]?z({},n,e.sections[n]):{})}),{sections:t}}}],(r=[{key:"componentDidMount",value:function(){window.addEventListener("resize",this._setIsMobile)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._setIsMobile)}},{key:"render",value:function(){var e=this;return null===this.state.isMobile?null:this.state.isMobile?o.a.createElement(P,{sections:this.state.sections,selected:this.props.selected,onClose:this.props.onChange}):Object.keys(this.state.sections).map(function(t){return o.a.createElement(v,{key:t,options:e.state.sections[t].options,selected:e.props.selected&&e.props.selected[t],onSelect:function(n){return e.props.onChange(z({},t,n))}})})}},{key:"_setIsMobile",value:function(){var e=t._isMobile();e!==this.state.isMobile&&this.setState({isMobile:e})}}])&&M(n.prototype,r),a&&M(n,a),t}();z(F,"propTypes",{sections:i.a.object.isRequired,showSections:i.a.object.isRequired,onChange:i.a.func.isRequired,selected:i.a.object})},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(629),i=n(634),s=n.n(i)()();var c=n(27);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return h});var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,f(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,o.a.Component),n=t,(r=[{key:"_addAttachment",value:function(e){void 0===e.type?this._addLinkAttachment(e):this.setState({attachments:[e]})}},{key:"_addLinkAttachment",value:function(e){var t=this,n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.replace(/\[\/url]/g,"[/url]\n").replace(/\[url.*\[\/url]/g,""),r=t?n.replace(new RegExp(t,"g"),""):n,o=s.match(r);return null!==o&&o.length>0&&{url:o[0].url,raw:o[0].raw}}(e,this._invalidUrls),r=n.url,o=n.raw;r&&(this._setAttachmentPending(),Object(a.a)(this.context.store,r).then(function(e){e.ggb&&0!==e.ggb.length?void 0!==e.ggb.m&&t._addAttachment({type:"material",value:{title:e.title,id:e.ggb.m.id,thumbUrl:e.thumbUrl,description:e.description}}):t._addAttachment({type:"link",title:e.title,value:{url:e.url},meta:{title:e.title,url:e.url,thumbUrl:e.thumbUrl}})}).catch(function(e){400===e.code?(console.warn("invalid url:",o),t._invalidUrls+=(""!==t._invalidUrls?"|":"")+o,Object(c.c)(t.context.store,{id:"post-dialog.invalid_url"})):console.error("fetching meta failed",e),t._setAttachmentPending(!1)}))}},{key:"_removeAttachment",value:function(){this.setState({attachments:[!1]})}},{key:"_onDropFiles",value:function(e){if(!1===this.state.attachments[0]&&e&&e.length){var t=e[0];this._addAttachment({type:"image",title:t.name,value:{url:t.preview}})}}},{key:"_setAttachmentPending",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState({attachments:[e]})}}])&&u(n.prototype,r),i&&u(n,i),t}()},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(645),c=n(629),l=n(56),u=n.n(l),p=n(96),f=n(170);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}))};v.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var g,_,w,E=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=d(t).call(this,e))||"object"!==m(o)&&"function"!=typeof o?b(r):o).state={fullOpen:!1},n.openFullScreen=n.openFullScreen.bind(b(n)),n.closeFullScreen=n.closeFullScreen.bind(b(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"openFullScreen",value:function(){this.setState({fullOpen:!0})}},{key:"closeFullScreen",value:function(){this.setState({fullOpen:!1})}},{key:"render",value:function(){var e=o.a.createElement("img",{className:"contain",src:this.props.thumbnailUrl.replace("$1","@l"),alt:this.props.title});return this.props.disabled?e:o.a.createElement("div",null,o.a.createElement("a",{onClick:this.openFullScreen},e),o.a.createElement(p.TransitionGroup,null,this.state.fullOpen&&o.a.createElement(f.a,null,o.a.createElement("div",{className:"fullscreen"},o.a.createElement("a",{className:"btn-floating close-btn white",onClick:this.closeFullScreen},o.a.createElement(v,{className:"icon"})),o.a.createElement("img",{alt:this.props.title||"Fullscreen Image",className:"grey darken-3",src:this.props.fullSizeUrl||this.props.thumbnailUrl}),o.a.createElement(u.a,null,o.a.createElement("style",null,"body, html {overflow: hidden; position: relative;}"))))))}}])&&h(n.prototype,r),a&&h(n,a),t}();g=E,_="propTypes",w={thumbnailUrl:i.a.string.isRequired,fullSizeUrl:i.a.string,disabled:i.a.bool,title:i.a.string},_ in g?Object.defineProperty(g,_,{value:w,enumerable:!0,configurable:!0,writable:!0}):g[_]=w;var O=n(5);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return D});var D=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=x(this,P(t).call(this,e))).state={meta:e.meta||void 0},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentWillReceiveProps",value:function(e){e.attachment!==this.props.attachment&&this.setState({meta:e.meta||void 0})}},{key:"render",value:function(){return o.a.createElement("div",{className:"post-attachment post-attachment-".concat(this.props.attachment.type)},this._mapA(this.props.attachment))}},{key:"_mapA",value:function(e){var t=this;switch(e.type){case"material":return o.a.createElement(s.a,{hideUrl:!0,postAttachmentStyle:!0,url:"/m/".concat(e.value.id),title:e.value.title,thumbUrl:e.value.thumbUrl||void 0,description:e.value.description});case"link":return void 0===this.state.meta&&O.a&&Object(c.a)(this.context.store,e.value.url).then(function(e){t._isMounted&&t.setState({meta:e})}).catch(console.error),o.a.createElement(s.a,k({postAttachmentStyle:!0,openInNewTab:!0,hideUrl:e.hideUrl,url:e.value.url,title:e.value.url},this.state.meta,{external:!0}));case"image":return o.a.createElement(E,{disabled:this.props.disableFullScreen,thumbnailUrl:e.value.thumbUrl||e.value.url,fullSizeUrl:e.value.url,title:this.props.title})}}}])&&S(n.prototype,r),a&&S(n,a),t}();T(D,"contextTypes",{store:i.a.object}),T(D,"propTypes",{attachment:i.a.object.isRequired,meta:i.a.object,disableFullScreen:i.a.bool,title:i.a.string})},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(22),c=n(46),l=n(172);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=h(t).call(this,e))||"object"!==u(o)&&"function"!=typeof o?d(r):o)._onClick=n._onClick.bind(d(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"render",value:function(){var e=this.props,t=(e.checkNotifications,e.intl,e.activeClassName),n=f(e,["checkNotifications","intl","activeClassName"]);return o.a.createElement(s.c,p({},n,{activeClassName:t||"active",onClick:this._onClick}))}},{key:"_onClick",value:function(){this.context.store.getState().sideNavState.state===l.c&&Object(l.e)(this.context.store),this.props.checkNotifications&&Object(c.d)(this.context.store,this.context.cookies).then()}}])&&m(n.prototype,r),a&&m(n,a),t}();y(v,"contextTypes",{store:i.a.object,cookies:i.a.object}),y(v,"propTypes",{to:i.a.string.isRequired,checkNotifications:i.a.bool,activeClassName:i.a.string}),t.a=v},function(e,t,n){"use strict";n.d(t,"f",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return p}),n.d(t,"e",function(){return f}),n.d(t,"d",function(){return m}),n.d(t,"c",function(){return h});var r=n(162),o=n(38),a=n(618),i=n(55),s=n(655);function c(e,t,n){var r;switch(n){case"materials":case"featured":r=o.g.fromPlainObject;break;default:r=function(e,t){return t}}return t.map(function(t){return r(e,t)})}function l(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=o.offset,i=void 0===a?0:a,s=o.order,l=void 0===s?"-modified":s,u=o.limit,p=void 0===u?24:u,f=o.retryFunction,m=e.getState().userState.user.lang_ui;return Object(r.b)(e,t,{offset:i,order:l,limit:p,embed:"creator",language:m,retryFunction:f}).then(function(t){return!(!t.elements||!t.elements.length)&&{title:t.title,id:t.id,type:t.type,elements:c(e,t.elements,n)}})}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"-follow_since",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24,i=arguments.length>5?arguments[5]:void 0;return Object(a.c)(e,t,{offset:n,order:r,limit:o,retryFunction:i}).then(a.g)}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"-follow_since",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24,i=arguments.length>5?arguments[5]:void 0;return Object(a.d)(e,t,{offset:n,order:r,limit:o,retryFunction:i}).then(a.g)}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"-weight",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24,i=arguments.length>5?arguments[5]:void 0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"en";return Object(a.f)(e,{offset:n,order:r,limit:o,language:s,retryFunction:i}).then(a.g)}function m(e,t,n,r){var o=n.offset,a=void 0===o?0:o,s=n.order,c=void 0===s?"-relevance":s,l=n.type,u=void 0===l?"none":l,p=n.limit,f=void 0===p?24:p,m=n.ignoreUser,h=void 0!==m&&m,d=n.onlyQCMaterials,b=void 0!==d&&d;return Object(i.i)(e,t,{offset:a,order:c,type:u,limit:f,ignoreUser:h,onlyQCMaterials:b},r)}function h(e,t,n){var r=n.filter,o=n.offset,a=void 0===o?0:o,i=n.order,c=void 0===i?"-relevance":i,l=n.limit,u=void 0===l?24:l;return Object(s.d)(e,t,{filter:r,offset:a,order:c,limit:u})}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(11);function o(e,t){var n=t.type;return r.b(e,"/tags",{type:n})}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(641),c=n(4),l=n(27);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M4 4h3l2-2h6l2 2h3c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2m8 3c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5m0 2c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3z"}))};b.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var y=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=f(t).call(this,e),n=!o||"object"!==u(o)&&"function"!=typeof o?m(r):o,d(m(n),"_fileChooser",function(e){return n.fileChooser=e}),n._onChooseFile=n._onChooseFile.bind(m(n)),n._onClick=n._onClick.bind(m(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"render",value:function(){var e=this.props.className?this.props.className:"black-text";return o.a.createElement("a",{className:"".concat(e," image-chooser-camera icon-container ").concat(this.props.disabled?" disabled":""),onClick:this._onClick},this.props.showCameraIcon?o.a.createElement(b,{className:"icon"}):o.a.createElement("span",{className:this.props.linkClassName?this.props.linkClassName:""},o.a.createElement(c.b,{id:this.props.linkText})),o.a.createElement("input",{type:"file",ref:this._fileChooser,onChange:this._onChooseFile,multiple:!1,style:{display:"none"},accept:"image/*"}))}},{key:"_testForImage",value:function(e){return t.ImageTypes.includes(e.type)}},{key:"_onChooseFile",value:function(e){var t=this;e.preventDefault();var n=e.target;n.value&&(n.files&&n.files.length&&this._testForImage(n.files[0])?("function"==typeof this.props.setAttachmentPending&&this.props.setAttachmentPending(),requestAnimationFrame(function(){Object(s.fetchPreviewImages)(Array.prototype.slice.call(n.files)).then(function(e){n.value="",t.props.onChange(e[0])}).catch(function(){"function"==typeof t.props.setAttachmentPending&&t.props.setAttachmentPending(!1)})})):Object(l.c)(this.context.store,{id:"image-chooser.not_supported_format"}))}},{key:"_onClick",value:function(){this.props.disabled||this.fileChooser.click()}}])&&p(n.prototype,r),a&&p(n,a),t}();d(y,"propTypes",{onChange:i.a.func.isRequired,disabled:i.a.bool,showCameraIcon:i.a.bool,linkText:i.a.string,className:i.a.string,linkClassName:i.a.string,setAttachmentPending:i.a.func}),d(y,"contextTypes",{store:i.a.object}),d(y,"ImageTypes",["image/gif","image/jpeg","image/png"])},,,function(e,t,n){"use strict";n.d(t,"a",function(){return b});n(0);var r=n(1),o=n.n(r),a=n(98),i=n.n(a),s=n(25),c=n(72);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){var t,n;return n=t=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),p(this,m(n).apply(this,arguments))}var r,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(n,e),r=n,a=[{key:"loadData",value:function(t,n){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).location,o=void 0;if(r){var a=i.a.parse(r.search);a.lang&&!Object(s.f)(a.lang)&&(o=404)}return"function"==typeof e.loadData?e.loadData(t,n).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.langParamStatusCode=o,e}):Promise.resolve({langParamStatusCode:o})}}],(o=[{key:"componentWillMount",value:function(){"function"!=typeof e.loadData&&this.context.store.dispatch(Object(c.c)()),"function"==typeof f(m(n.prototype),"componentWillMount",this)&&f(m(n.prototype),"componentWillMount",this).call(this)}}])&&u(r.prototype,o),a&&u(r,a),n}(),d(t,"contextTypes",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){d(e,t,n[t])})}return e}({},e.contextTypes,{store:o.a.object,cookies:o.a.object})),n}},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),o=n.n(r),a=n(4),i=n(22);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f={TYPE_Topic:"topic",TYPE_Other:"other"},m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).apply(this,arguments))}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return!this.props.children||this.props.children.length<=0?null:o.a.createElement("div",{className:"row swimlane"},o.a.createElement("div",{className:"col s12 swimlane-header"},o.a.createElement("div",{className:"title"},this.props.title&&this._getTitleContainer(o.a.createElement(a.b,{id:this.props.title,values:this.props.values,tagName:"h2"}))),this.props.children&&4===this.props.children.length&&o.a.createElement(i.c,{to:this.props.moreLink,className:"ggb-teal-text btn-flat options"},o.a.createElement(a.b,{id:"swimlane.more"}))),o.a.createElement("ul",null,this.props.children))}},{key:"_getTitleContainer",value:function(e){return this.props.children&&4===this.props.children.length?o.a.createElement(i.c,{to:this.props.moreLink},e):o.a.createElement("div",null,e)}}])&&c(n.prototype,r),s&&c(n,s),t}();t.b=Object(a.h)(m)},function(e,t,n){var r=n(728),o=n(797),a=n(798),i="[object Null]",s="[object Undefined]",c=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:i:c&&c in Object(e)?o(e):a(e)}},function(e,t,n){var r=n(727),o=n(752);e.exports=function(e,t,n,a){var i=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var l=t[s],u=a?a(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),i?o(n,l,u):r(n,l,u)}return n}},function(e,t,n){var r=n(688),o=n(697),a={decodeEntities:!0,lowerCaseAttributeNames:!1};e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("First argument must be a string");return r(o(e,a),t)}},function(e,t,n){var r=n(0),o=n(689),a=n(626);function i(e){return a.PRESERVE_CUSTOM_ATTRIBUTES&&"tag"===e.type&&a.isCustomComponent(e.name,e.attribs)}e.exports=function e(t,n){for(var a,s,c,l,u=[],p="function"==typeof(n=n||{}).replace,f=0,m=t.length;f<m;f++)if(a=t[f],p&&(s=n.replace(a),r.isValidElement(s)))m>1&&(s=r.cloneElement(s,{key:f})),u.push(s);else if("text"!==a.type){if(c=a.attribs,i(a)||(c=o(a.attribs)),l=null,"script"===a.type||"style"===a.type)a.children[0]&&(c.dangerouslySetInnerHTML={__html:a.children[0].data});else{if("tag"!==a.type)continue;"textarea"===a.name&&a.children[0]?c.defaultValue=a.children[0].data:a.children&&a.children.length&&(l=e(a.children,n))}m>1&&(c.key=f),u.push(r.createElement(a.name,c,l))}else u.push(a.data);return 1===u.length?u[0]:u}},function(e,t,n){var r=n(642),o=n(692),a=n(695),i=n(626),s=o.config,c=o.HTMLDOMPropertyConfig.isCustomAttribute;r.injection.injectDOMPropertyConfig(o.HTMLDOMPropertyConfig),e.exports=function(e){e=e||{};var t,n,o,l={};for(t in e)n=e[t],c(t)?l[t]=n:(o=s.html[t.toLowerCase()])?r.properties.hasOwnProperty(o)&&r.properties[o].hasBooleanValue?l[o]=!0:l[o]=n:(o=s.svg[t])?l[o]=n:i.PRESERVE_CUSTOM_ATTRIBUTES&&(l[t]=n);return null!=e.style&&(l.style=function(e){if("string"!=typeof e)throw new TypeError("First argument must be a string.");var t={};return a(e,function(e,n){e&&n&&(t[i.camelCase(e)]=n)}),t}(e.style)),l}},function(e,t,n){"use strict";e.exports=function(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var o=new Error(n);throw o.name="Invariant Violation",o.framesToPop=1,o}},function(e,t,n){"use strict";var r=function(e){if(void 0===e)throw new Error("invariant(...): Second argument must be a string.")};e.exports=function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];if(r(t),!e){var i;if(void 0===t)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;(i=new Error(t.replace(/%s/g,function(){return String(o[s++])}))).name="Invariant Violation"}throw i.framesToPop=1,i}}},function(e,t,n){var r,o=n(693),a=n(694),i=n(626),s={html:{},svg:{}};for(r in s.html=i.invertObject(o.DOMAttributeNames),o.Properties)s.html[r.toLowerCase()]=r;for(r in s.svg=i.invertObject(a.DOMAttributeNames),a.Properties)s.html[r]=r;e.exports={config:s,HTMLDOMPropertyConfig:o,SVGDOMPropertyConfig:a}},function(e,t,n){"use strict";var r=n(642),o=r.injection.MUST_USE_PROPERTY,a=r.injection.HAS_BOOLEAN_VALUE,i=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,c=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,l={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:a,allowTransparency:0,alt:0,as:0,async:a,autoComplete:0,autoPlay:a,capture:a,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:o|a,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:a,controlsList:0,coords:0,crossOrigin:0,data:0,dateTime:0,default:a,defer:a,dir:0,disabled:a,download:c,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:a,formTarget:0,frameBorder:0,headers:0,height:0,hidden:a,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:a,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:o|a,muted:o|a,name:0,nonce:0,noValidate:a,open:a,optimum:0,pattern:0,placeholder:0,playsInline:a,poster:0,preload:0,profile:0,radioGroup:0,readOnly:a,referrerPolicy:0,rel:0,required:a,reversed:a,role:0,rows:s,rowSpan:i,sandbox:0,scope:0,scoped:a,scrolling:0,seamless:a,selected:o|a,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:i,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:a,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{},DOMMutationMethods:{value:function(e,t){if(null==t)return e.removeAttribute("value");"number"!==e.type||!1===e.hasAttribute("value")?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t)}}};e.exports=l},function(e,t,n){"use strict";var r="http://www.w3.org/1999/xlink",o="http://www.w3.org/XML/1998/namespace",a={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},i={Properties:{},DOMAttributeNamespaces:{xlinkActuate:r,xlinkArcrole:r,xlinkHref:r,xlinkRole:r,xlinkShow:r,xlinkTitle:r,xlinkType:r,xmlBase:o,xmlLang:o,xmlSpace:o},DOMAttributeNames:{}};Object.keys(a).forEach(function(e){i.Properties[e]=0,a[e]&&(i.DOMAttributeNames[e]=a[e])}),e.exports=i},function(e,t,n){var r=n(696);e.exports=function(e,t){if(!e||"string"!=typeof e)return null;for(var n,o,a,i=r("p{"+e+"}").stylesheet.rules[0].declarations,s=null,c="function"==typeof t,l=0,u=i.length;l<u;l++)o=(n=i[l]).property,a=n.value,c?t(o,a,n):a&&(s||(s={}),s[o]=a);return s}},function(e,t){var n=/\/\*[^*]*\*+([^\/*][^*]*\*+)*\//g;function r(e){return e?e.replace(/^\s+|\s+$/g,""):""}e.exports=function(e,t){t=t||{};var o=1,a=1;function i(e){var t=e.match(/\n/g);t&&(o+=t.length);var n=e.lastIndexOf("\n");a=~n?e.length-n:a+e.length}function s(){var e={line:o,column:a};return function(t){return t.position=new c(e),d(),t}}function c(e){this.start=e,this.end={line:o,column:a},this.source=t.source}c.prototype.content=e;var l=[];function u(n){var r=new Error(t.source+":"+o+":"+a+": "+n);if(r.reason=n,r.filename=t.source,r.line=o,r.column=a,r.source=e,!t.silent)throw r;l.push(r)}function p(){return h(/^{\s*/)}function f(){return h(/^}/)}function m(){var t,n=[];for(d(),b(n);e.length&&"}"!=e.charAt(0)&&(t=x()||P());)!1!==t&&(n.push(t),b(n));return n}function h(t){var n=t.exec(e);if(n){var r=n[0];return i(r),e=e.slice(r.length),n}}function d(){h(/^\s*/)}function b(e){var t;for(e=e||[];t=y();)!1!==t&&e.push(t);return e}function y(){var t=s();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;""!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,""===e.charAt(n-1))return u("End of comment missing");var r=e.slice(2,n-2);return a+=2,i(r),e=e.slice(n),a+=2,t({type:"comment",comment:r})}}function v(){var e=h(/^([^{]+)/);if(e)return r(e[0]).replace(/\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,function(e){return e.replace(/,/g,"‌")}).split(/\s*(?![^(]*\)),\s*/).map(function(e){return e.replace(/\u200C/g,",")})}function g(){var e=s(),t=h(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(t){if(t=r(t[0]),!h(/^:\s*/))return u("property missing ':'");var o=h(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),a=e({type:"declaration",property:t.replace(n,""),value:o?r(o[0]).replace(n,""):""});return h(/^[;\s]*/),a}}function _(){var e,t=[];if(!p())return u("missing '{'");for(b(t);e=g();)!1!==e&&(t.push(e),b(t));return f()?t:u("missing '}'")}function w(){for(var e,t=[],n=s();e=h(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)t.push(e[1]),h(/^,\s*/);if(t.length)return n({type:"keyframe",values:t,declarations:_()})}var E,O=S("import"),j=S("charset"),k=S("namespace");function S(e){var t=new RegExp("^@"+e+"\\s*([^;]+);");return function(){var n=s(),r=h(t);if(r){var o={type:e};return o[e]=r[1].trim(),n(o)}}}function x(){if("@"==e[0])return function(){var e=s();if(t=h(/^@([-\w]+)?keyframes\s*/)){var t,n=t[1];if(!(t=h(/^([-\w]+)\s*/)))return u("@keyframes missing name");var r,o=t[1];if(!p())return u("@keyframes missing '{'");for(var a=b();r=w();)a.push(r),a=a.concat(b());return f()?e({type:"keyframes",name:o,vendor:n,keyframes:a}):u("@keyframes missing '}'")}}()||function(){var e=s(),t=h(/^@media *([^{]+)/);if(t){var n=r(t[1]);if(!p())return u("@media missing '{'");var o=b().concat(m());return f()?e({type:"media",media:n,rules:o}):u("@media missing '}'")}}()||function(){var e=s(),t=h(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(t)return e({type:"custom-media",name:r(t[1]),media:r(t[2])})}()||function(){var e=s(),t=h(/^@supports *([^{]+)/);if(t){var n=r(t[1]);if(!p())return u("@supports missing '{'");var o=b().concat(m());return f()?e({type:"supports",supports:n,rules:o}):u("@supports missing '}'")}}()||O()||j()||k()||function(){var e=s(),t=h(/^@([-\w]+)?document *([^{]+)/);if(t){var n=r(t[1]),o=r(t[2]);if(!p())return u("@document missing '{'");var a=b().concat(m());return f()?e({type:"document",document:o,vendor:n,rules:a}):u("@document missing '}'")}}()||function(){var e=s();if(h(/^@page */)){var t=v()||[];if(!p())return u("@page missing '{'");for(var n,r=b();n=g();)r.push(n),r=r.concat(b());return f()?e({type:"page",selectors:t,declarations:r}):u("@page missing '}'")}}()||function(){var e=s();if(h(/^@host\s*/)){if(!p())return u("@host missing '{'");var t=b().concat(m());return f()?e({type:"host",rules:t}):u("@host missing '}'")}}()||function(){var e=s();if(h(/^@font-face\s*/)){if(!p())return u("@font-face missing '{'");for(var t,n=b();t=g();)n.push(t),n=n.concat(b());return f()?e({type:"font-face",declarations:n}):u("@font-face missing '}'")}}()}function P(){var e=s(),t=v();return t?(b(),e({type:"rule",selectors:t,declarations:_()})):u("selector missing")}return function e(t,n){var r=t&&"string"==typeof t.type;var o=r?t:n;for(var a in t){var i=t[a];Array.isArray(i)?i.forEach(function(t){e(t,o)}):i&&"object"==typeof i&&e(i,o)}r&&Object.defineProperty(t,"parent",{configurable:!0,writable:!0,enumerable:!1,value:n||null});return t}((E=m(),{type:"stylesheet",stylesheet:{source:t.source,rules:E,parsingErrors:l}}))}},function(e,t,n){"use strict";var r=n(698),o=n(643),a=o.formatDOM,i=o.isIE(9),s=/<(![a-zA-Z\s]+)>/;e.exports=function(e){if("string"!=typeof e)throw new TypeError("First argument must be a string.");if(!e)return[];var t,n=e.match(s);return n&&n[1]&&(t=n[1],i&&(e=e.replace(n[0],""))),a(r(e),null,t)}},function(e,t,n){"use strict";var r,o,a,i=n(643).isIE,s=/<([a-zA-Z]+[0-9]?)/,c=/<\/head>/i,l=/<\/body>/i,u=/<(area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)(.*?)\/?>/gi,p=i(),f=i(9);if("function"==typeof window.DOMParser){var m=new window.DOMParser,h=f?"text/xml":"text/html";r=function(e,t){return t&&(e=["<",t,">",e,"</",t,">"].join("")),f&&(e=e.replace(u,"<$1$2$3/>")),m.parseFromString(e,h)}}if("object"==typeof document.implementation){var d=document.implementation.createHTMLDocument(p?"HTML_DOM_PARSER_TITLE":void 0);o=function(e,t){if(t)return d.documentElement.getElementsByTagName(t)[0].innerHTML=e,d;try{return d.documentElement.innerHTML=e,d}catch(t){if(r)return r(e)}}}var b=document.createElement("template");b.content&&(a=function(e){return b.innerHTML=e,b.content.childNodes});var y=o||r;e.exports=function(e){var t,n,o,i,u=e.match(s);switch(u&&u[1]&&(t=u[1].toLowerCase()),t){case"html":if(r)return n=r(e),c.test(e)||(o=n.getElementsByTagName("head")[0])&&o.parentNode.removeChild(o),l.test(e)||(o=n.getElementsByTagName("body")[0])&&o.parentNode.removeChild(o),n.getElementsByTagName("html");break;case"head":if(y)return i=y(e).getElementsByTagName("head"),l.test(e)?i[0].parentNode.childNodes:i;break;case"body":if(y)return i=y(e).getElementsByTagName("body"),c.test(e)?i[0].parentNode.childNodes:i;break;default:if(a)return a(e);if(y)return y(e,"body").getElementsByTagName("body")[0].childNodes}return[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linkify=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(0)),a=c(n(634)),i=c(n(700)),s=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=t.linkify=new a.default;u.tlds(i.default);var p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.parseCounter=0,l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"getMatches",value:function(e){return u.match(e)}},{key:"parseString",value:function(e){var n=this,r=[];if(""===e)return r;var a=this.getMatches(e);if(!a)return e;var i=0;return a.forEach(function(a,s){a.index>i&&r.push(e.substring(i,a.index));var c={href:a.url,key:"parse"+n.parseCounter+"match"+s};for(var l in n.props.properties){var u=n.props.properties[l];u===t.MATCH&&(u=a.url),c[l]=u}r.push(o.default.createElement(n.props.component,c,a.text)),i=a.lastIndex}),i<e.length&&r.push(e.substring(i)),1===r.length?r[0]:r}},{key:"parse",value:function(e){var t=this,n=e;return"string"==typeof e?n=this.parseString(e):o.default.isValidElement(e)&&"a"!==e.type&&"button"!==e.type?n=o.default.cloneElement(e,{key:"parse"+ ++this.parseCounter},this.parse(e.props.children)):e instanceof Array&&(n=e.map(function(e){return t.parse(e)})),n}},{key:"render",value:function(){this.parseCounter=0;var e=this.parse(this.props.children);return o.default.createElement("span",{className:this.props.className},e)}}]),t}();p.MATCH="LINKIFY_MATCH",p.propTypes={className:s.default.string,component:s.default.any,properties:s.default.object,urlRegex:s.default.object,emailRegex:s.default.object},p.defaultProps={className:"Linkify",component:"a",properties:{}},t.default=p},function(e,t){e.exports=["aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","active","actor","ad","adac","ads","adult","ae","aeg","aero","aetna","af","afamilycompany","afl","africa","ag","agakhan","agency","ai","aig","aigo","airbus","airforce","airtel","akdn","al","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blanco","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnl","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","budapest","bugatti","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","cartier","casa","case","caseih","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cc","cd","ceb","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","chase","chat","cheap","chintai","christmas","chrome","chrysler","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","coop","corsica","country","coupon","coupons","courses","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","csc","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dodge","dog","doha","domains","dot","download","drive","dtv","dubai","duck","dunlop","duns","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epost","epson","equipment","er","ericsson","erni","es","esq","estate","esurance","et","etisalat","eu","eurovision","eus","events","everbank","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fujixerox","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glade","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodhands","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","honeywell","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","industries","infiniti","info","ing","ink","institute","insurance","insure","int","intel","international","intuit","investments","io","ipiranga","iq","ir","irish","is","iselect","ismaili","ist","istanbul","it","itau","itv","iveco","iwc","jaguar","java","jcb","jcp","je","jeep","jetzt","jewelry","jio","jlc","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","ladbrokes","lamborghini","lamer","lancaster","lancia","lancome","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","liaison","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lixil","lk","llc","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","lupin","luxe","luxury","lv","ly","ma","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","meo","merckmsd","metlife","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","mobily","moda","moe","moi","mom","monash","money","monster","mopar","mormon","mortgage","moscow","moto","motorcycles","mov","movie","movistar","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","mutual","mv","mw","mx","my","mz","na","nab","nadex","nagoya","name","nationwide","natura","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","newholland","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","off","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","onyourside","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","panerai","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","piaget","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","qvc","racing","radio","raid","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","rightathome","ril","rio","rip","rmit","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sapo","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scjohnson","scor","scot","sd","se","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","shriram","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","space","spiegel","sport","spot","spreadbetting","sr","srl","srt","st","stada","staples","star","starhub","statebank","statefarm","statoil","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiftcover","swiss","sx","sy","sydney","symantec","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","telecity","telefonica","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","uconnect","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","vista","vistaprint","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","warman","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","कॉम","セール","佛山","ಭಾರತ","慈善","集团","在线","한국","ଭାରତ","大众汽车","点看","คอม","ভাৰত","ভারত","八卦","موقع","বাংলা","公益","公司","香格里拉","网站","移动","我爱你","москва","қаз","католик","онлайн","сайт","联通","срб","бг","бел","קום","时尚","微博","淡马锡","ファッション","орг","नेट","ストア","삼성","சிங்கப்பூர்","商标","商店","商城","дети","мкд","ею","ポイント","新闻","工行","家電","كوم","中文网","中信","中国","中國","娱乐","谷歌","భారత్","ලංකා","電訊盈科","购物","クラウド","ભારત","通販","भारतम्","भारत","भारोत","网店","संगठन","餐厅","网络","ком","укр","香港","诺基亚","食品","飞利浦","台湾","台灣","手表","手机","мон","الجزائر","عمان","ارامكو","ایران","العليان","اتصالات","امارات","بازار","پاکستان","الاردن","موبايلي","بارت","بھارت","المغرب","ابوظبي","السعودية","ڀارت","كاثوليك","سودان","همراه","عراق","مليسيا","澳門","닷컴","政府","شبكة","بيتك","عرب","გე","机构","组织机构","健康","ไทย","سورية","招聘","рус","рф","珠宝","تونس","大拿","みんな","グーグル","ελ","世界","書籍","ഭാരതം","ਭਾਰਤ","网址","닷넷","コム","天主教","游戏","vermögensberater","vermögensberatung","企业","信息","嘉里大酒店","嘉里","مصر","قطر","广东","இலங்கை","இந்தியா","հայ","新加坡","فلسطين","政务","xperia","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zippo","zm","zone","zuerich","zw"]},function(e,t,n){"use strict";n.d(t,"a",function(){return w}),n.d(t,"b",function(){return E});var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(23),c=n(114),l=n(5),u=n(72);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function d(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){function t(){return f(this,t),d(this,b(t).apply(this,arguments))}return y(t,o.a.Component),h(t,[{key:"componentWillMount",value:function(){l.a&&(!this.props.user||this.props.user.id<=0)&&this.context.store.dispatch(Object(u.c)())}},{key:"render",value:function(){return this.props.user&&this.props.user.id>0?this.props.render():o.a.createElement(c.a,{nice:this.props.nice})}}],[{key:"loadData",value:function(e,t,n){return e.getState().userState.user.id>0?"function"==typeof t.loadData?t.loadData(e,n):Promise.resolve(null):Promise.resolve({code:401})}}]),t}();g(_,"contextTypes",{store:i.a.object});var w=Object(s.b)(function(e){return{user:e.userState.user}})(_);function E(e){var t,n,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n=t=function(t){function n(){return f(this,n),d(this,b(n).apply(this,arguments))}return y(n,o.a.Component),h(n,[{key:"componentWillMount",value:function(){"function"==typeof e.updateTabs&&e.updateTabs(this.context.store,this.props.match.params.tab_name)}},{key:"render",value:function(){var t=this;return o.a.createElement(w,{render:function(){return o.a.createElement(e,t.props)},nice:r})}}],[{key:"loadData",value:function(t,n){return _.loadData(t,e,n)}}]),n}(),g(t,"contextTypes",{store:i.a.object}),g(t,"updateTabs",e.updateTabs),n}},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;n.e(77).then(n.t.bind(null,743,7)).then(function(n){return(0,n.init)(e,t).then(function(t){for(var n=0;n<t.length;n+=1)r(t[n].toDataURL(e[n].type))})}).catch(function(e){console.log("this comes from image-utils",e)})},o=1920},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(637);function o(e,t){var n=[{translation_key:"materials.featured",route:"/materials",active:"favorites"!==t&&"yours"!==t},{translation_key:"materials.favorites",route:"/materials/favorites",active:"favorites"===t},{translation_key:"materials.yours",route:"/materials/yours",active:"yours"===t}];e.dispatch(Object(r.b)(n))}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(23),i=n(1),s=n.n(i),c=n(172);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"}))};d.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var b=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=p(t).call(this,e))||"object"!==l(o)&&"function"!=typeof o?f(r):o).__toggleBig=n.__toggleBig.bind(f(n)),n.__toggleSmall=n.__toggleSmall.bind(f(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",{className:"menu-button popdown-button-container valign-wrapper"},o.a.createElement("a",{onClick:this.__toggleBig,className:"icon-container".concat(this.props.responsiveButton?" hide-on-med-and-down":"")},o.a.createElement(d,{className:"icon"})),this.props.responsiveButton&&o.a.createElement("a",{onClick:this.__toggleSmall,className:"icon-container hide-on-large-only "},o.a.createElement(d,{className:"icon"})))}},{key:"__toggleBig",value:function(){this._toggleSideNav(!1)}},{key:"__toggleSmall",value:function(){this._toggleSideNav(!0)}},{key:"_toggleSideNav",value:function(e){var t=this.props.sideNavState,n=this.context.store;t===c.a?e?Object(c.f)(n):Object(c.e)(n):t===c.b&&e?Object(c.f)(n):Object(c.d)(n)}}])&&u(n.prototype,r),a&&u(n,a),t}();h(b,"propTypes",{responsiveButton:s.a.bool,sideNavState:s.a.string}),h(b,"defaultProps",{responsiveButton:!0}),h(b,"contextTypes",{store:s.a.object});var y=Object(a.b)(function(e){return{sideNavState:e.sideNavState.state}})(b),v=n(676);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return P});var j=function(e){return o.a.createElement("svg",e,o.a.createElement("defs",null,o.a.createElement("style",null,".logo_svg__font-color","{","fill:#666","}",".logo_svg__dot-fill-color","{","fill:#99f","}",".logo_svg__dot-stroke-color","{","fill:#000","}")),o.a.createElement("title",null,"GeoGebra"),o.a.createElement("path",{id:"logo_svg__ggbLogoLetter8",className:"logo_svg__font-color",d:"M290.3 35.7V62H287v-4.5a14.76 14.76 0 0 1-4.8 3.9 12.65 12.65 0 0 1-5.8 1.3 12.79 12.79 0 0 1-9.5-4.1 13.82 13.82 0 0 1-4-9.9A13.66 13.66 0 0 1 276.5 35a12.84 12.84 0 0 1 5.9 1.4 13.65 13.65 0 0 1 4.6 4.1v-4.8zm-13.5 2.6a10.38 10.38 0 0 0-5.2 1.4 9.52 9.52 0 0 0-3.8 3.9 10.73 10.73 0 0 0 0 10.6 10.07 10.07 0 0 0 9 5.4 11 11 0 0 0 5.3-1.4 9.27 9.27 0 0 0 3.8-3.8 10.79 10.79 0 0 0 1.3-5.4 10.41 10.41 0 0 0-3-7.6 9.82 9.82 0 0 0-7.4-3.1z"}),o.a.createElement("path",{id:"logo_svg__ggbLogoLetter7",className:"logo_svg__font-color",d:"M247.9 35.7h3.5v3.8a11.94 11.94 0 0 1 3.3-3.4 6.63 6.63 0 0 1 3.6-1.1 6.37 6.37 0 0 1 3 .9l-1.8 2.9a4.93 4.93 0 0 0-1.8-.5 5.3 5.3 0 0 0-3.3 1.4A9.72 9.72 0 0 0 252 44c-.4 1.5-.6 4.5-.6 9.1V62h-3.5z"}),o.a.createElement("path",{id:"logo_svg__ggbLogoLetter6",className:"logo_svg__font-color",d:"M215.6 62V25.6h3.4v14.7a14.76 14.76 0 0 1 4.8-3.9 12.65 12.65 0 0 1 5.8-1.3 12.79 12.79 0 0 1 9.5 4.1 13.76 13.76 0 0 1 4 9.8 13.66 13.66 0 0 1-13.6 13.7 12.43 12.43 0 0 1-5.8-1.4 13.65 13.65 0 0 1-4.6-4.1V62zm13.6-2.5a10.38 10.38 0 0 0 5.2-1.4 9.52 9.52 0 0 0 3.8-3.9 11.35 11.35 0 0 0 1.4-5.3 10.76 10.76 0 0 0-1.4-5.3 10.44 10.44 0 0 0-3.8-4 10.3 10.3 0 0 0-5.1-1.4 11 11 0 0 0-5.3 1.4 9.27 9.27 0 0 0-3.8 3.8 10.79 10.79 0 0 0-1.3 5.4 10.41 10.41 0 0 0 3 7.6 9.65 9.65 0 0 0 7.3 3.1z"}),o.a.createElement("path",{id:"logo_svg__ggbLogoLetter5",className:"logo_svg__font-color",d:"M205.4 53.3l2.9 1.5a17.24 17.24 0 0 1-3.2 4.5 13.59 13.59 0 0 1-4.1 2.6 14.18 14.18 0 0 1-5.2.9c-4.3 0-7.7-1.4-10.1-4.2a14.27 14.27 0 0 1-3.6-9.5 13.79 13.79 0 0 1 3.1-8.9 12.66 12.66 0 0 1 10.4-5 13.09 13.09 0 0 1 10.8 5.1 14.08 14.08 0 0 1 2.9 9h-23.7a10.58 10.58 0 0 0 2.9 7.5 9.14 9.14 0 0 0 7 2.9 10.72 10.72 0 0 0 3.9-.7 10.06 10.06 0 0 0 3.2-1.9 24.93 24.93 0 0 0 2.8-3.8zm0-7.1a11.46 11.46 0 0 0-2-4.3 8.84 8.84 0 0 0-3.4-2.6 9.88 9.88 0 0 0-4.5-1 9.62 9.62 0 0 0-6.7 2.5 10.88 10.88 0 0 0-3.1 5.4z"}),o.a.createElement("path",{id:"logo_svg__ggbLogoLetter4",className:"logo_svg__font-color",d:"M174.9 32.4l-2.8 2.6a20.78 20.78 0 0 0-6.5-4.4 17.92 17.92 0 0 0-6.9-1.5 16.49 16.49 0 0 0-8 2.1 15.15 15.15 0 0 0-5.9 5.6 14.16 14.16 0 0 0 .1 15 15 15 0 0 0 6 5.7 16.79 16.79 0 0 0 8.3 2.1 13.93 13.93 0 0 0 9.3-3.1 12.48 12.48 0 0 0 4.5-8h-11.3V45H177c0 5.5-1.7 9.9-4.9 13.1s-7.6 4.9-13 4.9c-6.6 0-11.8-2.2-15.6-6.7a17.64 17.64 0 0 1-4.4-12 18.14 18.14 0 0 1 2.5-9.4 17.61 17.61 0 0 1 7-6.8 20.88 20.88 0 0 1 10-2.5 21.8 21.8 0 0 1 8.5 1.6 27.2 27.2 0 0 1 7.8 5.2z"}),o.a.createElement("g",{id:"logo_svg__ggbLogoLetter3"},o.a.createElement("path",{className:"logo_svg__font-color",d:"M116.35 40.43a3.87 3.87 0 0 1-1-2.53v-.1a18 18 0 0 0-7 5.91 3.88 3.88 0 0 1 2.2 1.82c.14-.21.25-.43.4-.63a14.1 14.1 0 0 1 5-4.3zM108.6 51.1v-.07a3.78 3.78 0 0 1-2.82 0 10.45 10.45 0 0 0 3 8.19 3.9 3.9 0 0 1 1.89-2 7.53 7.53 0 0 1-1.28-1.92 8.76 8.76 0 0 1-.79-4.2zm14.48-12.28a9.27 9.27 0 0 1 7.19 3.41 3.87 3.87 0 0 1 2.52-1 12.35 12.35 0 0 0-10-5 3.7 3.7 0 0 1 .27 2.6zM116.7 60.1l-.47-.08a3.7 3.7 0 0 1-.5 2.69 16.57 16.57 0 0 0 9-1.33 3.88 3.88 0 0 1-1.13-2.44 12.83 12.83 0 0 1-6.9 1.16zM132.9 49a3.86 3.86 0 0 1-1-.15 11.44 11.44 0 0 1-2.37 5.45c-.18.23-.37.45-.57.68a3.89 3.89 0 0 1 2 1.81c.34-.39.67-.78 1-1.19a15 15 0 0 0 2.69-7 3.86 3.86 0 0 1-1.75.4z",id:"logo_svg__ggbLogoCircle"}),o.a.createElement("g",{id:"logo_svg__ggbLogoEmblem"},o.a.createElement("g",{id:"logo_svg__ggbLogoDot"},o.a.createElement("path",{className:"logo_svg__dot-stroke-color",d:"M107.2 43.5a3.9 3.9 0 1 0 3.9 3.9 3.9 3.9 0 0 0-3.9-3.9zm0 6.6a2.7 2.7 0 1 1 2.7-2.7 2.7 2.7 0 0 1-2.7 2.7z",id:"logo_svg__ggbLogoDotOuter"}),o.a.createElement("circle",{id:"logo_svg__ggbLogoDotInner",className:"logo_svg__dot-fill-color",cx:"107.2",cy:"47.4",r:"2.7"})),o.a.createElement("g",{id:"logo_svg__ggbLogoDot-2"},o.a.createElement("path",{className:"logo_svg__dot-stroke-color",d:"M112.4 56.8a3.9 3.9 0 1 0 3.9 3.9 3.9 3.9 0 0 0-3.9-3.9zm0 6.6a2.7 2.7 0 1 1 2.7-2.7 2.7 2.7 0 0 1-2.7 2.7z",id:"logo_svg__ggbLogoDotOuter-2"}),o.a.createElement("circle",{id:"logo_svg__ggbLogoDotInner-2",className:"logo_svg__dot-fill-color",cx:"112.4",cy:"60.7",r:"2.7"})),o.a.createElement("g",{id:"logo_svg__ggbLogoDot-3"},o.a.createElement("path",{className:"logo_svg__dot-stroke-color",d:"M119.3 34a3.9 3.9 0 1 0 3.9 3.9 3.9 3.9 0 0 0-3.9-3.9zm0 6.6a2.7 2.7 0 1 1 2.7-2.7 2.7 2.7 0 0 1-2.7 2.7z",id:"logo_svg__ggbLogoDotOuter-3"}),o.a.createElement("circle",{id:"logo_svg__ggbLogoDotInner-3",className:"logo_svg__dot-fill-color",cx:"119.3",cy:"37.9",r:"2.7"})),o.a.createElement("g",{id:"logo_svg__ggbLogoDot-4"},o.a.createElement("path",{className:"logo_svg__dot-stroke-color",d:"M132.9 41.2a3.9 3.9 0 1 0 3.9 3.9 3.9 3.9 0 0 0-3.9-3.9zm0 6.6a2.7 2.7 0 1 1 2.7-2.7 2.7 2.7 0 0 1-2.7 2.7z",id:"logo_svg__ggbLogoDotOuter-4"}),o.a.createElement("circle",{id:"logo_svg__ggbLogoDotInner-4",className:"logo_svg__dot-fill-color",cx:"132.9",cy:"45.1",r:"2.7"})),o.a.createElement("g",{id:"logo_svg__ggbLogoDot-5"},o.a.createElement("path",{className:"logo_svg__dot-stroke-color",d:"M127.5 54.7a3.9 3.9 0 1 0 3.9 3.9 3.9 3.9 0 0 0-3.9-3.9zm0 6.6a2.7 2.7 0 1 1 2.7-2.7 2.7 2.7 0 0 1-2.7 2.7z",id:"logo_svg__ggbLogoDotOuter-5"}),o.a.createElement("circle",{id:"logo_svg__ggbLogoDotInner-5",className:"logo_svg__dot-fill-color",cx:"127.5",cy:"58.6",r:"2.7"})))),o.a.createElement("path",{id:"logo_svg__ggbLogoLetter2",className:"logo_svg__font-color",d:"M96.7 53.5l2.9 1.5a17.24 17.24 0 0 1-3.2 4.5 13.59 13.59 0 0 1-4.1 2.6 14.18 14.18 0 0 1-5.2.9c-4.3 0-7.7-1.4-10.1-4.2a14.27 14.27 0 0 1-3.6-9.5 13.79 13.79 0 0 1 3.1-8.9 12.66 12.66 0 0 1 10.4-5 13.09 13.09 0 0 1 10.8 5.1 14.08 14.08 0 0 1 2.9 9H76.9a10.58 10.58 0 0 0 2.9 7.5 9.14 9.14 0 0 0 7 2.9 10.72 10.72 0 0 0 3.9-.7 10.06 10.06 0 0 0 3.2-1.9 23.4 23.4 0 0 0 2.8-3.8zm0-7.1a11.46 11.46 0 0 0-2-4.3 8.84 8.84 0 0 0-3.4-2.6 9.88 9.88 0 0 0-4.5-1 9.62 9.62 0 0 0-6.7 2.5 10.88 10.88 0 0 0-3.1 5.4z"}),o.a.createElement("path",{id:"logo_svg__ggbLogoLetter1",className:"logo_svg__font-color",d:"M66.3 32.6l-2.8 2.6a20.78 20.78 0 0 0-6.5-4.4 17.92 17.92 0 0 0-6.9-1.5 16.49 16.49 0 0 0-8 2.1 15.15 15.15 0 0 0-5.9 5.6 14.16 14.16 0 0 0 .1 15 15 15 0 0 0 6 5.7 16.79 16.79 0 0 0 8.3 2.1 13.93 13.93 0 0 0 9.3-3.1 12.48 12.48 0 0 0 4.5-8H53v-3.4h15.3c0 5.5-1.7 9.9-4.9 13.1s-7.6 4.9-13 4.9c-6.6 0-11.8-2.2-15.6-6.7a17.64 17.64 0 0 1-4.4-12 18.14 18.14 0 0 1 2.5-9.4 17.61 17.61 0 0 1 7-6.8 20.88 20.88 0 0 1 10-2.5 21.8 21.8 0 0 1 8.5 1.6 24.12 24.12 0 0 1 7.9 5.1z"}))};j.defaultProps={id:"logo_svg__ggbLogo",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320.9 90.7",width:"320.9",height:"90.7"};var k,S,x,P=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),w(this,E(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(y,{responsiveButton:!0===this.props.responsive}),o.a.createElement(v.a,{to:"/",className:"logo valign-wrapper"},o.a.createElement(j,null)))}}])&&_(n.prototype,r),a&&_(n,a),t}();k=P,S="propTypes",x={responsive:s.a.bool},S in k?Object.defineProperty(k,S,{value:x,enumerable:!0,configurable:!0,writable:!0}):k[S]=x},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(172),c=n(22),l=n(23),u=n(704),p=n(56);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),h(this,d(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"side-nav ".concat(this.props.className||"")},o.a.createElement("div",{className:"side-nav-wrapper"},o.a.createElement("div",{className:"logo-row"},o.a.createElement(u.a,null)),this.props.children),o.a.createElement("div",{className:"backdrop hide-on-large-only",onClick:function(){return Object(s.d)(e.context.store)}}),this.props.overlayed&&o.a.createElement(p.Helmet,null,o.a.createElement("style",null,"body, html {overflow: hidden; position: relative;}")))}}])&&m(n.prototype,r),a&&m(n,a),t}();y(v,"propTypes",{overlayed:i.a.bool.isRequired,className:i.a.string}),y(v,"contextTypes",{store:i.a.object});t.a=Object(c.g)(Object(l.b)(function(e){return{overlayed:e.sideNavState.state===s.c}})(v))},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return s});var r=1,o=2;function a(e){return e.getState().headerState.header_visibility&~r}function i(e){return(e&r)>0}function s(e){return(e&o)>0}},function(e,t,n){var r=n(754),o=n(758);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(760),o=n(817),a=n(707);e.exports=function(e){return a(e)?r(e):o(e)}},function(e,t,n){var r=n(823),o=n(824),a=n(825),i=n(826),s=n(827);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=i,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(729);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(657)(Object,"create");e.exports=r},function(e,t,n){var r=n(842);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)&&r.length){var i=o.apply(null,r);i&&e.push(i)}else if("object"===a)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},,,,,,,function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(4),c=n(27),l=n(624),u=n(675);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b,y,v,g=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=m(this,h(t).call(this,e))).state=t._mapAttachments(n.props.attachments,n.props.title),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,o.a.Component),n=t,a=[{key:"_mapAttachments",value:function(e,t){return e&&e.length?{list:e.map(function(e){return o.a.createElement(u.a,{title:t,attachment:e,key:e.id})})}:{list:null}}}],(r=[{key:"componentWillReceiveProps",value:function(e){e.attachments!==this.props.attachments&&this.setState(t._mapAttachments(e.attachments,this.props.title))}},{key:"render",value:function(){return this.props.attachments&&this.props.attachments.length?o.a.createElement("div",{className:"post-attachment-list"},this.state.list):null}}])&&f(n.prototype,r),a&&f(n,a),t}();b=g,y="propTypes",v={attachments:i.a.array.isRequired,title:i.a.string},y in b?Object.defineProperty(b,y,{value:v,enumerable:!0,configurable:!0,writable:!0}):b[y]=v;var _=n(663),w=n(623),E=n(667),O=n(99),j=n(613),k=n(71),S=n(665),x=n(22),P=n(664),C=n(23),T=n(668),D=n(669),N=n(670),M=n(46),A=n(674);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var B=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=z(t).call(this,e))||"object"!==R(o)&&"function"!=typeof o?F(r):o)._addAttachment=n._addAttachment.bind(F(n)),n._removeAttachment=n._removeAttachment.bind(F(n)),n._changeText=n._changeText.bind(F(n)),n._onDropFiles=n._onDropFiles.bind(F(n)),n._onSave=n._onSave.bind(F(n)),n._onFocus=n._onFocus.bind(F(n)),n._removeFocus=n._removeFocus.bind(F(n)),n._setAttachmentPending=n._setAttachmentPending.bind(F(n)),n.state={commentText:e.comment?e.comment.text:"",attachments:e.comment&&e.comment.attachments&&e.comment.attachments.length>0?e.comment.attachments:[!1],err_empty_comment:!1,inProgress:!1,focused:n.props.focused||!1},n._invalidUrls="",n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,A["a"]),n=t,(r=[{key:"render",value:function(){var e=this.props.creator,t=this.state.attachments[0];return o.a.createElement("div",{className:"comment-dialog",onFocus:this._onFocus},o.a.createElement(T.a,{dropMessageKey:"general.drag_message",onFilesDrop:this._onDropFiles,onTextDrop:this._addAttachment,active:!1===t&&!this.state.inProgress},e&&e.id>-1&&o.a.createElement("span",{className:"comment-author-img"},o.a.createElement("img",{alt:e.displayname,className:"circle",src:e.avatar})),o.a.createElement(D.a,{placeholder:{id:"comment.placeholder"},text:this.state.commentText,attachmentEnabled:this.state.focused&&!1===t,onChangeText:this._changeText,onAddAttachment:this._addAttachment,disabled:this.state.inProgress,onSave:this._onSave,focused:this.state.focused,setAttachmentPending:this._setAttachmentPending}),o.a.createElement(N.a,{attachment:t,onRemoveAttachment:this._removeAttachment}),this.state.focused&&o.a.createElement("div",{className:"comment-footer"},this.state.inProgress&&o.a.createElement(k.a,{className:"small",style:{display:"inline-block",width:"auto",height:"auto"}}),o.a.createElement("a",{onClick:this._onSave,className:"btn-flat right ggb-teal-text",disabled:this.state.inProgress||!this.state.commentText&&!t},o.a.createElement(s.b,{id:this.props.comment?"general.save":"post-dialog.post"})),this.props.onCancel&&o.a.createElement("a",{onClick:this.props.onCancel,className:"btn-flat black-text right"},o.a.createElement(s.b,{id:"general.cancel"}))||o.a.createElement("a",{onClick:this._removeFocus,className:"btn-flat black-text right"},o.a.createElement(s.b,{id:"general.cancel"})))))}},{key:"_onSave",value:function(){var e=this;Object(M.g)(this.context.store).then(function(){return e._save()}).catch(function(){})}},{key:"_onFocus",value:function(){this.setState({focused:!0})}},{key:"_removeFocus",value:function(){this.setState({focused:!1,commentText:""})}},{key:"componentWillMount",value:function(){this._mounted=!0}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"_save",value:function(){var e=this;if(!0!==this.state.attachments[0]){var t=0===this.state.commentText.length&&!1===this.state.attachments[0];if(this.setState({err_empty_comment:t,inProgress:!t}),!t){var n=this.state.attachments[0];this.props.onSave({text:this.state.commentText,creator:this.props.creator,attachments:!0!==n&&!1!==n?[{id:n.id,type:n.id?void 0:n.type,value:n.id?void 0:n.value.url||n.value.id}]:void 0,id:this.props.comment?this.props.comment.id:void 0,retryFunction:function(){return e._save()}}).then(function(){e._mounted&&e.setState({commentText:"",attachments:[!1],inProgress:!1,focused:!0})}).catch(function(t){t.response&&"err_invalid_filesize"===t.response.code&&Object(c.c)(e.context.store,{id:"post.invalid_filesize"}),console.error("creating/updating comment failed",t),e._mounted&&e.setState({inProgress:!1,focused:!0})})}}}},{key:"_changeText",value:function(e){this.setState({commentText:e})}},{key:"_setAttachmentPending",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState({attachments:[e]})}}])&&L(n.prototype,r),a&&L(n,a),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(B,"contextTypes",{store:i.a.object});var U=Object(s.h)(Object(C.b)(function(e){return{creator:e.userState.user}})(B));function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=W(t).call(this,e))||"object"!==q(o)&&"function"!=typeof o?V(r):o).state={editMode:!1,collapsed:!1,expanded:!1},n._onCancel=n._onCancel.bind(V(n)),n._onEdit=n._onEdit.bind(V(n)),n._onDelete=n._onDelete.bind(V(n)),n._deleteClick=n._deleteClick.bind(V(n)),n._onContentMeasure=n._onContentMeasure.bind(V(n)),n._onShowMore=n._onShowMore.bind(V(n)),n._onShowLess=n._onShowLess.bind(V(n)),n._hideDialog=n._hideDialog.bind(V(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentWillReceiveProps",value:function(e){!1===e.editMode&&this._onCancel()}},{key:"_onCancel",value:function(){this.setState({editMode:!1})}},{key:"_onEdit",value:function(){this.setState({editMode:!0})}},{key:"_onDelete",value:function(){this.props.onDelete(this.props.comment.id).catch(function(e){return console.error("deleting comment failed",e)})}},{key:"_deleteClick",value:function(){this.setState({showConfirm:!0})}},{key:"_hideDialog",value:function(){this._isMounted&&this.setState({showConfirm:!1})}},{key:"render",value:function(){var e=this.props.comment,t=this.context.store.getState().userState.user.id,n=e.creator.id===t,r={canEdit:n,canDelete:n||t===this.props.post_owner};return this.state.editMode?o.a.createElement(B,{focused:!0,creator:e.creator,comment:e,onCancel:this._onCancel,onSave:this.props.onSave}):o.a.createElement("li",{className:"comment-entity"},o.a.createElement(x.b,{to:e.creator.profile,className:"comment-author-img"},o.a.createElement("img",{className:"circle",src:e.creator.avatar,alt:e.creator.displayname})),o.a.createElement("div",{className:"comment-profile"},o.a.createElement(x.b,{to:e.creator.profile,className:"primary-text comment-author"},e.creator.displayname)),o.a.createElement("div",{className:"comment-date"},o.a.createElement(S.a,{date_time:e.date_created})),o.a.createElement(P.a,{actions:r,onEdit:this._onEdit,onDelete:this._deleteClick}),this.state.showConfirm&&o.a.createElement(O.a,{messageKey:"comment.confirm.delete.message",option1Key:"general.delete",cancelKey:"general-dialog.cancel",onOption1:this._onDelete,onClose:this._hideDialog}),o.a.createElement("div",{className:"post-attachment-list"},o.a.createElement("div",{className:"long-text".concat(this.state.collapsed&&!this.state.expanded?" collapsed":"")},o.a.createElement(j.a,{onResize:this._onContentMeasure},function(t){var n=t.measureRef;return o.a.createElement("div",{role:"paragraph",ref:n},o.a.createElement(l.a,null,e.text||""))}),this.state.collapsed&&!this.state.expanded&&o.a.createElement("div",null,o.a.createElement("div",{className:"gradient-to-white"}),o.a.createElement("a",{className:"show-more",onClick:this._onShowMore},o.a.createElement(s.b,{id:"post-card.show_more"}))),this.state.collapsed&&this.state.expanded&&o.a.createElement("div",{className:"show-less",onClick:this._onShowLess},o.a.createElement("a",null,o.a.createElement(s.b,{id:"post-card.show_less"}))))),o.a.createElement(g,{title:this.props.title,attachments:e.attachments||[]}))}},{key:"_onContentMeasure",value:function(e){e.entry.height>300&&!this.state.collapsed?this.setState({collapsed:!0}):this.state.collapsed&&this.setState({collapsed:!1})}},{key:"_onShowMore",value:function(){this.setState({expanded:!0})}},{key:"_onShowLess",value:function(){this.setState({expanded:!1})}}])&&H(n.prototype,r),a&&H(n,a),t}();function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}X($,"contextTypes",{store:i.a.object}),X($,"propTypes",{comment:i.a.object.isRequired,post_owner:i.a.number,onDelete:i.a.func.isRequired,title:i.a.string});var ee=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Y(this,Q(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",{className:"row"},o.a.createElement("a",{onClick:this.props.showPrevious,className:"col s12 ggb-teal-text"},o.a.createElement(s.b,{id:"comment.show-previous"})))}}])&&K(n.prototype,r),a&&K(n,a),t}();function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ee,"propTypes",{showPrevious:i.a.func.isRequired});var ie=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),re(this,oe(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"render",value:function(){var e=this;return Array.isArray(this.props.comments)?o.a.createElement("ul",{className:"comment-list"},this.props.comments.length<this.props.comment_count&&o.a.createElement(ee,{showPrevious:this.props.showPrevious}),this.props.comments.map(function(t){return o.a.createElement($,{editMode:!1,onSave:e.props.onSave,onDelete:e.props.onDelete,key:t.id,comment:t,post_owner:e.props.post_owner,title:e.props.title})})):null}}])&&ne(n.prototype,r),a&&ne(n,a),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ie,"propTypes",{comments:i.a.array,comment_count:i.a.number,showPrevious:i.a.func,post_owner:i.a.number,onDelete:i.a.func.isRequired,title:i.a.string});var se=n(11),ce=n(666);var le=n(73);function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ye=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=me(t).call(this,e))||"object"!==ue(o)&&"function"!=typeof o?he(r):o)._commentAdded=n._commentAdded.bind(he(n)),n._onSave=n._onSave.bind(he(n)),n._commentDeleted=n._commentDeleted.bind(he(n)),n._commentUpdated=n._commentUpdated.bind(he(n)),n._onDelete=n._onDelete.bind(he(n)),n._showPrevious=n._showPrevious.bind(he(n)),n.state={comments:e.comments||null,comment_count:n.props.comment_count||0},n.commentNeedsTracked=!1,n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",{className:"comment-panel"},Array.isArray(this.state.comments)&&0!==this.state.comments.length&&o.a.createElement(ie,{onDelete:this._onDelete,onSave:this._onSave,comment_count:this.state.comment_count,comments:this.state.comments,showPrevious:this._showPrevious,post_owner:this.props.post_owner,title:this.props.title}),null===this.state.comments&&o.a.createElement(k.a,{style:{height:"50px",margin:"10px"}}),o.a.createElement(U,{focused:!1,onSave:this._onSave}))}},{key:"_commentUpdated",value:function(e){e.post_id===this.props.post_id&&this.setState({comments:pe(this.state.comments.map(function(t){return t.id===e.id&&(t.text=e.text,t.attachments=e.attachments),t}))})}},{key:"componentDidMount",value:function(){var e,t;e=this.context.store,t=this._commentAdded,Object(ce.a)(function(n){void 0!==n(e)&&n(e).io.on("comments created",t)}),function(e,t){Object(ce.a)(function(n){void 0!==n(e)&&n(e).service("comments").on("updated",t)})}(this.context.store,this._commentUpdated),function(e,t){Object(ce.a)(function(n){void 0!==n(e)&&n(e).service("comments").on("removed",t)})}(this.context.store,this._commentDeleted)}},{key:"_commentDeleted",value:function(e){var t=this;if(e.post_id===this.props.post_id){var n=this.state.comments.filter(function(t){return t.id!==e.id});this.setState({comments:n},function(){"function"==typeof t.props.commentCountChanged&&t.props.commentCountChanged(t.state.comments.length)})}}},{key:"_onDelete",value:function(e){return t=this.context.store,n=e,r=this._commentDeleted,Object(ce.b)(function(e){var o=e(t,"comments");return o?o.remove(n):Object(se.a)(t,"/comments/".concat(n)).then(r)});var t,n,r}},{key:"_onSave",value:function(e){return e.id?function(e,t,n,r){var o={post_id:n.post_id,text:n.text,attachments:n.attachments};return Object(ce.b)(function(a){var i=a(e,"comments",{retryFunction:n.retryFunction});return i?i.update(t,o):(o.retryFunction=n.retryFunction,Object(se.f)(e,"/comments/".concat(t),o).then(r))})}(this.context.store,e.id,e,this._commentUpdated):(e.post_id=this.props.post_id,this.commentNeedsTracked=!0,function(e,t,n){var r={post_id:t.post_id,text:t.text,attachments:t.attachments};return Object(ce.b)(function(o){var a=o(e,"comments",{retryFunction:t.retryFunction});return a?a.create(r):(r.retryFunction=t.retryFunction,Object(se.e)(e,"/comments/".concat(t.post_id),r).then(n))})}(this.context.store,e,this._commentAdded))}},{key:"_showPrevious",value:function(){var e,t,n=this;(e=this.context.store,t=this.props.post_id,Object(se.b)(e,"/posts/".concat(t,"/comments"))).then(function(e){return n.setState({comments:e,comment_count:e.length})}).catch(function(e){return Object(c.c)(n.context.store,{id:"ajax.server_error"})})}},{key:"componentWillUnmount",value:function(){var e,t;e=this.context.store,t=this._commentAdded,Object(ce.a)(function(n){void 0!==n(e)&&n(e).io.removeListener("comments created",t)}),function(e,t){Object(ce.a)(function(n){void 0!==n(e)&&n(e).service("comments").removeListener("updated",t)})}(this.context.store,this._commentUpdated),function(e,t){Object(ce.a)(function(n){void 0!==n(e)&&n(e).service("comments").removeListener("removed",t)})}(this.context.store,this._commentDeleted)}},{key:"_commentAdded",value:function(e){var t=this;e.post_id===this.props.post_id&&(this.setState({comments:[].concat(pe(this.state.comments||[]),[e])},function(){"function"==typeof t.props.commentCountChanged&&t.props.commentCountChanged(t.state.comments.length)}),this.commentNeedsTracked&&(Object(le.c)(e.post_id),this.commentNeedsTracked=!1))}}])&&fe(n.prototype,r),a&&fe(n,a),t}();function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}be(ye,"contextTypes",{store:i.a.object}),be(ye,"propTypes",{comments:i.a.array,post_id:i.a.string.isRequired,comment_count:i.a.number,post_owner:i.a.number,commentCountChanged:i.a.func,title:i.a.string});var je=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=_e(t).call(this,e))||"object"!==ve(o)&&"function"!=typeof o?we(r):o)._onLikeToggle=n._onLikeToggle.bind(we(n)),n._onDeleteClick=n._onDeleteClick.bind(we(n)),n._doDelete=n._doDelete.bind(we(n)),n._onContentMeasure=n._onContentMeasure.bind(we(n)),n._onShowMore=n._onShowMore.bind(we(n)),n._onShowLess=n._onShowLess.bind(we(n)),n._onEditClick=n._onEditClick.bind(we(n)),n._onCloseDialog=n._onCloseDialog.bind(we(n)),n._onShowComments=n._onShowComments.bind(we(n)),n.state={i_like:n.props.post&&n.props.post.i_like_since>0,number_of_likes:n.props.post&&n.props.post.number_of_likes||0,collapsed:!1,expanded:!1,dialogOpen:!1,showComments:!0},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){var t=e.post||{};this.setState({i_like:t.i_like_since>0,number_of_likes:t.number_of_likes||0})}},{key:"render",value:function(){var e,t=this,n=this.props.post;n.user_id?e={translation_key:"post.public"}:n.group&&(e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Oe(e,t,n[t])})}return e}({},n.group));var r=n.attachments&&n.attachments.length>1,a={canEdit:n.actions.canEdit&&!r,canDelete:n.actions.canEdit};return o.a.createElement("li",{className:"post"+(this.state.deleted?" "+this.state.deleted:"")},this.state.dialogOpen&&o.a.createElement(E.a,{text:n.text,attachments:n.attachments,onClose:this._onCloseDialog,onReady:this.props.onSave,editing:!0}),o.a.createElement("article",{className:"post-card card"},o.a.createElement(_.a,{creator:n.creator,date_publish:n.date_publish,post_link:"/p/".concat(n.id),postedTo:e,actions:a,onEdit:this._onEditClick,onDelete:this._onDeleteClick}),this.state.showConfirm&&o.a.createElement(O.a,{messageKey:"post.confirm.delete.message",option1Key:"general.delete",cancelKey:"general-dialog.cancel",onOption1:this._doDelete,onClose:function(){return t.setState({showConfirm:!1})}}),o.a.createElement("div",{className:"card-content",dir:"auto"},o.a.createElement("div",{className:"long-text".concat(this.state.collapsed&&!this.state.expanded?" collapsed":"")},o.a.createElement(j.a,{onResize:this._onContentMeasure},function(e){var t=e.measureRef;return o.a.createElement("div",{role:"paragraph",ref:t},"M"===n.type?o.a.createElement(s.b,{id:"post.new_material",values:{$1:n.creator.displayname}}):[n.title&&o.a.createElement("p",{key:1337},n.title),o.a.createElement(l.a,{key:41},n.text||"")])}),this.state.collapsed&&!this.state.expanded&&o.a.createElement("div",null,o.a.createElement("div",{className:"gradient-to-white"}),o.a.createElement("a",{className:"show-more",onClick:this._onShowMore},o.a.createElement(s.b,{id:"post-card.show_more"}))),this.state.collapsed&&this.state.expanded&&o.a.createElement("div",{className:"show-less",onClick:this._onShowLess},o.a.createElement("a",null,o.a.createElement(s.b,{id:"post-card.show_less"})))),o.a.createElement(g,{attachments:n.attachments,title:n.title||this.props.intl.formatMessage({id:"post.image"})})),o.a.createElement("div",{className:"post-card-action"},o.a.createElement("div",{className:"post-card-action-buttons"},o.a.createElement("a",{className:"btn-flat ".concat(this.state.i_like?"ggb-teal-text":"black-text"),onClick:this._onLikeToggle},o.a.createElement(s.b,{id:"post.like"})),this.state.number_of_likes>0&&o.a.createElement("span",{className:"like-counter grey-text text-darken-1"},this.state.number_of_likes),o.a.createElement("a",{className:"btn-flat black-text",onClick:this._onShowComments},o.a.createElement(s.b,{id:"post.comments"})),n.comment_count>0&&o.a.createElement("span",{className:"comment-counter grey-text text-darken-1"},n.comment_count))),o.a.createElement("div",{className:"".concat(this.state.showComments?"show":"hide")},o.a.createElement(ye,{title:n.title||this.props.intl.formatMessage({id:"post.comment-image"}),commentCountChanged:this.props.commentCountChanged,comments:n.comments,comment_count:n.comment_count,post_id:n.id,post_owner:n.creator.id}))))}},{key:"_onCloseDialog",value:function(){this.setState({dialogOpen:!1})}},{key:"_onEditClick",value:function(){this.setState({dialogOpen:!0})}},{key:"_onDeleteClick",value:function(){this.setState({showConfirm:!0})}},{key:"_doDelete",value:function(){var e=this;this.setState({deleted:"deleting"}),Object(w.e)(this.context.store,this.props.post.id).then(function(t){if(!t.success)return Promise.reject(t);"function"==typeof e.props.onDelete&&e.props.onDelete(e.props.post.id)}).catch(function(t){e.setState({deleted:""}),console.error("deleting post failed",t),Object(c.c)(e.context.store,{id:"post.delete.error"})})}},{key:"_onLikeToggle",value:function(){var e=this;return Object(M.g)(this.context.store).then(function(){var t=e.state.i_like,n=e.state.number_of_likes;e.setState({i_like:!t,number_of_likes:n+(t?-1:1)}),Object(w.j)(e.context.store,e.props.post.id,t).then(function(n){if(!n.success)return Promise.reject(n);t?Object(le.j)(e.props.post.id):Object(le.g)(e.props.post.id)}).catch(function(r){r.response&&(t&&"err_not_found"===r.response.code||!t&&"err_already_liked"===r.response.code)?e.setState({number_of_likes:n}):e.setState({i_like:t,number_of_likes:n})})})}},{key:"_onContentMeasure",value:function(e){e.entry.height>300&&!this.state.collapsed?this.setState({collapsed:!0}):this.state.collapsed&&this.setState({collapsed:!1})}},{key:"_onShowMore",value:function(){this.setState({expanded:!0})}},{key:"_onShowLess",value:function(){this.setState({expanded:!1})}},{key:"_onShowComments",value:function(){this.setState({showComments:!this.state.showComments})}}])&&ge(n.prototype,r),a&&ge(n,a),t}();Oe(je,"contextTypes",{store:i.a.object}),Oe(je,"propTypes",{onSave:i.a.func.isRequired,post:i.a.object,commentCountChanged:i.a.func,onDelete:i.a.func});var ke=Object(s.h)(je);function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ne(e,t,n[t])})}return e}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return Me});var Me=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Ce(t).call(this,e))||"object"!==Se(o)&&"function"!=typeof o?Te(r):o).state={post:e.post},n.updateFromSocket=n.updateFromSocket.bind(Te(n)),n.onSave=n.onSave.bind(Te(n)),n.commentCountChanged=n.commentCountChanged.bind(Te(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillMount",value:function(){Object(w.h)(this.context.store,this.state.post.id),Object(w.c)(this.context.store,this.updateFromSocket,this.state.post.id)}},{key:"componentWillUnmount",value:function(){Object(w.i)(this.context.store,this.state.post.id),Object(w.k)(this.context.store,this.updateFromSocket,this.state.post.id)}},{key:"render",value:function(){return o.a.createElement(ke,{post:this.state.post,onSave:this.onSave,commentCountChanged:this.commentCountChanged,onDelete:this.props.onDelete})}},{key:"commentCountChanged",value:function(e){this.setState({post:xe({},this.state.post,{comment_count:e})})}},{key:"onSave",value:function(e){var t=this;return Object(w.l)(this.context.store,this.state.post.id,e,this.updateFromSocket).catch(function(e){var n;if(console.error("updating post failed",e),404===e.code)n="post.not_found";else if(e.response)switch(e.response.code){case w.a:n="post.empty_post";break;case w.b:n="ajax.not_authorized_error"}return Object(c.c)(t.context.store,{id:n||"ajax.server_error"}),Promise.reject({error:"not_saved"})})}},{key:"updateFromSocket",value:function(e){e.id===this.state.post.id&&this.setState({post:xe({},e,{actions:this.state.post.actions})})}}])&&Pe(n.prototype,r),a&&Pe(n,a),t}();Ne(Me,"contextTypes",{store:i.a.object}),Ne(Me,"propTypes",{post:i.a.object,onDelete:i.a.func})},function(e,t,n){"use strict";n.d(t,"a",function(){return k});var r=n(0),o=n.n(r),a=n(4),i=n(676),s=n(615),c=n(705),l=n(22);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M17 2v4h-2c-.69 0-1 .81-1 1.5V10h3v4h-3v8h-4v-8H7v-4h3V6c0-2.21 1.79-4 4-4h3z"}))};d.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var b=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"}))};b.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var y=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M10 15l5.19-3L10 9v6m11.56-7.83c.13.47.22 1.1.28 1.9.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83-.25.9-.83 1.48-1.73 1.73-.47.13-1.33.22-2.65.28-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44-.9-.25-1.48-.83-1.73-1.73-.13-.47-.22-1.1-.28-1.9-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83.25-.9.83-1.48 1.73-1.73.47-.13 1.33-.22 2.65-.28 1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44.9.25 1.48.83 1.73 1.73z"}))};y.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var v=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5z"}))};v.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var g=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M20 11H4V8h16m0 7h-7v-2h7m0 6h-7v-2h7m-9 2H4v-6h7m9.33-8.33L18.67 3 17 4.67 15.33 3l-1.66 1.67L12 3l-1.67 1.67L8.67 3 7 4.67 5.33 3 3.67 4.67 2 3v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V3l-1.67 1.67z"}))};g.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var _=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M13 9h5.5L13 3.5V9M6 2h8l6 6v12c0 1.1-.9 2-2 2H6a2 2 0 0 1-2-2V4c0-1.11.89-2 2-2m9 16v-2H6v2h9m3-4v-2H6v2h12z"}))};_.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var w=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M12 4c2.21 0 4 1.79 4 4s-1.79 4-4 4-4-1.79-4-4 1.79-4 4-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4z"}))};w.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var E=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M16 13c-.29 0-.62 0-.97.05C16.19 13.89 17 15 17 16.5V19h6v-2.5c0-2.33-4.67-3.5-7-3.5m-8 0c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m0-2c1.66 0 3-1.34 3-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m8 0c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3z"}))};E.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var O=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M15 12c-1.11 0-2 .89-2 2 0 1.1.9 2 2 2s2-.9 2-2a2 2 0 0 0-2-2m-3 8c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m0-18C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m2 7a2 2 0 0 0-2-2c-1.11 0-2 .89-2 2 0 1.1.9 2 2 2s2-.9 2-2m-5 3c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2a2 2 0 0 0-2-2z"}))};O.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var j=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M5 20h14v-2H5m14-9h-4V3H9v6H5l7 7 7-7z"}))};j.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var k=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,m(t).apply(this,arguments))}var n,r,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement(c.a,null,o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(i.a,{to:"/",exact:!0},o.a.createElement(v,{className:"icon no-stretch"}),o.a.createElement(a.b,{id:"side-nav.home"}))),o.a.createElement("li",null,o.a.createElement(i.a,{to:"/newsfeed",checkNotifications:!0},o.a.createElement(g,{className:"icon no-stretch"}),o.a.createElement(a.b,{id:"side-nav.newsfeed"}))),o.a.createElement("li",null,o.a.createElement(i.a,{to:"/materials"},o.a.createElement(_,{className:"icon no-stretch"}),o.a.createElement(a.b,{id:"side-nav.materials"}))),o.a.createElement("li",null,o.a.createElement(i.a,{to:"/u",checkNotifications:!0},o.a.createElement(w,{className:"icon no-stretch"}),o.a.createElement(a.b,{id:"side-nav.profile"}))),o.a.createElement("li",null,o.a.createElement(i.a,{to:"/people",checkNotifications:!0},o.a.createElement(E,{className:"icon no-stretch"}),o.a.createElement(a.b,{id:"side-nav.people"}))),o.a.createElement("li",null,o.a.createElement("a",{href:"/groups",target:"_blank"},o.a.createElement(O,{className:"icon no-stretch"}),o.a.createElement(a.b,{id:"side-nav.groups"}))),!1,o.a.createElement("li",{className:"divider"}),o.a.createElement("li",null,o.a.createElement(i.a,{to:"/download"},o.a.createElement(j,{className:"icon no-stretch"}),o.a.createElement(a.b,{id:"side-nav.downloads"}))),!1,!1),o.a.createElement("footer",null,o.a.createElement("div",{className:"divider"}),o.a.createElement("div",{className:"row"},o.a.createElement(l.b,{to:"/about"},o.a.createElement(a.b,{id:"side-nav.about_geogebra"}))),o.a.createElement("div",{className:"row"},o.a.createElement(a.b,{id:"side-nav.contact"}),": ",o.a.createElement("a",{href:"mailto:office@geogebra.org"},"office@geogebra.org")),o.a.createElement("div",{className:"row"},o.a.createElement(l.b,{to:"/tos"},o.a.createElement(a.b,{id:"side-nav.terms"}))," – ",o.a.createElement(l.b,{to:"/privacy"},o.a.createElement(a.b,{id:"side-nav.privacy"}))," – ",o.a.createElement(l.b,{to:"/license"},o.a.createElement(a.b,{id:"side-nav.license"}))),o.a.createElement("div",{className:"row language-switcher"},o.a.createElement(s.a,null)),o.a.createElement("div",{className:"row"},o.a.createElement("a",{target:"_blank",title:"Facebook",href:"https://www.facebook.com/geogebra",className:"icon-container tiny"},o.a.createElement(d,{className:"icon left no-stretch"})),o.a.createElement("a",{target:"_blank",title:"Twitter",href:"https://twitter.com/geogebra",className:"icon-container tiny"},o.a.createElement(b,{className:"icon left no-stretch"})),o.a.createElement("a",{target:"_blank",title:"YouTube",href:"https://www.youtube.com/user/GeoGebraChannel",className:"icon-container tiny"},o.a.createElement(y,{className:"icon left no-stretch"}))),o.a.createElement("div",{className:"divider"}),o.a.createElement("div",{className:"row"},o.a.createElement("p",null,"© ",(new Date).getFullYear()," GeoGebra"))))}}])&&p(n.prototype,r),u&&p(n,u),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return _}),n.d(t,"b",function(){return E});var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(23),c=n(95),l=n(22);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"}))};d.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var b=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"}))};b.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var y,v,g,_="BREADCRUMBS",w=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,m(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.links[this.props.links.length-2];return o.a.createElement(o.a.Fragment,null,o.a.createElement("ul",{className:"breadcrumbs clear-float hide-on-small-and-down"},this.props.links.map(function(e,t){return o.a.createElement("li",{key:e.route},t>0&&o.a.createElement(d,{className:"icon no-stretch"}),o.a.createElement(l.b,{to:e.route,title:e.title},e.title))})),o.a.createElement("ul",{className:"breadcrumbs clear-float hide-on-med-and-up"},o.a.createElement("li",{key:e.route},o.a.createElement(l.b,{to:e.route,title:e.title},o.a.createElement(b,{className:"icon no-stretch"})),o.a.createElement("span",null,this.props.links[this.props.links.length-1].title))))}}])&&p(n.prototype,r),a&&p(n,a),t}();y=w,v="propTypes",g={links:i.a.arrayOf(i.a.shape({title:i.a.string.isRequired,route:i.a.string.isRequired}))},v in y?Object.defineProperty(y,v,{value:g,enumerable:!0,configurable:!0,writable:!0}):y[v]=g;function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return Object(c.b)(_,e,t)}t.c=Object(s.b)(function(e){return{links:e.headerState.content}})(w)},function(e,t,n){"use strict";(function(e){n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return s});var r=n(5).a&&window.MAINTENANCE_ENV||{MODE:e.env.MODE,MAINTENANCE_FROM:e.env.MAINTENANCE_FROM,MAINTENANCE_TO:e.env.MAINTENANCE_TO},o="string"==typeof r.MODE&&"READONLY"===r.MODE.toUpperCase(),a=("string"==typeof r.MODE&&r.MODE.toUpperCase(),c(r.MAINTENANCE_FROM)),i=c(r.MAINTENANCE_TO),s=function(e,t){if(e&&t){var n=Math.abs(t-e)/36e5;return Math.round(2*n)/2}return}(a,i);function c(e){if(e){var t=new Date(e);if(!isNaN(t.getTime()))return t}}}).call(this,n(255))},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(684),c=n(628),l=n(55);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b,y,v,g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,h(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,o.a.Component),n=t,a=[{key:"loadData",value:function(e,t){var n=t.list_type;return Object(l.g)(e,n)}},{key:"_getMoreLink",value:function(e){return e.moreLink?e.moreLink:e.type===s.a.TYPE_Topic?"/t/".concat(e.id):"/a/".concat(e.id)}},{key:"_getTitleByType",value:function(e){return e.type===s.a.TYPE_Topic?"topic.".concat(e.id,".short.title"):"swimlane.".concat(e.title)}},{key:"_getMaterials",value:function(e,t){if(e.elements)return e.elements.map(function(e){return o.a.createElement(c.a,{key:e.id,material:e,lazyLoadImage:t})})}}],(r=[{key:"render",value:function(){return o.a.createElement("div",{className:"col s12"},this.props.swimlanes.map(function(e,n){return o.a.createElement(s.b,p({},e,{title:t._getTitleByType(e),key:e.id,moreLink:t._getMoreLink(e)}),t._getMaterials(e,n>=1))}))}}])&&f(n.prototype,r),a&&f(n,a),t}();b=g,y="propTypes",v={swimlanes:i.a.array.isRequired},y in b?Object.defineProperty(b,y,{value:v,enumerable:!0,configurable:!0,writable:!0}):b[y]=v},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(677),c=n(4),l=n(628),u=n(656),p=n(23),f=n(38),m=n(640),h=n(72);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=m.c,E=function(e){function t(e,n){var r,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(r=!(a=y(t).call(this,e))||"object"!==d(a)&&"function"!=typeof a?v(o):a)._loadProm=r._loadProm.bind(v(r)),r._filterChange=r._filterChange.bind(v(r)),r.state={emptyResult:!1,filter:w.value,term:e.term},Object(h.b)(n.store),r}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,o.a.PureComponent),n=t,a=[{key:"_getCards",value:function(e){if(e)return e.map(function(e){return o.a.createElement(l.a,{key:e.id,material:e})})}},{key:"getDerivedStateFromProps",value:function(e,t){return e.term!==t.term?{emptyResult:!1,filter:w.value,term:e.term}:null}}],(r=[{key:"render",value:function(){return this.state.emptyResult?o.a.createElement(c.b,{id:"search-materials.no_materials_found",values:{$1:this.state.term}}):o.a.createElement(u.b,{key:this.state.term+this.props.user_id,loadPromise:this._loadProm,optionElems:o.a.createElement(m.e,{key:"type",selected:{filter:this.state.filter},onChange:this._filterChange,showSections:{filter:!0}}),data:this.state.data,title:"swimlane.materials",slug:"search_".concat(this.state.filter)})}},{key:"_filterChange",value:function(e){var t=e.filter;this.setState({filter:t})}},{key:"_loadProm",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=((arguments.length>1?arguments[1]:void 0).filter,arguments.length>2?arguments[2]:void 0),r=this.state.filter;switch(r){case m.c.value:r="none";break;case m.d.value:r="ggb";break;case m.a.value:r="book"}return Object(s.d)(this.context.store,this.state.term,{offset:t,type:r,limit:u.a.BATCH_SIZE,ignoreUser:this.props.ignoreUser,onlyQCMaterials:this.props.onlyQCMaterials},n).then(function(e){return e.responses.response}).then(function(n){return e.setState({emptyResult:0===t&&!n.item}),n}).then(this._mapData.bind(this))}},{key:"_mapData",value:function(e){if(e.item&&Array.isArray(e.item)){if(e.item.length>u.a.BATCH_SIZE-4){var n=Array.from(new Array(u.a.BATCH_SIZE));return t._getCards(f.g.createArrayFromOldAPIObjects(this.context.store,e.item)).map(function(e,t){return n[t]=e}),n}return t._getCards(f.g.createArrayFromOldAPIObjects(this.context.store,e.item))}return"object"===d(e.item)?t._getCards(f.g.createArrayFromOldAPIObjects(this.context.store,[e.item])):[]}}])&&b(n.prototype,r),a&&b(n,a),t}();_(E,"contextTypes",{store:i.a.object}),_(E,"propTypes",{term:i.a.string,ignoreUser:i.a.bool,onlyQCMaterials:i.a.bool});t.a=Object(p.b)(function(e){return{user_id:e.userState.user.id}})(E)},function(e,t,n){var r=n(752),o=n(729),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var i=e[t];a.call(e,t)&&o(i,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(625).Symbol;e.exports=r},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(755),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=a&&a.exports===o&&r.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=s}).call(this,n(174)(e))},function(e,t,n){var r=n(657)(n(625),"Map");e.exports=r},function(e,t,n){var r=n(854),o=n(764),a=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(e){return null==e?[]:(e=Object(e),r(i(e),function(t){return a.call(e,t)}))}:o;e.exports=s},function(e,t,n){var r=n(858),o=n(733),a=n(859),i=n(860),s=n(861),c=n(685),l=n(756),u=l(r),p=l(o),f=l(a),m=l(i),h=l(s),d=c;(r&&"[object DataView]"!=d(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=d(new o)||a&&"[object Promise]"!=d(a.resolve())||i&&"[object Set]"!=d(new i)||s&&"[object WeakMap]"!=d(new s))&&(d=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case u:return"[object DataView]";case p:return"[object Map]";case f:return"[object Promise]";case m:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=d},function(e,t,n){var r=n(864);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(647);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M13 9h5.5L13 3.5V9M6 2h8l6 6v12c0 1.1-.9 2-2 2H6a2 2 0 0 1-2-2V4c0-1.11.89-2 2-2m9 16v-2H6v2h9m3-4v-2H6v2h12z"}))};h.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,p(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"render",value:function(){return o.a.createElement(s.a,{titleKey:"no-result.resource-title",subtitleKey:this.props.isOwn?"no-result.resource-subtitle-own":"no-result.resource-subtitle",subtitleVariable1:this.props.userDisplayName,Icon:h})}}])&&l(n.prototype,r),a&&l(n,a),t}();m(d,"propTypes",{isOwn:i.a.bool,userDisplayName:i.a.string}),m(d,"defaultProps",{isOwn:!1})},,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(721),i=n(627),s=n.n(i),c=n(1),l=n.n(c),u=n(23),p=n(4),f=n(667),m=n(623),h=n(27),d=n(73);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=v(t).call(this,e))||"object"!==b(o)&&"function"!=typeof o?g(r):o)._openPostDialog=n._openPostDialog.bind(g(n)),n._onCloseDialog=n._onCloseDialog.bind(g(n)),n._saveCallback=n._saveCallback.bind(g(n)),n.state={dialogOpen:!1},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props.creator;return e&&e.id>0?o.a.createElement("div",{className:"post"},this.state.dialogOpen&&o.a.createElement(f.a,{onReady:this._saveCallback,onClose:this._onCloseDialog}),o.a.createElement("a",{onClick:this._openPostDialog,className:"grey-text"},o.a.createElement("div",{className:"post-card card"},o.a.createElement("div",{className:"post-title-bar"},o.a.createElement("div",{className:"post-author-img left",title:e.displayname},o.a.createElement("img",{className:"circle",src:e.avatar,alt:e.displayname})),o.a.createElement("div",{className:"post-placeholder"},o.a.createElement(p.b,{id:"post.placeholder"})))))):null}},{key:"_saveCallback",value:function(e){var t=this;return Object(m.d)(this.context.store,e).then(function(e){Object(d.d)(e.id),t.props.onSavePost(e)}).catch(function(e){switch(e.response&&e.response.code){case"err_invalid_type":Object(h.c)(t.context.store,{id:"post.invalid_attachment"});break;case"err_empty_post":Object(h.c)(t.context.store,{id:"post.empty_post"});break;case"err_invalid_filesize":Object(h.c)(t.context.store,{id:"post.invalid_filesize"})}})}},{key:"_openPostDialog",value:function(){this.setState({dialogOpen:!0})}},{key:"_onCloseDialog",value:function(){this._isMounted&&this.setState({dialogOpen:!1})}}])&&y(n.prototype,r),a&&y(n,a),t}();w(E,"contextTypes",{store:l.a.object}),w(E,"propTypes",{onSavePost:l.a.func.isRequired});var O=Object(u.b)(function(e){return{creator:e.userState.user}})(E),j=n(71),k=n(5),S=n(96),x=n(170),P=n(647);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4a2 2 0 0 0-2-2z"}))};R.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var L=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),D(this,N(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"render",value:function(){return o.a.createElement(P.a,{titleKey:"no-result.posts-title",subtitleKey:this.props.isOwn?"no-result.posts-subtitle-own":"no-result.posts-subtitle",subtitleVariable1:this.props.userDisplayName,Icon:R})}}])&&T(n.prototype,r),a&&T(n,a),t}();function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}A(L,"propTypes",{isOwn:l.a.bool,userDisplayName:l.a.string}),A(L,"defaultProps",{isOwn:!1});var W=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=B(t).call(this,e))||"object"!==z(o)&&"function"!=typeof o?U(r):o).page=e.postList?1:0,n.state={post_list:e.postList?n._mapPosts(e.postList,0):[],hasMore:!e.postList||e.postList.length>=t.BATCH_SIZE},n._loadFunc=n._loadFunc.bind(U(n)),n._addToList=n._addToList.bind(U(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,o.a.Component),n=t,i=[{key:"loadData",value:function(e,n){return Object(m.g)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){H(e,t,n[t])})}return e}({},n,{limit:t.BATCH_SIZE,language:e.getState().userState.user.lang_ui}))}}],(r=[{key:"componentWillMount",value:function(){this._isMounted=!0,(!this.state.post_list||this.state.post_list<=0)&&this._reset(this.props)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentWillReceiveProps",value:function(e){this.props.type===e.type&&this.props.user.id===e.user.id||this._reset(e,!0)}},{key:"render",value:function(){var e=this,t=this.props.user.id===this.props.logged_in_user_id;return o.a.createElement("div",{className:"col s12 post-list"},t&&o.a.createElement(O,{onSavePost:this._addToList}),o.a.createElement(s.a,{className:"col s12 post-list",loadMore:this._loadFunc,hasMore:this.state.hasMore,threshold:500,initialLoad:!1,loader:o.a.createElement("div",{key:0,className:"loader",style:{height:"250px"}},o.a.createElement(j.a,null))},o.a.createElement(S.TransitionGroup,{component:"ul"},this.state.post_list&&this.state.post_list.length||this.state.hasMore?this.state.post_list.map(function(t,n){return o.a.createElement(x.c,{key:t.id},o.a.createElement(a.a,{post:t,onDelete:function(){return e._removePost(n)}}))}):o.a.createElement(x.c,{key:"emtpy_post"},o.a.createElement("li",{className:"post"},o.a.createElement(L,{isOwn:t,userDisplayName:this.props.user.displayname}))))))}},{key:"_removePost",value:function(e){var t=F(this.state.post_list);t.splice(e,1),this.setState({post_list:t})}},{key:"_reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&e.postList||(this.page=0,this.setState({post_list:[],hasMore:!0}),this._loadFunc(this.page,e))}},{key:"_loadFunc",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props;if(k.a){var o=this.page++*t.BATCH_SIZE;t.loadData(this.context.store,{type:r.type,offset:o,user_id:r.user.id,retryFunction:o>0?function(){return n._loadFunc()}:void 0}).then(function(e){if(n._isMounted){var r=n._mapPosts(e,o);r?n.setState({post_list:r,hasMore:e.length===t.BATCH_SIZE}):n.setState({hasMore:!1})}}).catch(function(e){n._isMounted&&(n.page--,n.setState({hasMore:!1}))})}}},{key:"_addToList",value:function(e){this.setState({post_list:[e].concat(this.state.post_list)})}},{key:"_mapPosts",value:function(e,t){if(e&&e.length){var n=this.state?F(this.state.post_list):[];return n.splice.apply(n,[t,e.length].concat(F(e))),n}}}])&&I(n.prototype,r),i&&I(n,i),t}();H(W,"propTypes",{type:l.a.oneOf(["timeline","home"]).isRequired,user:l.a.object,postList:l.a.array}),H(W,"contextTypes",{store:l.a.object}),H(W,"BATCH_SIZE",10);t.a=Object(u.b)(function(e){return{logged_in_user_id:e.userState.user.id}})(W)},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(4),c=n(99);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){return o.a.createElement("svg",e,o.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}))};h.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var d,b,y,v=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=p(t).call(this,e))||"object"!==l(o)&&"function"!=typeof o?f(r):o).state={showModal:!1},n._goModal=n._goModal.bind(f(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"announcement yellow darken-3 white-text",onClick:this._goModal},this.props.children,o.a.createElement("a",{className:"right white-text btn-flat banner-btn-more",onClick:this._goModal},o.a.createElement(s.b,{id:"post-card.show_more"})),this.state.showModal&&o.a.createElement(c.a,{option1Key:"general-dialog.gotit",cancelKey:this.props.dismissable?"general-dialog.cancel":void 0,onOption1:this.props.dismissable?this.props.onDismiss:void 0,onClose:function(){return e.setState({showModal:!1})}},this.props.children),this.props.dismissable&&o.a.createElement("a",{onClick:this.props.onDismiss,disabled:this.props.inProgress,className:"banner-btn-dismiss"},o.a.createElement(s.b,{id:"general-dialog.dismiss"},function(e){return o.a.createElement(h,{className:"icon white-fill non-transparent iclose",title:e})})))}},{key:"_goModal",value:function(){this.setState({showModal:!0})}}])&&u(n.prototype,r),a&&u(n,a),t}();d=v,b="propTypes",y={dismissable:i.a.bool,onDismiss:i.a.func},b in d?Object.defineProperty(d,b,{value:y,enumerable:!0,configurable:!0,writable:!0}):d[b]=y;var g=n(44),_=n(724);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(e,n){var r,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(r=!(a=O(t).call(this,e))||"object"!==w(a)&&"function"!=typeof a?j(o):a)._onDismiss=r._onDismiss.bind(j(r)),r.state={dismissed:_.a&&!_.c&&"".concat(Object(g.c)(n.cookies,"maintenanceBanner"))===_.a.valueOf().toString()},r.message_values={},_.c?(r.dismissable=!1,_.d?(r.message_id="maintenance-banner.message-active-time",r.message_values={$1:t._getFormattedDateTime(_.d)}):r.message_id="maintenance-banner.message-active"):_.a&&(r.dismissable=!0,_.d?(r.message_id="maintenance-banner.message-announcement-duration",r.message_values={$1:t._getFormattedDateTime(_.a),$2:_.b}):(r.message_id="maintenance-banner.message-announcement",r.message_values={$1:t._getFormattedDateTime(_.a)})),r}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,o.a.Component),n=t,a=[{key:"_getFormattedDateTime",value:function(e){return o.a.createElement("span",null,o.a.createElement(s.a,{value:e})," ",o.a.createElement(s.d,{value:e}))}}],(r=[{key:"render",value:function(){return this.state.dismissed||!this.message_id?null:o.a.createElement("div",{className:"maintenance-banner"},o.a.createElement(v,{dismissable:this.dismissable,onDismiss:this._onDismiss},o.a.createElement(s.b,{id:this.message_id,values:this.message_values})))}},{key:"_onDismiss",value:function(){Object(g.e)(this.context.cookies,"maintenanceBanner",_.a.valueOf(),86400),this.setState({dismissed:!0})}}])&&E(n.prototype,r),a&&E(n,a),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(S,"contextTypes",{cookies:i.a.object});var x=S;function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return M});var M=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),T(this,D(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",{className:"fixed-announcement banner-container"},o.a.createElement(x,null))}}])&&C(n.prototype,r),a&&C(n,a),t}()},function(e,t,n){var r=n(753);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(657),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t,n){var r=n(685),o=n(633),a="[object AsyncFunction]",i="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";e.exports=function(e){if(!o(e))return!1;var t=r(e);return t==i||t==s||t==a||t==c}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(87))},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e){return e}},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var o=typeof e;return!!(t=null==t?n:t)&&("number"==o||"symbol"!=o&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(811),o=n(812),a=n(730),i=n(761),s=n(759),c=n(815),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),u=!n&&o(e),p=!n&&!u&&i(e),f=!n&&!u&&!p&&c(e),m=n||u||p||f,h=m?r(e.length,String):[],d=h.length;for(var b in e)!t&&!l.call(e,b)||m&&("length"==b||p&&("offset"==b||"parent"==b)||f&&("buffer"==b||"byteLength"==b||"byteOffset"==b)||s(b,d))||h.push(b);return h}},function(e,t,n){(function(e){var r=n(625),o=n(814),a=t&&!t.nodeType&&t,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===a?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;e.exports=c}).call(this,n(174)(e))},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(760),o=n(849),a=n(707);e.exports=function(e){return a(e)?r(e,!0):o(e)}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(766),o=n(767),a=n(734),i=n(764),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,a(e)),e=o(e);return t}:i;e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},function(e,t,n){var r=n(762)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(766),o=n(730);e.exports=function(e,t,n){var a=t(e);return o(e)?a:r(a,n(e))}},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(794)},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(i)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=a,n=i,r=!0,s=l=void 0}};function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s,c,l,u,p,f=n(0),m=a(f),h=a(n(1)),d=n(935),b=a(n(714)),y=a(n(88)),v=0,g="transform",_=!0,w=0,E=-1,O=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.handleResize=this.handleResize.bind(this),this.handleScroll=this.handleScroll.bind(this),this.handleScrollStart=this.handleScrollStart.bind(this),this.delta=0,this.stickyTop=0,this.stickyBottom=0,this.frozen=!1,this.skipNextScrollEvent=!1,this.scrollTop=-1,this.bottomBoundaryTarget,this.topTarget,this.subscribers,this.state={top:0,bottom:0,width:0,height:0,x:0,y:0,topBoundary:0,bottomBoundary:1/0,status:v,pos:0,activated:!1}}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.Component),r(t,[{key:"getTargetHeight",value:function(e){return e&&e.offsetHeight||0}},{key:"getTopPosition",value:function(e){return"string"==typeof(e=e||this.props.top||this.props.topTarget||0)&&(this.topTarget||(this.topTarget=s.querySelector(e)),e=this.getTargetHeight(this.topTarget)),e}},{key:"getTargetBottom",value:function(e){if(!e)return-1;var t=e.getBoundingClientRect();return this.scrollTop+t.bottom}},{key:"getBottomBoundary",value:function(e){var t=e||this.props.bottomBoundary;return"object"==typeof t&&(t=t.value||t.target||0),"string"==typeof t&&(this.bottomBoundaryTarget||(this.bottomBoundaryTarget=s.querySelector(t)),t=this.getTargetBottom(this.bottomBoundaryTarget)),t&&t>0?t:1/0}},{key:"reset",value:function(){this.setState({status:v,pos:0})}},{key:"release",value:function(e){this.setState({status:1,pos:e-this.state.y})}},{key:"fix",value:function(e){this.setState({status:2,pos:e})}},{key:"updateInitialDimension",value:function(e){e=e||{};var t=this.outerElement.getBoundingClientRect(),n=this.innerElement.getBoundingClientRect(),r=t.width||t.right-t.left,o=n.height||n.bottom-n.top,a=t.top+this.scrollTop;this.setState({top:this.getTopPosition(e.top),bottom:Math.min(this.state.top+o,E),width:r,height:o,x:t.left,y:a,bottomBoundary:this.getBottomBoundary(e.bottomBoundary),topBoundary:a})}},{key:"handleResize",value:function(e,t){this.props.shouldFreeze()||(E=t.resize.height,this.updateInitialDimension(),this.update())}},{key:"handleScrollStart",value:function(e,t){this.frozen=this.props.shouldFreeze(),this.frozen||(this.scrollTop===t.scroll.top?this.skipNextScrollEvent=!0:(this.scrollTop=t.scroll.top,this.updateInitialDimension()))}},{key:"handleScroll",value:function(e,t){this.skipNextScrollEvent?this.skipNextScrollEvent=!1:(w=t.scroll.delta,this.scrollTop=t.scroll.top,this.update())}},{key:"update",value:function(){if(!this.props.enabled||this.state.bottomBoundary-this.state.topBoundary<=this.state.height||0===this.state.width&&0===this.state.height)this.state.status!==v&&this.reset();else{var e=w,t=this.scrollTop+this.state.top,n=this.scrollTop+this.state.bottom;if(t<=this.state.topBoundary)this.reset();else if(n>=this.state.bottomBoundary)this.stickyBottom=this.state.bottomBoundary,this.stickyTop=this.stickyBottom-this.state.height,this.release(this.stickyTop);else if(this.state.height>E-this.state.top)switch(this.state.status){case v:this.release(this.state.y),this.stickyTop=this.state.y,this.stickyBottom=this.stickyTop+this.state.height;case 1:this.stickyBottom=this.stickyTop+this.state.height,e>0&&n>this.stickyBottom?this.fix(this.state.bottom-this.state.height):e<0&&t<this.stickyTop&&this.fix(this.state.top);break;case 2:var r=!0,o=this.state.pos,a=this.state.height;if(e>0&&o===this.state.top)this.stickyTop=t-e,this.stickyBottom=this.stickyTop+a;else if(e<0&&o===this.state.bottom-a)this.stickyBottom=n-e,this.stickyTop=this.stickyBottom-a;else if(o!==this.state.bottom-a&&o!==this.state.top){var i=o+a-this.state.bottom;this.stickyBottom=n-e+i,this.stickyTop=this.stickyBottom-a}else r=!1;r&&this.release(this.stickyTop)}else this.fix(this.state.top);this.delta=e}}},{key:"componentWillReceiveProps",value:function(e){this.updateInitialDimension(e),this.update()}},{key:"componentDidUpdate",value:function(e,t){var n=this;t.status!==this.state.status&&this.props.onStateChange&&this.props.onStateChange({status:this.state.status}),e.enabled!==this.props.enabled&&(this.props.enabled?this.setState({activated:!0},function(){n.updateInitialDimension(),n.update()}):this.setState({activated:!1},function(){n.reset()}))}},{key:"componentWillUnmount",value:function(){for(var e=(this.subscribers||[]).length-1;e>=0;e--)this.subscribers[e].unsubscribe()}},{key:"componentDidMount",value:function(){p||(p=window,s=document,l=s.documentElement,c=s.body,E=p.innerHeight||l.clientHeight,(u=window.Modernizr)&&u.prefixed&&(_=u.csstransforms3d,g=u.prefixed("transform"))),this.scrollTop=c.scrollTop+l.scrollTop,this.props.enabled&&(this.setState({activated:!0}),this.updateInitialDimension(),this.update()),this.subscribers=[(0,d.subscribe)("scrollStart",this.handleScrollStart.bind(this),{useRAF:!0}),(0,d.subscribe)("scroll",this.handleScroll.bind(this),{useRAF:!0,enableScrollInfo:!0}),(0,d.subscribe)("resize",this.handleResize.bind(this),{enableResizeInfo:!0})]}},{key:"translate",value:function(e,t){_&&this.props.enableTransforms&&this.state.activated?e[g]="translate3d(0,"+Math.round(t)+"px,0)":e.top=t+"px"}},{key:"shouldComponentUpdate",value:function(e,t){return!(this.props.shouldFreeze()||(0,y.default)(this.props,e)&&(0,y.default)(this.state,t))}},{key:"render",value:function(){var e,t=this,n={position:2===this.state.status?"fixed":"relative",top:2===this.state.status?"0px":"",zIndex:this.props.innerZ},r={};this.translate(n,this.state.pos),this.state.status!==v&&(n.width=this.state.width+"px",r.height=this.state.height+"px");var o=(0,b.default)("sticky-outer-wrapper",this.props.className,(i(e={},this.props.activeClass,2===this.state.status),i(e,this.props.releasedClass,1===this.state.status),e)),a=this.props.children;return m.default.createElement("div",{ref:function(e){t.outerElement=e},className:o,style:r},m.default.createElement("div",{ref:function(e){t.innerElement=e},className:"sticky-inner-wrapper",style:n},"function"==typeof a?a({status:this.state.status}):a))}}]),t}();O.displayName="Sticky",O.defaultProps={shouldFreeze:function(){return!1},enabled:!0,top:0,bottomBoundary:0,enableTransforms:!0,activeClass:"active",releasedClass:"released",onStateChange:null},O.propTypes={enabled:h.default.bool,top:h.default.oneOfType([h.default.string,h.default.number]),bottomBoundary:h.default.oneOfType([h.default.object,h.default.string,h.default.number]),enableTransforms:h.default.bool,activeClass:h.default.string,releasedClass:h.default.string,onStateChange:h.default.func,shouldFreeze:h.default.func,innerZ:h.default.oneOfType([h.default.string,h.default.number])},O.STATUS_ORIGINAL=v,O.STATUS_RELEASED=1,O.STATUS_FIXED=2,e.exports=O},function(e,t,n){var r=n(727),o=n(686),a=n(802),i=n(707),s=n(708),c=n(709),l=Object.prototype.hasOwnProperty,u=a(function(e,t){if(s(t)||i(t))o(t,c(t),e);else for(var n in t)l.call(t,n)&&r(e,n,t[n])});e.exports=u},function(e,t,n){var r=n(754),o=n(799),a=n(633),i=n(756),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,p=l.hasOwnProperty,f=RegExp("^"+u.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||o(e))&&(r(e)?f:s).test(i(e))}},function(e,t,n){var r=n(728),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=i.call(e);return r&&(t?e[s]=n:delete e[s]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r,o=n(800),a=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!a&&a in e}},function(e,t,n){var r=n(625)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(803),o=n(810);e.exports=function(e){return r(function(t,n){var r=-1,a=n.length,i=a>1?n[a-1]:void 0,s=a>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(a--,i):void 0,s&&o(n[0],n[1],s)&&(i=a<3?void 0:i,a=1),t=Object(t);++r<a;){var c=n[r];c&&e(t,c,r,i)}return t})}},function(e,t,n){var r=n(757),o=n(804),a=n(806);e.exports=function(e,t){return a(o(e,t,r),e+"")}},function(e,t,n){var r=n(805),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var a=arguments,i=-1,s=o(a.length-t,0),c=Array(s);++i<s;)c[i]=a[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=a[i];return l[t]=n(c),r(e,this,l)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(807),o=n(809)(r);e.exports=o},function(e,t,n){var r=n(808),o=n(753),a=n(757),i=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a;e.exports=i},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var n=800,r=16,o=Date.now;e.exports=function(e){var t=0,a=0;return function(){var i=o(),s=r-(i-a);if(a=i,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(729),o=n(707),a=n(759),i=n(633);e.exports=function(e,t,n){if(!i(n))return!1;var s=typeof t;return!!("number"==s?o(n)&&a(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(813),o=n(679),a=Object.prototype,i=a.hasOwnProperty,s=a.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return o(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},function(e,t,n){var r=n(685),o=n(679),a="[object Arguments]";e.exports=function(e){return o(e)&&r(e)==a}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(816),o=n(731),a=n(732),i=a&&a.isTypedArray,s=i?o(i):r;e.exports=s},function(e,t,n){var r=n(685),o=n(758),a=n(679),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&o(e.length)&&!!i[r(e)]}},function(e,t,n){var r=n(708),o=n(818),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(762)(Object.keys,Object);e.exports=r},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,o="~";function a(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new i(n,r||e,a),c=o?o+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function c(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function l(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(o=!1)),l.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},l.prototype.listeners=function(e){var t=o?o+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,a=n.length,i=new Array(a);r<a;r++)i[r]=n[r].fn;return i},l.prototype.listenerCount=function(e){var t=o?o+e:e,n=this._events[t];return n?n.fn?1:n.length:0},l.prototype.emit=function(e,t,n,r,a,i){var s=o?o+e:e;if(!this._events[s])return!1;var c,l,u=this._events[s],p=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),p){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,r),!0;case 5:return u.fn.call(u.context,t,n,r,a),!0;case 6:return u.fn.call(u.context,t,n,r,a,i),!0}for(l=1,c=new Array(p-1);l<p;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var f,m=u.length;for(l=0;l<m;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),p){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,n);break;case 4:u[l].fn.call(u[l].context,t,n,r);break;default:if(!c)for(f=1,c=new Array(p-1);f<p;f++)c[f-1]=arguments[f];u[l].fn.apply(u[l].context,c)}}return!0},l.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},l.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},l.prototype.removeListener=function(e,t,n,r){var a=o?o+e:e;if(!this._events[a])return this;if(!t)return c(this,a),this;var i=this._events[a];if(i.fn)i.fn!==t||r&&!i.once||n&&i.context!==n||c(this,a);else{for(var s=0,l=[],u=i.length;s<u;s++)(i[s].fn!==t||r&&!i[s].once||n&&i[s].context!==n)&&l.push(i[s]);l.length?this._events[a]=1===l.length?l[0]:l:c(this,a)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&c(this,t)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=o,l.EventEmitter=l,e.exports=l},function(e,t,n){var r=n(821),o=4;e.exports=function(e){return r(e,o)}},function(e,t,n){var r=n(822),o=n(846),a=n(727),i=n(847),s=n(848),c=n(851),l=n(852),u=n(853),p=n(855),f=n(856),m=n(857),h=n(735),d=n(862),b=n(863),y=n(869),v=n(730),g=n(761),_=n(871),w=n(633),E=n(873),O=n(709),j=1,k=2,S=4,x="[object Arguments]",P="[object Function]",C="[object GeneratorFunction]",T="[object Object]",D={};D[x]=D["[object Array]"]=D["[object ArrayBuffer]"]=D["[object DataView]"]=D["[object Boolean]"]=D["[object Date]"]=D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Map]"]=D["[object Number]"]=D[T]=D["[object RegExp]"]=D["[object Set]"]=D["[object String]"]=D["[object Symbol]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D["[object Error]"]=D[P]=D["[object WeakMap]"]=!1,e.exports=function e(t,n,N,M,A,R){var L,z=n&j,F=n&k,I=n&S;if(N&&(L=A?N(t,M,A,R):N(t)),void 0!==L)return L;if(!w(t))return t;var B=v(t);if(B){if(L=d(t),!z)return l(t,L)}else{var U=h(t),q=U==P||U==C;if(g(t))return c(t,z);if(U==T||U==x||q&&!A){if(L=F||q?{}:y(t),!z)return F?p(t,s(L,t)):u(t,i(L,t))}else{if(!D[U])return A?t:{};L=b(t,U,z)}}R||(R=new r);var H=R.get(t);if(H)return H;if(R.set(t,L),E(t))return t.forEach(function(r){L.add(e(r,n,N,r,t,R))}),L;if(_(t))return t.forEach(function(r,o){L.set(o,e(r,n,N,o,t,R))}),L;var W=I?F?m:f:F?keysIn:O,V=B?void 0:W(t);return o(V||t,function(r,o){V&&(r=t[o=r]),a(L,o,e(r,n,N,o,t,R))}),L}},function(e,t,n){var r=n(710),o=n(828),a=n(829),i=n(830),s=n(831),c=n(832);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=o,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=s,l.prototype.set=c,e.exports=l},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(711),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(711);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(711);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(711);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(710);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(710),o=n(733),a=n(833),i=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!o||s.length<i-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(s)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(834),o=n(841),a=n(843),i=n(844),s=n(845);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=i,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(835),o=n(710),a=n(733);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||o),string:new r}}},function(e,t,n){var r=n(836),o=n(837),a=n(838),i=n(839),s=n(840);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=i,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(712);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(712),o="__lodash_hash_undefined__",a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===o?void 0:n}return a.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(712),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},function(e,t,n){var r=n(712),o="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?o:t,this}},function(e,t,n){var r=n(713);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(713);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(713);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(713);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(686),o=n(709);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(686),o=n(763);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(633),o=n(708),a=n(850),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=o(e),n=[];for(var s in e)("constructor"!=s||!t&&i.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){(function(e){var r=n(625),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=a&&a.exports===o?r.Buffer:void 0,s=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(174)(e))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(686),o=n(734);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,a=[];++n<r;){var i=e[n];t(i,n,e)&&(a[o++]=i)}return a}},function(e,t,n){var r=n(686),o=n(765);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t,n){var r=n(768),o=n(734),a=n(709);e.exports=function(e){return r(e,a,o)}},function(e,t,n){var r=n(768),o=n(765),a=n(763);e.exports=function(e){return r(e,a,o)}},function(e,t,n){var r=n(657)(n(625),"DataView");e.exports=r},function(e,t,n){var r=n(657)(n(625),"Promise");e.exports=r},function(e,t,n){var r=n(657)(n(625),"Set");e.exports=r},function(e,t,n){var r=n(657)(n(625),"WeakMap");e.exports=r},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(736),o=n(865),a=n(866),i=n(867),s=n(868),c="[object Boolean]",l="[object Date]",u="[object Map]",p="[object Number]",f="[object RegExp]",m="[object Set]",h="[object String]",d="[object Symbol]",b="[object ArrayBuffer]",y="[object DataView]",v="[object Float32Array]",g="[object Float64Array]",_="[object Int8Array]",w="[object Int16Array]",E="[object Int32Array]",O="[object Uint8Array]",j="[object Uint8ClampedArray]",k="[object Uint16Array]",S="[object Uint32Array]";e.exports=function(e,t,n){var x=e.constructor;switch(t){case b:return r(e);case c:case l:return new x(+e);case y:return o(e,n);case v:case g:case _:case w:case E:case O:case j:case k:case S:return s(e,n);case u:return new x;case p:case h:return new x(e);case f:return a(e);case m:return new x;case d:return i(e)}}},function(e,t,n){var r=n(625).Uint8Array;e.exports=r},function(e,t,n){var r=n(736);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(728),o=r?r.prototype:void 0,a=o?o.valueOf:void 0;e.exports=function(e){return a?Object(a.call(e)):{}}},function(e,t,n){var r=n(736);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(870),o=n(767),a=n(708);e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:r(o(e))}},function(e,t,n){var r=n(633),o=Object.create,a=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=a},function(e,t,n){var r=n(872),o=n(731),a=n(732),i=a&&a.isMap,s=i?o(i):r;e.exports=s},function(e,t,n){var r=n(735),o=n(679),a="[object Map]";e.exports=function(e){return o(e)&&r(e)==a}},function(e,t,n){var r=n(874),o=n(731),a=n(732),i=a&&a.isSet,s=i?o(i):r;e.exports=s},function(e,t,n){var r=n(735),o=n(679),a="[object Set]";e.exports=function(e){return o(e)&&r(e)==a}},function(e,t,n){var r=n(876),o=n(633),a="Expected a function";e.exports=function(e,t,n){var i=!0,s=!0;if("function"!=typeof e)throw new TypeError(a);return o(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:i,maxWait:t,trailing:s})}},function(e,t,n){var r=n(633),o=n(877),a=n(878),i="Expected a function",s=Math.max,c=Math.min;e.exports=function(e,t,n){var l,u,p,f,m,h,d=0,b=!1,y=!1,v=!0;if("function"!=typeof e)throw new TypeError(i);function g(t){var n=l,r=u;return l=u=void 0,d=t,f=e.apply(r,n)}function _(e){var n=e-h;return void 0===h||n>=t||n<0||y&&e-d>=p}function w(){var e=o();if(_(e))return E(e);m=setTimeout(w,function(e){var n=t-(e-h);return y?c(n,p-(e-d)):n}(e))}function E(e){return m=void 0,v&&l?g(e):(l=u=void 0,f)}function O(){var e=o(),n=_(e);if(l=arguments,u=this,h=e,n){if(void 0===m)return function(e){return d=e,m=setTimeout(w,t),b?g(e):f}(h);if(y)return m=setTimeout(w,t),g(h)}return void 0===m&&(m=setTimeout(w,t)),f}return t=a(t)||0,r(n)&&(b=!!n.leading,p=(y="maxWait"in n)?s(a(n.maxWait)||0,t):p,v="trailing"in n?!!n.trailing:v),O.cancel=function(){void 0!==m&&clearTimeout(m),d=0,l=h=u=m=void 0},O.flush=function(){return void 0===m?f:E(o())},O}},function(e,t,n){var r=n(625);e.exports=function(){return r.Date.now()}},function(e,t,n){var r=n(633),o=n(879),a=NaN,i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return a;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=c.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):s.test(e)?a:+e}},function(e,t,n){var r=n(685),o=n(679),a="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||o(e)&&r(e)==a}},function(e,t){e.exports=function(){}},function(e,t,n){(function(t){for(var r=n(882),o="undefined"==typeof window?t:window,a=["moz","webkit"],i="AnimationFrame",s=o["request"+i],c=o["cancel"+i]||o["cancelRequest"+i],l=0;!s&&l<a.length;l++)s=o[a[l]+"Request"+i],c=o[a[l]+"Cancel"+i]||o[a[l]+"CancelRequest"+i];if(!s||!c){var u=0,p=0,f=[];s=function(e){if(0===f.length){var t=r(),n=Math.max(0,1e3/60-(t-u));u=n+t,setTimeout(function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return f.push({handle:++p,callback:e,cancelled:!1}),p},c=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return s.call(o,e)},e.exports.cancel=function(){c.apply(o,arguments)},e.exports.polyfill=function(e){e||(e=o),e.requestAnimationFrame=s,e.cancelAnimationFrame=c}}).call(this,n(87))},function(e,t,n){(function(t){(function(){var n,r,o,a,i,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(n()-i)/1e6},r=t.hrtime,a=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})(),s=1e9*t.uptime(),i=a-s):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,n(255))},function(e,t){e.exports={ltr:"/assets/styles/cropper-ltr.2ed08945.css",rtl:"/assets/styles/cropper-rtl.2ed08945.css"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(795),o=n.n(r),a=n(819),i=n.n(a),s=!1;if("undefined"!=typeof window)try{var c=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("test",null,c)}catch(e){}var l=s,u={connections:{},EE:new i.a,enableResizeInfo:!1,enableScrollInfo:!1,listeners:{},removers:[],supportPassiveEvent:l},p=u.supportPassiveEvent,f={capture:!1,passive:!1};var m=function(e,t,n,r){var a="addEventListener",i="removeEventListener",s=t,c=!!p&&o()({},f,r);return!e.addEventListener&&e.attachEvent&&(a="attachEvent",i="detachEvent",s="on"+t),e[a](s,n,c),{remove:function(){e[i](t,n)}}},h=!1;if("undefined"!=typeof navigator){var d=navigator.userAgent.match(/MSIE (\d+\.\d+)/);d&&(h=parseFloat(d[1],10)<9)}var b=h,y=n(820),v=n.n(y),g=n(875),_=n.n(g),w=n(880),E=n.n(w),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var j={width:0,height:0},k={delta:0,top:0},S={axisIntention:"",startX:0,startY:0,deltaX:0,deltaY:0},x=function(e){var t={x:0,y:0},n=document.body,r=document.documentElement;return e.pageX||e.pageY?(t.x=e.pageX,t.y=e.pageY):(t.x=e.clientX+n.scrollLeft+r.scrollLeft,t.y=e.clientY+n.scrollTop+r.scrollTop),t},P=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=(t.mainType||"").toLowerCase(),r=(t.subType||"").toLowerCase();this.mainType=n,this.subType=r,this.type=n+r.charAt(0).toUpperCase()+r.slice(1)||"",this.scroll=k,this.resize=j,this.touch=S}return O(e,[{key:"update",value:function(e){var t=this.mainType,n=this.subType,r=document.documentElement;if(u.enableScrollInfo&&("scroll"===t||"touchmove"===t)){var o=r.scrollTop+document.body.scrollTop;o!==this.scroll.top&&(this.scroll.delta=o-this.scroll.top,this.scroll.top=o)}if(u.enableResizeInfo&&"resize"===t&&(this.resize.width=window.innerWidth||r.clientWidth,this.resize.height=window.innerHeight||r.clientHeight),u.enableTouchInfo&&e.touches&&("touchstart"===t||"touchmove"===t||"touchend"===t)){var a=void 0,i=void 0,s=void 0;"touchstart"===t||"start"===n?(a=x(e.touches[0]),this.touch.axisIntention="",this.touch.startX=a.x,this.touch.startY=a.y,this.touch.deltaX=0,this.touch.deltaY=0):"touchmove"===t&&(a=x(e.touches[0]),this.touch.deltaX=a.x-this.touch.startX,this.touch.deltaY=a.y-this.touch.startY,""===this.touch.axisIntention&&(i=Math.abs(this.touch.deltaX),s=Math.abs(this.touch.deltaY),i>5&&i>=s?this.touch.axisIntention="x":s>5&&s>i&&(this.touch.axisIntention="y")))}}}]),e}(),C=n(881),T=n.n(C),D=Date.now||function(){return(new Date).getTime()};var N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=void 0,r=void 0,o=0,a=0,i=function i(){var s=D();t-(s-o)<=0?(o=s,a=0,e.apply(n,r)):a=T()(i)};return function(){n=this,r=arguments,a||(a=T()(i))}},M=100,A=50,R=u.connections,L=u.EE,z=u.listeners,F=u.removers,I=void 0,B=void 0,U=void 0,q=0;function H(e){return e.id||"target-id-"+q++}function W(e,t,n,r){return L.on(e,t||E.a,n),R[r=r||e]=(R[r]||0)+1,{_type:e,_cb:t,_ctx:n,unsubscribe:function(){if(this._type){L.removeListener(e,t,n),R[r]--,0===R[r]&&(z[r].remove(),z[r]=void 0),this._type=void 0,this._cb=void 0,this._ctx=void 0;for(var o=F.length-1;o>=0;o--){if(F[o]===this){F.splice(o,1);break}}}}}}function V(e,t,n){return function(r,o,a,i){var s=a.context,c=a.target,l=c&&H(c),u=l?":"+l:"",p=t+"Start:"+r+u,f=t+"End:"+r+u,h=t+":"+r+u,d=W(n+":"+r+u,o,s,h);if(F.push(d),z[h])return d;var y={start:new P({mainType:t,subType:"start"}),main:new P({mainType:t}),end:new P({mainType:t,subType:"end"})};"raf"===r?(r=16,E=N(E)):r>0&&(E=_()(E,r));var g=void 0;function w(e){y.end.update(e),L.emit(f,e,y.end),g=null}function E(e){g||(y.start.update(e),L.emit(p,e,y.start)),clearTimeout(g),y.main.update(e),L.emit(h,e,y.main),g=b?setTimeout(function(){w(v()(e))},r+M):setTimeout(w.bind(null,e),r+M)}return z[h]=m(c||e,t,E,i),d}}function G(e,t){return function(n,r,o,a){var i=o.context,s=o.target,c=s&&H(s),l=t+":0"+(c?":"+c:""),u=W(l,r,i);if(F.push(u),z[l])return u;var p=new P({mainType:t});return z[l]=m(s||e,t,function(e){p.update(e),L.emit(l,e,p)},a),u}}"undefined"!=typeof window&&(U=(I=(B=window).document||document).body);var X={scrollStart:V(B,"scroll","scrollStart"),scrollEnd:V(B,"scroll","scrollEnd"),scroll:V(B,"scroll","scroll"),resizeStart:V(B,"resize","resizeStart"),resizeEnd:V(B,"resize","resizeEnd"),resize:V(B,"resize","resize"),visibilitychange:G(I,"visibilitychange"),touchmoveStart:V(U,"touchmove","touchmoveStart"),touchmoveEnd:V(U,"touchmove","touchmoveEnd"),touchmove:V(U,"touchmove","touchmove"),touchstart:G(U,"touchstart"),touchend:G(U,"touchend")};var $=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.useRAF||!1,o=parseInt(n.throttleRate,10),a=n.eventOptions;return isNaN(o)&&(o=A),r&&(o="raf"),b&&(o=0),u.enableScrollInfo=u.enableScrollInfo||n.enableScrollInfo||!1,u.enableResizeInfo=u.enableResizeInfo||n.enableResizeInfo||!1,u.enableTouchInfo=u.enableTouchInfo||n.enableTouchInfo||!1,X[e](o,t,n,a)},Z=u.removers;var K=function(e,t){for(var n=void 0,r=Z.length-1;r>=0;r-=1)(n=Z[r])._cb===t&&n._type.indexOf(e)>=0&&(n.unsubscribe(),Z.splice(r,1))};n.d(t,"listen",function(){return J}),n.d(t,"subscribe",function(){return ee}),n.d(t,"unsubscribe",function(){return te});var Y="undefined"!=typeof window;function Q(){0}var J=Y?m:Q,ee=Y?$:Q,te=Y?K:Q}])]);